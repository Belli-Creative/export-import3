const Ru=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))e(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&e(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function e(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}};Ru();function Yo(l,o){const t=Object.create(null),e=l.split(",");for(let r=0;r<e.length;r++)t[e[r]]=!0;return o?r=>!!t[r.toLowerCase()]:r=>!!t[r]}const Fu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Bu=Yo(Fu);function Qs(l){return!!l||l===""}function qo(l){if(Ce(l)){const o={};for(let t=0;t<l.length;t++){const e=l[t],r=ot(e)?Uu(e):qo(e);if(r)for(const n in r)o[n]=r[n]}return o}else{if(ot(l))return l;if(at(l))return l}}const Du=/;(?![^(]*\))/g,Iu=/:(.+)/;function Uu(l){const o={};return l.split(Du).forEach(t=>{if(t){const e=t.split(Iu);e.length>1&&(o[e[0].trim()]=e[1].trim())}}),o}function ye(l){let o="";if(ot(l))o=l;else if(Ce(l))for(let t=0;t<l.length;t++){const e=ye(l[t]);e&&(o+=e+" ")}else if(at(l))for(const t in l)l[t]&&(o+=t+" ");return o.trim()}const ke={},en=[],Nt=()=>{},Ou=()=>!1,Nu=/^on[^a-z]/,Si=l=>Nu.test(l),jo=l=>l.startsWith("onUpdate:"),it=Object.assign,Zo=(l,o)=>{const t=l.indexOf(o);t>-1&&l.splice(t,1)},Vu=Object.prototype.hasOwnProperty,Be=(l,o)=>Vu.call(l,o),Ce=Array.isArray,En=l=>Ai(l)==="[object Map]",ku=l=>Ai(l)==="[object Set]",Le=l=>typeof l=="function",ot=l=>typeof l=="string",$o=l=>typeof l=="symbol",at=l=>l!==null&&typeof l=="object",Js=l=>at(l)&&Le(l.then)&&Le(l.catch),Gu=Object.prototype.toString,Ai=l=>Gu.call(l),zu=l=>Ai(l).slice(8,-1),Hu=l=>Ai(l)==="[object Object]",Ko=l=>ot(l)&&l!=="NaN"&&l[0]!=="-"&&""+parseInt(l,10)===l,oi=Yo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ci=l=>{const o=Object.create(null);return t=>o[t]||(o[t]=l(t))},Wu=/-(\w)/g,jt=Ci(l=>l.replace(Wu,(o,t)=>t?t.toUpperCase():"")),Xu=/\B([A-Z])/g,mn=Ci(l=>l.replace(Xu,"-$1").toLowerCase()),Li=Ci(l=>l.charAt(0).toUpperCase()+l.slice(1)),Yi=Ci(l=>l?`on${Li(l)}`:""),Bn=(l,o)=>!Object.is(l,o),qi=(l,o)=>{for(let t=0;t<l.length;t++)l[t](o)},hi=(l,o,t)=>{Object.defineProperty(l,o,{configurable:!0,enumerable:!1,value:t})},Yu=l=>{const o=parseFloat(l);return isNaN(o)?l:o};let Ha;const qu=()=>Ha||(Ha=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Ht;class ju{constructor(o=!1){this.active=!0,this.effects=[],this.cleanups=[],!o&&Ht&&(this.parent=Ht,this.index=(Ht.scopes||(Ht.scopes=[])).push(this)-1)}run(o){if(this.active){const t=Ht;try{return Ht=this,o()}finally{Ht=t}}}on(){Ht=this}off(){Ht=this.parent}stop(o){if(this.active){let t,e;for(t=0,e=this.effects.length;t<e;t++)this.effects[t].stop();for(t=0,e=this.cleanups.length;t<e;t++)this.cleanups[t]();if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].stop(!0);if(this.parent&&!o){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}}}function Zu(l,o=Ht){o&&o.active&&o.effects.push(l)}const Qo=l=>{const o=new Set(l);return o.w=0,o.n=0,o},el=l=>(l.w&yr)>0,tl=l=>(l.n&yr)>0,$u=({deps:l})=>{if(l.length)for(let o=0;o<l.length;o++)l[o].w|=yr},Ku=l=>{const{deps:o}=l;if(o.length){let t=0;for(let e=0;e<o.length;e++){const r=o[e];el(r)&&!tl(r)?r.delete(l):o[t++]=r,r.w&=~yr,r.n&=~yr}o.length=t}},ho=new WeakMap;let xn=0,yr=1;const po=30;let It;const Nr=Symbol(""),mo=Symbol("");class Jo{constructor(o,t=null,e){this.fn=o,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,Zu(this,e)}run(){if(!this.active)return this.fn();let o=It,t=dr;for(;o;){if(o===this)return;o=o.parent}try{return this.parent=It,It=this,dr=!0,yr=1<<++xn,xn<=po?$u(this):Wa(this),this.fn()}finally{xn<=po&&Ku(this),yr=1<<--xn,It=this.parent,dr=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){It===this?this.deferStop=!0:this.active&&(Wa(this),this.onStop&&this.onStop(),this.active=!1)}}function Wa(l){const{deps:o}=l;if(o.length){for(let t=0;t<o.length;t++)o[t].delete(l);o.length=0}}let dr=!0;const rl=[];function vn(){rl.push(dr),dr=!1}function gn(){const l=rl.pop();dr=l===void 0?!0:l}function xt(l,o,t){if(dr&&It){let e=ho.get(l);e||ho.set(l,e=new Map);let r=e.get(t);r||e.set(t,r=Qo()),nl(r)}}function nl(l,o){let t=!1;xn<=po?tl(l)||(l.n|=yr,t=!el(l)):t=!l.has(It),t&&(l.add(It),It.deps.push(l))}function Jt(l,o,t,e,r,n){const i=ho.get(l);if(!i)return;let a=[];if(o==="clear")a=[...i.values()];else if(t==="length"&&Ce(l))i.forEach((s,c)=>{(c==="length"||c>=e)&&a.push(s)});else switch(t!==void 0&&a.push(i.get(t)),o){case"add":Ce(l)?Ko(t)&&a.push(i.get("length")):(a.push(i.get(Nr)),En(l)&&a.push(i.get(mo)));break;case"delete":Ce(l)||(a.push(i.get(Nr)),En(l)&&a.push(i.get(mo)));break;case"set":En(l)&&a.push(i.get(Nr));break}if(a.length===1)a[0]&&vo(a[0]);else{const s=[];for(const c of a)c&&s.push(...c);vo(Qo(s))}}function vo(l,o){const t=Ce(l)?l:[...l];for(const e of t)e.computed&&Xa(e);for(const e of t)e.computed||Xa(e)}function Xa(l,o){(l!==It||l.allowRecurse)&&(l.scheduler?l.scheduler():l.run())}const Qu=Yo("__proto__,__v_isRef,__isVue"),il=new Set(Object.getOwnPropertyNames(Symbol).filter(l=>l!=="arguments"&&l!=="caller").map(l=>Symbol[l]).filter($o)),Ju=ea(),ef=ea(!1,!0),tf=ea(!0),Ya=rf();function rf(){const l={};return["includes","indexOf","lastIndexOf"].forEach(o=>{l[o]=function(...t){const e=Ue(this);for(let n=0,i=this.length;n<i;n++)xt(e,"get",n+"");const r=e[o](...t);return r===-1||r===!1?e[o](...t.map(Ue)):r}}),["push","pop","shift","unshift","splice"].forEach(o=>{l[o]=function(...t){vn();const e=Ue(this)[o].apply(this,t);return gn(),e}}),l}function ea(l=!1,o=!1){return function(e,r,n){if(r==="__v_isReactive")return!l;if(r==="__v_isReadonly")return l;if(r==="__v_isShallow")return o;if(r==="__v_raw"&&n===(l?o?_f:cl:o?ll:sl).get(e))return e;const i=Ce(e);if(!l&&i&&Be(Ya,r))return Reflect.get(Ya,r,n);const a=Reflect.get(e,r,n);return($o(r)?il.has(r):Qu(r))||(l||xt(e,"get",r),o)?a:rt(a)?i&&Ko(r)?a:a.value:at(a)?l?ul(a):qn(a):a}}const nf=ol(),of=ol(!0);function ol(l=!1){return function(t,e,r,n){let i=t[e];if(Dn(i)&&rt(i)&&!rt(r))return!1;if(!l&&!Dn(r)&&(go(r)||(r=Ue(r),i=Ue(i)),!Ce(t)&&rt(i)&&!rt(r)))return i.value=r,!0;const a=Ce(t)&&Ko(e)?Number(e)<t.length:Be(t,e),s=Reflect.set(t,e,r,n);return t===Ue(n)&&(a?Bn(r,i)&&Jt(t,"set",e,r):Jt(t,"add",e,r)),s}}function af(l,o){const t=Be(l,o);l[o];const e=Reflect.deleteProperty(l,o);return e&&t&&Jt(l,"delete",o,void 0),e}function sf(l,o){const t=Reflect.has(l,o);return(!$o(o)||!il.has(o))&&xt(l,"has",o),t}function lf(l){return xt(l,"iterate",Ce(l)?"length":Nr),Reflect.ownKeys(l)}const al={get:Ju,set:nf,deleteProperty:af,has:sf,ownKeys:lf},cf={get:tf,set(l,o){return!0},deleteProperty(l,o){return!0}},uf=it({},al,{get:ef,set:of}),ta=l=>l,Pi=l=>Reflect.getPrototypeOf(l);function Qn(l,o,t=!1,e=!1){l=l.__v_raw;const r=Ue(l),n=Ue(o);t||(o!==n&&xt(r,"get",o),xt(r,"get",n));const{has:i}=Pi(r),a=e?ta:t?ia:In;if(i.call(r,o))return a(l.get(o));if(i.call(r,n))return a(l.get(n));l!==r&&l.get(o)}function Jn(l,o=!1){const t=this.__v_raw,e=Ue(t),r=Ue(l);return o||(l!==r&&xt(e,"has",l),xt(e,"has",r)),l===r?t.has(l):t.has(l)||t.has(r)}function ei(l,o=!1){return l=l.__v_raw,!o&&xt(Ue(l),"iterate",Nr),Reflect.get(l,"size",l)}function qa(l){l=Ue(l);const o=Ue(this);return Pi(o).has.call(o,l)||(o.add(l),Jt(o,"add",l,l)),this}function ja(l,o){o=Ue(o);const t=Ue(this),{has:e,get:r}=Pi(t);let n=e.call(t,l);n||(l=Ue(l),n=e.call(t,l));const i=r.call(t,l);return t.set(l,o),n?Bn(o,i)&&Jt(t,"set",l,o):Jt(t,"add",l,o),this}function Za(l){const o=Ue(this),{has:t,get:e}=Pi(o);let r=t.call(o,l);r||(l=Ue(l),r=t.call(o,l)),e&&e.call(o,l);const n=o.delete(l);return r&&Jt(o,"delete",l,void 0),n}function $a(){const l=Ue(this),o=l.size!==0,t=l.clear();return o&&Jt(l,"clear",void 0,void 0),t}function ti(l,o){return function(e,r){const n=this,i=n.__v_raw,a=Ue(i),s=o?ta:l?ia:In;return!l&&xt(a,"iterate",Nr),i.forEach((c,u)=>e.call(r,s(c),s(u),n))}}function ri(l,o,t){return function(...e){const r=this.__v_raw,n=Ue(r),i=En(n),a=l==="entries"||l===Symbol.iterator&&i,s=l==="keys"&&i,c=r[l](...e),u=t?ta:o?ia:In;return!o&&xt(n,"iterate",s?mo:Nr),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:a?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function nr(l){return function(...o){return l==="delete"?!1:this}}function ff(){const l={get(n){return Qn(this,n)},get size(){return ei(this)},has:Jn,add:qa,set:ja,delete:Za,clear:$a,forEach:ti(!1,!1)},o={get(n){return Qn(this,n,!1,!0)},get size(){return ei(this)},has:Jn,add:qa,set:ja,delete:Za,clear:$a,forEach:ti(!1,!0)},t={get(n){return Qn(this,n,!0)},get size(){return ei(this,!0)},has(n){return Jn.call(this,n,!0)},add:nr("add"),set:nr("set"),delete:nr("delete"),clear:nr("clear"),forEach:ti(!0,!1)},e={get(n){return Qn(this,n,!0,!0)},get size(){return ei(this,!0)},has(n){return Jn.call(this,n,!0)},add:nr("add"),set:nr("set"),delete:nr("delete"),clear:nr("clear"),forEach:ti(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(n=>{l[n]=ri(n,!1,!1),t[n]=ri(n,!0,!1),o[n]=ri(n,!1,!0),e[n]=ri(n,!0,!0)}),[l,t,o,e]}const[hf,df,pf,mf]=ff();function ra(l,o){const t=o?l?mf:pf:l?df:hf;return(e,r,n)=>r==="__v_isReactive"?!l:r==="__v_isReadonly"?l:r==="__v_raw"?e:Reflect.get(Be(t,r)&&r in e?t:e,r,n)}const vf={get:ra(!1,!1)},gf={get:ra(!1,!0)},yf={get:ra(!0,!1)},sl=new WeakMap,ll=new WeakMap,cl=new WeakMap,_f=new WeakMap;function xf(l){switch(l){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function bf(l){return l.__v_skip||!Object.isExtensible(l)?0:xf(zu(l))}function qn(l){return Dn(l)?l:na(l,!1,al,vf,sl)}function Mf(l){return na(l,!1,uf,gf,ll)}function ul(l){return na(l,!0,cf,yf,cl)}function na(l,o,t,e,r){if(!at(l)||l.__v_raw&&!(o&&l.__v_isReactive))return l;const n=r.get(l);if(n)return n;const i=bf(l);if(i===0)return l;const a=new Proxy(l,i===2?e:t);return r.set(l,a),a}function tn(l){return Dn(l)?tn(l.__v_raw):!!(l&&l.__v_isReactive)}function Dn(l){return!!(l&&l.__v_isReadonly)}function go(l){return!!(l&&l.__v_isShallow)}function fl(l){return tn(l)||Dn(l)}function Ue(l){const o=l&&l.__v_raw;return o?Ue(o):l}function hl(l){return hi(l,"__v_skip",!0),l}const In=l=>at(l)?qn(l):l,ia=l=>at(l)?ul(l):l;function dl(l){dr&&It&&(l=Ue(l),nl(l.dep||(l.dep=Qo())))}function pl(l,o){l=Ue(l),l.dep&&vo(l.dep)}function rt(l){return!!(l&&l.__v_isRef===!0)}function yo(l){return ml(l,!1)}function wf(l){return ml(l,!0)}function ml(l,o){return rt(l)?l:new Ef(l,o)}class Ef{constructor(o,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?o:Ue(o),this._value=t?o:In(o)}get value(){return dl(this),this._value}set value(o){o=this.__v_isShallow?o:Ue(o),Bn(o,this._rawValue)&&(this._rawValue=o,this._value=this.__v_isShallow?o:In(o),pl(this))}}function rn(l){return rt(l)?l.value:l}const Tf={get:(l,o,t)=>rn(Reflect.get(l,o,t)),set:(l,o,t,e)=>{const r=l[o];return rt(r)&&!rt(t)?(r.value=t,!0):Reflect.set(l,o,t,e)}};function vl(l){return tn(l)?l:new Proxy(l,Tf)}class Sf{constructor(o,t,e,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Jo(o,()=>{this._dirty||(this._dirty=!0,pl(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=e}get value(){const o=Ue(this);return dl(o),(o._dirty||!o._cacheable)&&(o._dirty=!1,o._value=o.effect.run()),o._value}set value(o){this._setter(o)}}function Af(l,o,t=!1){let e,r;const n=Le(l);return n?(e=l,r=Nt):(e=l.get,r=l.set),new Sf(e,r,n||!r,t)}function pr(l,o,t,e){let r;try{r=e?l(...e):l()}catch(n){Ri(n,o,t)}return r}function Pt(l,o,t,e){if(Le(l)){const n=pr(l,o,t,e);return n&&Js(n)&&n.catch(i=>{Ri(i,o,t)}),n}const r=[];for(let n=0;n<l.length;n++)r.push(Pt(l[n],o,t,e));return r}function Ri(l,o,t,e=!0){const r=o?o.vnode:null;if(o){let n=o.parent;const i=o.proxy,a=t;for(;n;){const c=n.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](l,i,a)===!1)return}n=n.parent}const s=o.appContext.config.errorHandler;if(s){pr(s,null,10,[l,i,a]);return}}Cf(l,t,r,e)}function Cf(l,o,t,e=!0){console.error(l)}let di=!1,_o=!1;const gt=[];let $t=0;const Tn=[];let bn=null,jr=0;const Sn=[];let ar=null,Zr=0;const gl=Promise.resolve();let oa=null,xo=null;function yl(l){const o=oa||gl;return l?o.then(this?l.bind(this):l):o}function Lf(l){let o=$t+1,t=gt.length;for(;o<t;){const e=o+t>>>1;Un(gt[e])<l?o=e+1:t=e}return o}function _l(l){(!gt.length||!gt.includes(l,di&&l.allowRecurse?$t+1:$t))&&l!==xo&&(l.id==null?gt.push(l):gt.splice(Lf(l.id),0,l),xl())}function xl(){!di&&!_o&&(_o=!0,oa=gl.then(wl))}function Pf(l){const o=gt.indexOf(l);o>$t&&gt.splice(o,1)}function bl(l,o,t,e){Ce(l)?t.push(...l):(!o||!o.includes(l,l.allowRecurse?e+1:e))&&t.push(l),xl()}function Rf(l){bl(l,bn,Tn,jr)}function Ff(l){bl(l,ar,Sn,Zr)}function Fi(l,o=null){if(Tn.length){for(xo=o,bn=[...new Set(Tn)],Tn.length=0,jr=0;jr<bn.length;jr++)bn[jr]();bn=null,jr=0,xo=null,Fi(l,o)}}function Ml(l){if(Fi(),Sn.length){const o=[...new Set(Sn)];if(Sn.length=0,ar){ar.push(...o);return}for(ar=o,ar.sort((t,e)=>Un(t)-Un(e)),Zr=0;Zr<ar.length;Zr++)ar[Zr]();ar=null,Zr=0}}const Un=l=>l.id==null?1/0:l.id;function wl(l){_o=!1,di=!0,Fi(l),gt.sort((t,e)=>Un(t)-Un(e));const o=Nt;try{for($t=0;$t<gt.length;$t++){const t=gt[$t];t&&t.active!==!1&&pr(t,null,14)}}finally{$t=0,gt.length=0,Ml(),di=!1,oa=null,(gt.length||Tn.length||Sn.length)&&wl(l)}}function Bf(l,o,...t){if(l.isUnmounted)return;const e=l.vnode.props||ke;let r=t;const n=o.startsWith("update:"),i=n&&o.slice(7);if(i&&i in e){const u=`${i==="modelValue"?"model":i}Modifiers`,{number:f,trim:h}=e[u]||ke;h&&(r=t.map(d=>d.trim())),f&&(r=t.map(Yu))}let a,s=e[a=Yi(o)]||e[a=Yi(jt(o))];!s&&n&&(s=e[a=Yi(mn(o))]),s&&Pt(s,l,6,r);const c=e[a+"Once"];if(c){if(!l.emitted)l.emitted={};else if(l.emitted[a])return;l.emitted[a]=!0,Pt(c,l,6,r)}}function El(l,o,t=!1){const e=o.emitsCache,r=e.get(l);if(r!==void 0)return r;const n=l.emits;let i={},a=!1;if(!Le(l)){const s=c=>{const u=El(c,o,!0);u&&(a=!0,it(i,u))};!t&&o.mixins.length&&o.mixins.forEach(s),l.extends&&s(l.extends),l.mixins&&l.mixins.forEach(s)}return!n&&!a?(e.set(l,null),null):(Ce(n)?n.forEach(s=>i[s]=null):it(i,n),e.set(l,i),i)}function Bi(l,o){return!l||!Si(o)?!1:(o=o.slice(2).replace(/Once$/,""),Be(l,o[0].toLowerCase()+o.slice(1))||Be(l,mn(o))||Be(l,o))}let Ut=null,Tl=null;function pi(l){const o=Ut;return Ut=l,Tl=l&&l.type.__scopeId||null,o}function Sl(l,o=Ut,t){if(!o||l._n)return l;const e=(...r)=>{e._d&&ss(-1);const n=pi(o),i=l(...r);return pi(n),e._d&&ss(1),i};return e._n=!0,e._c=!0,e._d=!0,e}function ji(l){const{type:o,vnode:t,proxy:e,withProxy:r,props:n,propsOptions:[i],slots:a,attrs:s,emit:c,render:u,renderCache:f,data:h,setupState:d,ctx:m,inheritAttrs:p}=l;let v,g;const y=pi(l);try{if(t.shapeFlag&4){const w=r||e;v=Xt(u.call(w,w,f,n,d,h,m)),g=s}else{const w=o;v=Xt(w.length>1?w(n,{attrs:s,slots:a,emit:c}):w(n,null)),g=o.props?s:Df(s)}}catch(w){An.length=0,Ri(w,l,1),v=Me(Vt)}let x=v;if(g&&p!==!1){const w=Object.keys(g),{shapeFlag:M}=x;w.length&&M&7&&(i&&w.some(jo)&&(g=If(g,i)),x=_r(x,g))}return t.dirs&&(x=_r(x),x.dirs=x.dirs?x.dirs.concat(t.dirs):t.dirs),t.transition&&(x.transition=t.transition),v=x,pi(y),v}const Df=l=>{let o;for(const t in l)(t==="class"||t==="style"||Si(t))&&((o||(o={}))[t]=l[t]);return o},If=(l,o)=>{const t={};for(const e in l)(!jo(e)||!(e.slice(9)in o))&&(t[e]=l[e]);return t};function Uf(l,o,t){const{props:e,children:r,component:n}=l,{props:i,children:a,patchFlag:s}=o,c=n.emitsOptions;if(o.dirs||o.transition)return!0;if(t&&s>=0){if(s&1024)return!0;if(s&16)return e?Ka(e,i,c):!!i;if(s&8){const u=o.dynamicProps;for(let f=0;f<u.length;f++){const h=u[f];if(i[h]!==e[h]&&!Bi(c,h))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:e===i?!1:e?i?Ka(e,i,c):!0:!!i;return!1}function Ka(l,o,t){const e=Object.keys(o);if(e.length!==Object.keys(l).length)return!0;for(let r=0;r<e.length;r++){const n=e[r];if(o[n]!==l[n]&&!Bi(t,n))return!0}return!1}function Of({vnode:l,parent:o},t){for(;o&&o.subTree===l;)(l=o.vnode).el=t,o=o.parent}const Nf=l=>l.__isSuspense;function Vf(l,o){o&&o.pendingBranch?Ce(l)?o.effects.push(...l):o.effects.push(l):Ff(l)}function ai(l,o){if(Ye){let t=Ye.provides;const e=Ye.parent&&Ye.parent.provides;e===t&&(t=Ye.provides=Object.create(e)),t[l]=o}}function mr(l,o,t=!1){const e=Ye||Ut;if(e){const r=e.parent==null?e.vnode.appContext&&e.vnode.appContext.provides:e.parent.provides;if(r&&l in r)return r[l];if(arguments.length>1)return t&&Le(o)?o.call(e.proxy):o}}const Qa={};function si(l,o,t){return Al(l,o,t)}function Al(l,o,{immediate:t,deep:e,flush:r,onTrack:n,onTrigger:i}=ke){const a=Ye;let s,c=!1,u=!1;if(rt(l)?(s=()=>l.value,c=go(l)):tn(l)?(s=()=>l,e=!0):Ce(l)?(u=!0,c=l.some(g=>tn(g)||go(g)),s=()=>l.map(g=>{if(rt(g))return g.value;if(tn(g))return Kr(g);if(Le(g))return pr(g,a,2)})):Le(l)?o?s=()=>pr(l,a,2):s=()=>{if(!(a&&a.isUnmounted))return f&&f(),Pt(l,a,3,[h])}:s=Nt,o&&e){const g=s;s=()=>Kr(g())}let f,h=g=>{f=v.onStop=()=>{pr(g,a,4)}};if(Nn)return h=Nt,o?t&&Pt(o,a,3,[s(),u?[]:void 0,h]):s(),Nt;let d=u?[]:Qa;const m=()=>{if(!!v.active)if(o){const g=v.run();(e||c||(u?g.some((y,x)=>Bn(y,d[x])):Bn(g,d)))&&(f&&f(),Pt(o,a,3,[g,d===Qa?void 0:d,h]),d=g)}else v.run()};m.allowRecurse=!!o;let p;r==="sync"?p=m:r==="post"?p=()=>ft(m,a&&a.suspense):p=()=>Rf(m);const v=new Jo(s,p);return o?t?m():d=v.run():r==="post"?ft(v.run.bind(v),a&&a.suspense):v.run(),()=>{v.stop(),a&&a.scope&&Zo(a.scope.effects,v)}}function kf(l,o,t){const e=this.proxy,r=ot(l)?l.includes(".")?Cl(e,l):()=>e[l]:l.bind(e,e);let n;Le(o)?n=o:(n=o.handler,t=o);const i=Ye;sn(this);const a=Al(r,n.bind(e),t);return i?sn(i):Vr(),a}function Cl(l,o){const t=o.split(".");return()=>{let e=l;for(let r=0;r<t.length&&e;r++)e=e[t[r]];return e}}function Kr(l,o){if(!at(l)||l.__v_skip||(o=o||new Set,o.has(l)))return l;if(o.add(l),rt(l))Kr(l.value,o);else if(Ce(l))for(let t=0;t<l.length;t++)Kr(l[t],o);else if(ku(l)||En(l))l.forEach(t=>{Kr(t,o)});else if(Hu(l))for(const t in l)Kr(l[t],o);return l}function Gf(){const l={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return aa(()=>{l.isMounted=!0}),Bl(()=>{l.isUnmounting=!0}),l}const wt=[Function,Array],zf={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:wt,onEnter:wt,onAfterEnter:wt,onEnterCancelled:wt,onBeforeLeave:wt,onLeave:wt,onAfterLeave:wt,onLeaveCancelled:wt,onBeforeAppear:wt,onAppear:wt,onAfterAppear:wt,onAppearCancelled:wt},setup(l,{slots:o}){const t=Sh(),e=Gf();let r;return()=>{const n=o.default&&Pl(o.default(),!0);if(!n||!n.length)return;let i=n[0];if(n.length>1){for(const p of n)if(p.type!==Vt){i=p;break}}const a=Ue(l),{mode:s}=a;if(e.isLeaving)return Zi(i);const c=Ja(i);if(!c)return Zi(i);const u=bo(c,a,e,t);Mo(c,u);const f=t.subTree,h=f&&Ja(f);let d=!1;const{getTransitionKey:m}=c.type;if(m){const p=m();r===void 0?r=p:p!==r&&(r=p,d=!0)}if(h&&h.type!==Vt&&(!Ir(c,h)||d)){const p=bo(h,a,e,t);if(Mo(h,p),s==="out-in")return e.isLeaving=!0,p.afterLeave=()=>{e.isLeaving=!1,t.update()},Zi(i);s==="in-out"&&c.type!==Vt&&(p.delayLeave=(v,g,y)=>{const x=Ll(e,h);x[String(h.key)]=h,v._leaveCb=()=>{g(),v._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=y})}return i}}},Hf=zf;function Ll(l,o){const{leavingVNodes:t}=l;let e=t.get(o.type);return e||(e=Object.create(null),t.set(o.type,e)),e}function bo(l,o,t,e){const{appear:r,mode:n,persisted:i=!1,onBeforeEnter:a,onEnter:s,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:f,onLeave:h,onAfterLeave:d,onLeaveCancelled:m,onBeforeAppear:p,onAppear:v,onAfterAppear:g,onAppearCancelled:y}=o,x=String(l.key),w=Ll(t,l),M=(S,L)=>{S&&Pt(S,e,9,L)},E=(S,L)=>{const P=L[1];M(S,L),Ce(S)?S.every(R=>R.length<=1)&&P():S.length<=1&&P()},T={mode:n,persisted:i,beforeEnter(S){let L=a;if(!t.isMounted)if(r)L=p||a;else return;S._leaveCb&&S._leaveCb(!0);const P=w[x];P&&Ir(l,P)&&P.el._leaveCb&&P.el._leaveCb(),M(L,[S])},enter(S){let L=s,P=c,R=u;if(!t.isMounted)if(r)L=v||s,P=g||c,R=y||u;else return;let B=!1;const V=S._enterCb=z=>{B||(B=!0,z?M(R,[S]):M(P,[S]),T.delayedLeave&&T.delayedLeave(),S._enterCb=void 0)};L?E(L,[S,V]):V()},leave(S,L){const P=String(l.key);if(S._enterCb&&S._enterCb(!0),t.isUnmounting)return L();M(f,[S]);let R=!1;const B=S._leaveCb=V=>{R||(R=!0,L(),V?M(m,[S]):M(d,[S]),S._leaveCb=void 0,w[P]===l&&delete w[P])};w[P]=l,h?E(h,[S,B]):B()},clone(S){return bo(S,o,t,e)}};return T}function Zi(l){if(Di(l))return l=_r(l),l.children=null,l}function Ja(l){return Di(l)?l.children?l.children[0]:void 0:l}function Mo(l,o){l.shapeFlag&6&&l.component?Mo(l.component.subTree,o):l.shapeFlag&128?(l.ssContent.transition=o.clone(l.ssContent),l.ssFallback.transition=o.clone(l.ssFallback)):l.transition=o}function Pl(l,o=!1,t){let e=[],r=0;for(let n=0;n<l.length;n++){let i=l[n];const a=t==null?i.key:String(t)+String(i.key!=null?i.key:n);i.type===Dt?(i.patchFlag&128&&r++,e=e.concat(Pl(i.children,o,a))):(o||i.type!==Vt)&&e.push(a!=null?_r(i,{key:a}):i)}if(r>1)for(let n=0;n<e.length;n++)e[n].patchFlag=-2;return e}function Rl(l){return Le(l)?{setup:l,name:l.name}:l}const li=l=>!!l.type.__asyncLoader,Di=l=>l.type.__isKeepAlive;function Wf(l,o){Fl(l,"a",o)}function Xf(l,o){Fl(l,"da",o)}function Fl(l,o,t=Ye){const e=l.__wdc||(l.__wdc=()=>{let r=t;for(;r;){if(r.isDeactivated)return;r=r.parent}return l()});if(Ii(o,e,t),t){let r=t.parent;for(;r&&r.parent;)Di(r.parent.vnode)&&Yf(e,o,t,r),r=r.parent}}function Yf(l,o,t,e){const r=Ii(o,l,e,!0);Dl(()=>{Zo(e[o],r)},t)}function Ii(l,o,t=Ye,e=!1){if(t){const r=t[l]||(t[l]=[]),n=o.__weh||(o.__weh=(...i)=>{if(t.isUnmounted)return;vn(),sn(t);const a=Pt(o,t,l,i);return Vr(),gn(),a});return e?r.unshift(n):r.push(n),n}}const rr=l=>(o,t=Ye)=>(!Nn||l==="sp")&&Ii(l,o,t),qf=rr("bm"),aa=rr("m"),jf=rr("bu"),Zf=rr("u"),Bl=rr("bum"),Dl=rr("um"),$f=rr("sp"),Kf=rr("rtg"),Qf=rr("rtc");function Jf(l,o=Ye){Ii("ec",l,o)}function Cr(l,o,t,e){const r=l.dirs,n=o&&o.dirs;for(let i=0;i<r.length;i++){const a=r[i];n&&(a.oldValue=n[i].value);let s=a.dir[e];s&&(vn(),Pt(s,t,8,[l.el,a,l,o]),gn())}}const Il="components";function Ul(l,o){return th(Il,l,!0,o)||l}const eh=Symbol();function th(l,o,t=!0,e=!1){const r=Ut||Ye;if(r){const n=r.type;if(l===Il){const a=Rh(n,!1);if(a&&(a===o||a===jt(o)||a===Li(jt(o))))return n}const i=es(r[l]||n[l],o)||es(r.appContext[l],o);return!i&&e?n:i}}function es(l,o){return l&&(l[o]||l[jt(o)]||l[Li(jt(o))])}const wo=l=>l?$l(l)?ua(l)||l.proxy:wo(l.parent):null,mi=it(Object.create(null),{$:l=>l,$el:l=>l.vnode.el,$data:l=>l.data,$props:l=>l.props,$attrs:l=>l.attrs,$slots:l=>l.slots,$refs:l=>l.refs,$parent:l=>wo(l.parent),$root:l=>wo(l.root),$emit:l=>l.emit,$options:l=>Nl(l),$forceUpdate:l=>l.f||(l.f=()=>_l(l.update)),$nextTick:l=>l.n||(l.n=yl.bind(l.proxy)),$watch:l=>kf.bind(l)}),rh={get({_:l},o){const{ctx:t,setupState:e,data:r,props:n,accessCache:i,type:a,appContext:s}=l;let c;if(o[0]!=="$"){const d=i[o];if(d!==void 0)switch(d){case 1:return e[o];case 2:return r[o];case 4:return t[o];case 3:return n[o]}else{if(e!==ke&&Be(e,o))return i[o]=1,e[o];if(r!==ke&&Be(r,o))return i[o]=2,r[o];if((c=l.propsOptions[0])&&Be(c,o))return i[o]=3,n[o];if(t!==ke&&Be(t,o))return i[o]=4,t[o];Eo&&(i[o]=0)}}const u=mi[o];let f,h;if(u)return o==="$attrs"&&xt(l,"get",o),u(l);if((f=a.__cssModules)&&(f=f[o]))return f;if(t!==ke&&Be(t,o))return i[o]=4,t[o];if(h=s.config.globalProperties,Be(h,o))return h[o]},set({_:l},o,t){const{data:e,setupState:r,ctx:n}=l;return r!==ke&&Be(r,o)?(r[o]=t,!0):e!==ke&&Be(e,o)?(e[o]=t,!0):Be(l.props,o)||o[0]==="$"&&o.slice(1)in l?!1:(n[o]=t,!0)},has({_:{data:l,setupState:o,accessCache:t,ctx:e,appContext:r,propsOptions:n}},i){let a;return!!t[i]||l!==ke&&Be(l,i)||o!==ke&&Be(o,i)||(a=n[0])&&Be(a,i)||Be(e,i)||Be(mi,i)||Be(r.config.globalProperties,i)},defineProperty(l,o,t){return t.get!=null?l._.accessCache[o]=0:Be(t,"value")&&this.set(l,o,t.value,null),Reflect.defineProperty(l,o,t)}};let Eo=!0;function nh(l){const o=Nl(l),t=l.proxy,e=l.ctx;Eo=!1,o.beforeCreate&&ts(o.beforeCreate,l,"bc");const{data:r,computed:n,methods:i,watch:a,provide:s,inject:c,created:u,beforeMount:f,mounted:h,beforeUpdate:d,updated:m,activated:p,deactivated:v,beforeDestroy:g,beforeUnmount:y,destroyed:x,unmounted:w,render:M,renderTracked:E,renderTriggered:T,errorCaptured:S,serverPrefetch:L,expose:P,inheritAttrs:R,components:B,directives:V,filters:z}=o;if(c&&ih(c,e,null,l.appContext.config.unwrapInjectedRef),i)for(const k in i){const j=i[k];Le(j)&&(e[k]=j.bind(t))}if(r){const k=r.call(t,t);at(k)&&(l.data=qn(k))}if(Eo=!0,n)for(const k in n){const j=n[k],$=Le(j)?j.bind(t,t):Le(j.get)?j.get.bind(t,t):Nt,Z=!Le(j)&&Le(j.set)?j.set.bind(t):Nt,K=St({get:$,set:Z});Object.defineProperty(e,k,{enumerable:!0,configurable:!0,get:()=>K.value,set:oe=>K.value=oe})}if(a)for(const k in a)Ol(a[k],e,t,k);if(s){const k=Le(s)?s.call(t):s;Reflect.ownKeys(k).forEach(j=>{ai(j,k[j])})}u&&ts(u,l,"c");function G(k,j){Ce(j)?j.forEach($=>k($.bind(t))):j&&k(j.bind(t))}if(G(qf,f),G(aa,h),G(jf,d),G(Zf,m),G(Wf,p),G(Xf,v),G(Jf,S),G(Qf,E),G(Kf,T),G(Bl,y),G(Dl,w),G($f,L),Ce(P))if(P.length){const k=l.exposed||(l.exposed={});P.forEach(j=>{Object.defineProperty(k,j,{get:()=>t[j],set:$=>t[j]=$})})}else l.exposed||(l.exposed={});M&&l.render===Nt&&(l.render=M),R!=null&&(l.inheritAttrs=R),B&&(l.components=B),V&&(l.directives=V)}function ih(l,o,t=Nt,e=!1){Ce(l)&&(l=To(l));for(const r in l){const n=l[r];let i;at(n)?"default"in n?i=mr(n.from||r,n.default,!0):i=mr(n.from||r):i=mr(n),rt(i)&&e?Object.defineProperty(o,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):o[r]=i}}function ts(l,o,t){Pt(Ce(l)?l.map(e=>e.bind(o.proxy)):l.bind(o.proxy),o,t)}function Ol(l,o,t,e){const r=e.includes(".")?Cl(t,e):()=>t[e];if(ot(l)){const n=o[l];Le(n)&&si(r,n)}else if(Le(l))si(r,l.bind(t));else if(at(l))if(Ce(l))l.forEach(n=>Ol(n,o,t,e));else{const n=Le(l.handler)?l.handler.bind(t):o[l.handler];Le(n)&&si(r,n,l)}}function Nl(l){const o=l.type,{mixins:t,extends:e}=o,{mixins:r,optionsCache:n,config:{optionMergeStrategies:i}}=l.appContext,a=n.get(o);let s;return a?s=a:!r.length&&!t&&!e?s=o:(s={},r.length&&r.forEach(c=>vi(s,c,i,!0)),vi(s,o,i)),n.set(o,s),s}function vi(l,o,t,e=!1){const{mixins:r,extends:n}=o;n&&vi(l,n,t,!0),r&&r.forEach(i=>vi(l,i,t,!0));for(const i in o)if(!(e&&i==="expose")){const a=oh[i]||t&&t[i];l[i]=a?a(l[i],o[i]):o[i]}return l}const oh={data:rs,props:Fr,emits:Fr,methods:Fr,computed:Fr,beforeCreate:lt,created:lt,beforeMount:lt,mounted:lt,beforeUpdate:lt,updated:lt,beforeDestroy:lt,beforeUnmount:lt,destroyed:lt,unmounted:lt,activated:lt,deactivated:lt,errorCaptured:lt,serverPrefetch:lt,components:Fr,directives:Fr,watch:sh,provide:rs,inject:ah};function rs(l,o){return o?l?function(){return it(Le(l)?l.call(this,this):l,Le(o)?o.call(this,this):o)}:o:l}function ah(l,o){return Fr(To(l),To(o))}function To(l){if(Ce(l)){const o={};for(let t=0;t<l.length;t++)o[l[t]]=l[t];return o}return l}function lt(l,o){return l?[...new Set([].concat(l,o))]:o}function Fr(l,o){return l?it(it(Object.create(null),l),o):o}function sh(l,o){if(!l)return o;if(!o)return l;const t=it(Object.create(null),l);for(const e in o)t[e]=lt(l[e],o[e]);return t}function lh(l,o,t,e=!1){const r={},n={};hi(n,Ui,1),l.propsDefaults=Object.create(null),Vl(l,o,r,n);for(const i in l.propsOptions[0])i in r||(r[i]=void 0);t?l.props=e?r:Mf(r):l.type.props?l.props=r:l.props=n,l.attrs=n}function ch(l,o,t,e){const{props:r,attrs:n,vnode:{patchFlag:i}}=l,a=Ue(r),[s]=l.propsOptions;let c=!1;if((e||i>0)&&!(i&16)){if(i&8){const u=l.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];if(Bi(l.emitsOptions,h))continue;const d=o[h];if(s)if(Be(n,h))d!==n[h]&&(n[h]=d,c=!0);else{const m=jt(h);r[m]=So(s,a,m,d,l,!1)}else d!==n[h]&&(n[h]=d,c=!0)}}}else{Vl(l,o,r,n)&&(c=!0);let u;for(const f in a)(!o||!Be(o,f)&&((u=mn(f))===f||!Be(o,u)))&&(s?t&&(t[f]!==void 0||t[u]!==void 0)&&(r[f]=So(s,a,f,void 0,l,!0)):delete r[f]);if(n!==a)for(const f in n)(!o||!Be(o,f)&&!0)&&(delete n[f],c=!0)}c&&Jt(l,"set","$attrs")}function Vl(l,o,t,e){const[r,n]=l.propsOptions;let i=!1,a;if(o)for(let s in o){if(oi(s))continue;const c=o[s];let u;r&&Be(r,u=jt(s))?!n||!n.includes(u)?t[u]=c:(a||(a={}))[u]=c:Bi(l.emitsOptions,s)||(!(s in e)||c!==e[s])&&(e[s]=c,i=!0)}if(n){const s=Ue(t),c=a||ke;for(let u=0;u<n.length;u++){const f=n[u];t[f]=So(r,s,f,c[f],l,!Be(c,f))}}return i}function So(l,o,t,e,r,n){const i=l[t];if(i!=null){const a=Be(i,"default");if(a&&e===void 0){const s=i.default;if(i.type!==Function&&Le(s)){const{propsDefaults:c}=r;t in c?e=c[t]:(sn(r),e=c[t]=s.call(null,o),Vr())}else e=s}i[0]&&(n&&!a?e=!1:i[1]&&(e===""||e===mn(t))&&(e=!0))}return e}function kl(l,o,t=!1){const e=o.propsCache,r=e.get(l);if(r)return r;const n=l.props,i={},a=[];let s=!1;if(!Le(l)){const u=f=>{s=!0;const[h,d]=kl(f,o,!0);it(i,h),d&&a.push(...d)};!t&&o.mixins.length&&o.mixins.forEach(u),l.extends&&u(l.extends),l.mixins&&l.mixins.forEach(u)}if(!n&&!s)return e.set(l,en),en;if(Ce(n))for(let u=0;u<n.length;u++){const f=jt(n[u]);ns(f)&&(i[f]=ke)}else if(n)for(const u in n){const f=jt(u);if(ns(f)){const h=n[u],d=i[f]=Ce(h)||Le(h)?{type:h}:h;if(d){const m=as(Boolean,d.type),p=as(String,d.type);d[0]=m>-1,d[1]=p<0||m<p,(m>-1||Be(d,"default"))&&a.push(f)}}}const c=[i,a];return e.set(l,c),c}function ns(l){return l[0]!=="$"}function is(l){const o=l&&l.toString().match(/^\s*function (\w+)/);return o?o[1]:l===null?"null":""}function os(l,o){return is(l)===is(o)}function as(l,o){return Ce(o)?o.findIndex(t=>os(t,l)):Le(o)&&os(o,l)?0:-1}const Gl=l=>l[0]==="_"||l==="$stable",sa=l=>Ce(l)?l.map(Xt):[Xt(l)],uh=(l,o,t)=>{if(o._n)return o;const e=Sl((...r)=>sa(o(...r)),t);return e._c=!1,e},zl=(l,o,t)=>{const e=l._ctx;for(const r in l){if(Gl(r))continue;const n=l[r];if(Le(n))o[r]=uh(r,n,e);else if(n!=null){const i=sa(n);o[r]=()=>i}}},Hl=(l,o)=>{const t=sa(o);l.slots.default=()=>t},fh=(l,o)=>{if(l.vnode.shapeFlag&32){const t=o._;t?(l.slots=Ue(o),hi(o,"_",t)):zl(o,l.slots={})}else l.slots={},o&&Hl(l,o);hi(l.slots,Ui,1)},hh=(l,o,t)=>{const{vnode:e,slots:r}=l;let n=!0,i=ke;if(e.shapeFlag&32){const a=o._;a?t&&a===1?n=!1:(it(r,o),!t&&a===1&&delete r._):(n=!o.$stable,zl(o,r)),i=o}else o&&(Hl(l,o),i={default:1});if(n)for(const a in r)!Gl(a)&&!(a in i)&&delete r[a]};function Wl(){return{app:null,config:{isNativeTag:Ou,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let dh=0;function ph(l,o){return function(e,r=null){Le(e)||(e=Object.assign({},e)),r!=null&&!at(r)&&(r=null);const n=Wl(),i=new Set;let a=!1;const s=n.app={_uid:dh++,_component:e,_props:r,_container:null,_context:n,_instance:null,version:Bh,get config(){return n.config},set config(c){},use(c,...u){return i.has(c)||(c&&Le(c.install)?(i.add(c),c.install(s,...u)):Le(c)&&(i.add(c),c(s,...u))),s},mixin(c){return n.mixins.includes(c)||n.mixins.push(c),s},component(c,u){return u?(n.components[c]=u,s):n.components[c]},directive(c,u){return u?(n.directives[c]=u,s):n.directives[c]},mount(c,u,f){if(!a){const h=Me(e,r);return h.appContext=n,u&&o?o(h,c):l(h,c,f),a=!0,s._container=c,c.__vue_app__=s,ua(h.component)||h.component.proxy}},unmount(){a&&(l(null,s._container),delete s._container.__vue_app__)},provide(c,u){return n.provides[c]=u,s}};return s}}function Ao(l,o,t,e,r=!1){if(Ce(l)){l.forEach((h,d)=>Ao(h,o&&(Ce(o)?o[d]:o),t,e,r));return}if(li(e)&&!r)return;const n=e.shapeFlag&4?ua(e.component)||e.component.proxy:e.el,i=r?null:n,{i:a,r:s}=l,c=o&&o.r,u=a.refs===ke?a.refs={}:a.refs,f=a.setupState;if(c!=null&&c!==s&&(ot(c)?(u[c]=null,Be(f,c)&&(f[c]=null)):rt(c)&&(c.value=null)),Le(s))pr(s,a,12,[i,u]);else{const h=ot(s),d=rt(s);if(h||d){const m=()=>{if(l.f){const p=h?u[s]:s.value;r?Ce(p)&&Zo(p,n):Ce(p)?p.includes(n)||p.push(n):h?(u[s]=[n],Be(f,s)&&(f[s]=u[s])):(s.value=[n],l.k&&(u[l.k]=s.value))}else h?(u[s]=i,Be(f,s)&&(f[s]=i)):d&&(s.value=i,l.k&&(u[l.k]=i))};i?(m.id=-1,ft(m,t)):m()}}}const ft=Vf;function mh(l){return vh(l)}function vh(l,o){const t=qu();t.__VUE__=!0;const{insert:e,remove:r,patchProp:n,createElement:i,createText:a,createComment:s,setText:c,setElementText:u,parentNode:f,nextSibling:h,setScopeId:d=Nt,cloneNode:m,insertStaticContent:p}=l,v=(C,F,Y,ee=null,Q=null,le=null,me=!1,te=null,ne=!!F.dynamicChildren)=>{if(C===F)return;C&&!Ir(C,F)&&(ee=q(C),ie(C,Q,le,!0),C=null),F.patchFlag===-2&&(ne=!1,F.dynamicChildren=null);const{type:re,ref:ge,shapeFlag:ve}=F;switch(re){case la:g(C,F,Y,ee);break;case Vt:y(C,F,Y,ee);break;case ci:C==null&&x(F,Y,ee,me);break;case Dt:V(C,F,Y,ee,Q,le,me,te,ne);break;default:ve&1?E(C,F,Y,ee,Q,le,me,te,ne):ve&6?z(C,F,Y,ee,Q,le,me,te,ne):(ve&64||ve&128)&&re.process(C,F,Y,ee,Q,le,me,te,ne,ae)}ge!=null&&Q&&Ao(ge,C&&C.ref,le,F||C,!F)},g=(C,F,Y,ee)=>{if(C==null)e(F.el=a(F.children),Y,ee);else{const Q=F.el=C.el;F.children!==C.children&&c(Q,F.children)}},y=(C,F,Y,ee)=>{C==null?e(F.el=s(F.children||""),Y,ee):F.el=C.el},x=(C,F,Y,ee)=>{[C.el,C.anchor]=p(C.children,F,Y,ee,C.el,C.anchor)},w=({el:C,anchor:F},Y,ee)=>{let Q;for(;C&&C!==F;)Q=h(C),e(C,Y,ee),C=Q;e(F,Y,ee)},M=({el:C,anchor:F})=>{let Y;for(;C&&C!==F;)Y=h(C),r(C),C=Y;r(F)},E=(C,F,Y,ee,Q,le,me,te,ne)=>{me=me||F.type==="svg",C==null?T(F,Y,ee,Q,le,me,te,ne):P(C,F,Q,le,me,te,ne)},T=(C,F,Y,ee,Q,le,me,te)=>{let ne,re;const{type:ge,props:ve,shapeFlag:_e,transition:be,patchFlag:Ee,dirs:Ae}=C;if(C.el&&m!==void 0&&Ee===-1)ne=C.el=m(C.el);else{if(ne=C.el=i(C.type,le,ve&&ve.is,ve),_e&8?u(ne,C.children):_e&16&&L(C.children,ne,null,ee,Q,le&&ge!=="foreignObject",me,te),Ae&&Cr(C,null,ee,"created"),ve){for(const Re in ve)Re!=="value"&&!oi(Re)&&n(ne,Re,null,ve[Re],le,C.children,ee,Q,H);"value"in ve&&n(ne,"value",null,ve.value),(re=ve.onVnodeBeforeMount)&&zt(re,ee,C)}S(ne,C,C.scopeId,me,ee)}Ae&&Cr(C,null,ee,"beforeMount");const Se=(!Q||Q&&!Q.pendingBranch)&&be&&!be.persisted;Se&&be.beforeEnter(ne),e(ne,F,Y),((re=ve&&ve.onVnodeMounted)||Se||Ae)&&ft(()=>{re&&zt(re,ee,C),Se&&be.enter(ne),Ae&&Cr(C,null,ee,"mounted")},Q)},S=(C,F,Y,ee,Q)=>{if(Y&&d(C,Y),ee)for(let le=0;le<ee.length;le++)d(C,ee[le]);if(Q){let le=Q.subTree;if(F===le){const me=Q.vnode;S(C,me,me.scopeId,me.slotScopeIds,Q.parent)}}},L=(C,F,Y,ee,Q,le,me,te,ne=0)=>{for(let re=ne;re<C.length;re++){const ge=C[re]=te?sr(C[re]):Xt(C[re]);v(null,ge,F,Y,ee,Q,le,me,te)}},P=(C,F,Y,ee,Q,le,me)=>{const te=F.el=C.el;let{patchFlag:ne,dynamicChildren:re,dirs:ge}=F;ne|=C.patchFlag&16;const ve=C.props||ke,_e=F.props||ke;let be;Y&&Lr(Y,!1),(be=_e.onVnodeBeforeUpdate)&&zt(be,Y,F,C),ge&&Cr(F,C,Y,"beforeUpdate"),Y&&Lr(Y,!0);const Ee=Q&&F.type!=="foreignObject";if(re?R(C.dynamicChildren,re,te,Y,ee,Ee,le):me||$(C,F,te,null,Y,ee,Ee,le,!1),ne>0){if(ne&16)B(te,F,ve,_e,Y,ee,Q);else if(ne&2&&ve.class!==_e.class&&n(te,"class",null,_e.class,Q),ne&4&&n(te,"style",ve.style,_e.style,Q),ne&8){const Ae=F.dynamicProps;for(let Se=0;Se<Ae.length;Se++){const Re=Ae[Se],Ze=ve[Re],Ft=_e[Re];(Ft!==Ze||Re==="value")&&n(te,Re,Ze,Ft,Q,C.children,Y,ee,H)}}ne&1&&C.children!==F.children&&u(te,F.children)}else!me&&re==null&&B(te,F,ve,_e,Y,ee,Q);((be=_e.onVnodeUpdated)||ge)&&ft(()=>{be&&zt(be,Y,F,C),ge&&Cr(F,C,Y,"updated")},ee)},R=(C,F,Y,ee,Q,le,me)=>{for(let te=0;te<F.length;te++){const ne=C[te],re=F[te],ge=ne.el&&(ne.type===Dt||!Ir(ne,re)||ne.shapeFlag&70)?f(ne.el):Y;v(ne,re,ge,null,ee,Q,le,me,!0)}},B=(C,F,Y,ee,Q,le,me)=>{if(Y!==ee){for(const te in ee){if(oi(te))continue;const ne=ee[te],re=Y[te];ne!==re&&te!=="value"&&n(C,te,re,ne,me,F.children,Q,le,H)}if(Y!==ke)for(const te in Y)!oi(te)&&!(te in ee)&&n(C,te,Y[te],null,me,F.children,Q,le,H);"value"in ee&&n(C,"value",Y.value,ee.value)}},V=(C,F,Y,ee,Q,le,me,te,ne)=>{const re=F.el=C?C.el:a(""),ge=F.anchor=C?C.anchor:a("");let{patchFlag:ve,dynamicChildren:_e,slotScopeIds:be}=F;be&&(te=te?te.concat(be):be),C==null?(e(re,Y,ee),e(ge,Y,ee),L(F.children,Y,ge,Q,le,me,te,ne)):ve>0&&ve&64&&_e&&C.dynamicChildren?(R(C.dynamicChildren,_e,Y,Q,le,me,te),(F.key!=null||Q&&F===Q.subTree)&&Xl(C,F,!0)):$(C,F,Y,ge,Q,le,me,te,ne)},z=(C,F,Y,ee,Q,le,me,te,ne)=>{F.slotScopeIds=te,C==null?F.shapeFlag&512?Q.ctx.activate(F,Y,ee,me,ne):X(F,Y,ee,Q,le,me,ne):G(C,F,ne)},X=(C,F,Y,ee,Q,le,me)=>{const te=C.component=Th(C,ee,Q);if(Di(C)&&(te.ctx.renderer=ae),Ah(te),te.asyncDep){if(Q&&Q.registerDep(te,k),!C.el){const ne=te.subTree=Me(Vt);y(null,ne,F,Y)}return}k(te,C,F,Y,Q,le,me)},G=(C,F,Y)=>{const ee=F.component=C.component;if(Uf(C,F,Y))if(ee.asyncDep&&!ee.asyncResolved){j(ee,F,Y);return}else ee.next=F,Pf(ee.update),ee.update();else F.el=C.el,ee.vnode=F},k=(C,F,Y,ee,Q,le,me)=>{const te=()=>{if(C.isMounted){let{next:ge,bu:ve,u:_e,parent:be,vnode:Ee}=C,Ae=ge,Se;Lr(C,!1),ge?(ge.el=Ee.el,j(C,ge,me)):ge=Ee,ve&&qi(ve),(Se=ge.props&&ge.props.onVnodeBeforeUpdate)&&zt(Se,be,ge,Ee),Lr(C,!0);const Re=ji(C),Ze=C.subTree;C.subTree=Re,v(Ze,Re,f(Ze.el),q(Ze),C,Q,le),ge.el=Re.el,Ae===null&&Of(C,Re.el),_e&&ft(_e,Q),(Se=ge.props&&ge.props.onVnodeUpdated)&&ft(()=>zt(Se,be,ge,Ee),Q)}else{let ge;const{el:ve,props:_e}=F,{bm:be,m:Ee,parent:Ae}=C,Se=li(F);if(Lr(C,!1),be&&qi(be),!Se&&(ge=_e&&_e.onVnodeBeforeMount)&&zt(ge,Ae,F),Lr(C,!0),ve&&ce){const Re=()=>{C.subTree=ji(C),ce(ve,C.subTree,C,Q,null)};Se?F.type.__asyncLoader().then(()=>!C.isUnmounted&&Re()):Re()}else{const Re=C.subTree=ji(C);v(null,Re,Y,ee,C,Q,le),F.el=Re.el}if(Ee&&ft(Ee,Q),!Se&&(ge=_e&&_e.onVnodeMounted)){const Re=F;ft(()=>zt(ge,Ae,Re),Q)}(F.shapeFlag&256||Ae&&li(Ae.vnode)&&Ae.vnode.shapeFlag&256)&&C.a&&ft(C.a,Q),C.isMounted=!0,F=Y=ee=null}},ne=C.effect=new Jo(te,()=>_l(re),C.scope),re=C.update=()=>ne.run();re.id=C.uid,Lr(C,!0),re()},j=(C,F,Y)=>{F.component=C;const ee=C.vnode.props;C.vnode=F,C.next=null,ch(C,F.props,ee,Y),hh(C,F.children,Y),vn(),Fi(void 0,C.update),gn()},$=(C,F,Y,ee,Q,le,me,te,ne=!1)=>{const re=C&&C.children,ge=C?C.shapeFlag:0,ve=F.children,{patchFlag:_e,shapeFlag:be}=F;if(_e>0){if(_e&128){K(re,ve,Y,ee,Q,le,me,te,ne);return}else if(_e&256){Z(re,ve,Y,ee,Q,le,me,te,ne);return}}be&8?(ge&16&&H(re,Q,le),ve!==re&&u(Y,ve)):ge&16?be&16?K(re,ve,Y,ee,Q,le,me,te,ne):H(re,Q,le,!0):(ge&8&&u(Y,""),be&16&&L(ve,Y,ee,Q,le,me,te,ne))},Z=(C,F,Y,ee,Q,le,me,te,ne)=>{C=C||en,F=F||en;const re=C.length,ge=F.length,ve=Math.min(re,ge);let _e;for(_e=0;_e<ve;_e++){const be=F[_e]=ne?sr(F[_e]):Xt(F[_e]);v(C[_e],be,Y,null,Q,le,me,te,ne)}re>ge?H(C,Q,le,!0,!1,ve):L(F,Y,ee,Q,le,me,te,ne,ve)},K=(C,F,Y,ee,Q,le,me,te,ne)=>{let re=0;const ge=F.length;let ve=C.length-1,_e=ge-1;for(;re<=ve&&re<=_e;){const be=C[re],Ee=F[re]=ne?sr(F[re]):Xt(F[re]);if(Ir(be,Ee))v(be,Ee,Y,null,Q,le,me,te,ne);else break;re++}for(;re<=ve&&re<=_e;){const be=C[ve],Ee=F[_e]=ne?sr(F[_e]):Xt(F[_e]);if(Ir(be,Ee))v(be,Ee,Y,null,Q,le,me,te,ne);else break;ve--,_e--}if(re>ve){if(re<=_e){const be=_e+1,Ee=be<ge?F[be].el:ee;for(;re<=_e;)v(null,F[re]=ne?sr(F[re]):Xt(F[re]),Y,Ee,Q,le,me,te,ne),re++}}else if(re>_e)for(;re<=ve;)ie(C[re],Q,le,!0),re++;else{const be=re,Ee=re,Ae=new Map;for(re=Ee;re<=_e;re++){const $e=F[re]=ne?sr(F[re]):Xt(F[re]);$e.key!=null&&Ae.set($e.key,re)}let Se,Re=0;const Ze=_e-Ee+1;let Ft=!1,Er=0;const Bt=new Array(Ze);for(re=0;re<Ze;re++)Bt[re]=0;for(re=be;re<=ve;re++){const $e=C[re];if(Re>=Ze){ie($e,Q,le,!0);continue}let ut;if($e.key!=null)ut=Ae.get($e.key);else for(Se=Ee;Se<=_e;Se++)if(Bt[Se-Ee]===0&&Ir($e,F[Se])){ut=Se;break}ut===void 0?ie($e,Q,le,!0):(Bt[ut-Ee]=re+1,ut>=Er?Er=ut:Ft=!0,v($e,F[ut],Y,null,Q,le,me,te,ne),Re++)}const Tr=Ft?gh(Bt):en;for(Se=Tr.length-1,re=Ze-1;re>=0;re--){const $e=Ee+re,ut=F[$e],Sr=$e+1<ge?F[$e+1].el:ee;Bt[re]===0?v(null,ut,Y,Sr,Q,le,me,te,ne):Ft&&(Se<0||re!==Tr[Se]?oe(ut,Y,Sr,2):Se--)}}},oe=(C,F,Y,ee,Q=null)=>{const{el:le,type:me,transition:te,children:ne,shapeFlag:re}=C;if(re&6){oe(C.component.subTree,F,Y,ee);return}if(re&128){C.suspense.move(F,Y,ee);return}if(re&64){me.move(C,F,Y,ae);return}if(me===Dt){e(le,F,Y);for(let ve=0;ve<ne.length;ve++)oe(ne[ve],F,Y,ee);e(C.anchor,F,Y);return}if(me===ci){w(C,F,Y);return}if(ee!==2&&re&1&&te)if(ee===0)te.beforeEnter(le),e(le,F,Y),ft(()=>te.enter(le),Q);else{const{leave:ve,delayLeave:_e,afterLeave:be}=te,Ee=()=>e(le,F,Y),Ae=()=>{ve(le,()=>{Ee(),be&&be()})};_e?_e(le,Ee,Ae):Ae()}else e(le,F,Y)},ie=(C,F,Y,ee=!1,Q=!1)=>{const{type:le,props:me,ref:te,children:ne,dynamicChildren:re,shapeFlag:ge,patchFlag:ve,dirs:_e}=C;if(te!=null&&Ao(te,null,Y,C,!0),ge&256){F.ctx.deactivate(C);return}const be=ge&1&&_e,Ee=!li(C);let Ae;if(Ee&&(Ae=me&&me.onVnodeBeforeUnmount)&&zt(Ae,F,C),ge&6)I(C.component,Y,ee);else{if(ge&128){C.suspense.unmount(Y,ee);return}be&&Cr(C,null,F,"beforeUnmount"),ge&64?C.type.remove(C,F,Y,Q,ae,ee):re&&(le!==Dt||ve>0&&ve&64)?H(re,F,Y,!1,!0):(le===Dt&&ve&384||!Q&&ge&16)&&H(ne,F,Y),ee&&fe(C)}(Ee&&(Ae=me&&me.onVnodeUnmounted)||be)&&ft(()=>{Ae&&zt(Ae,F,C),be&&Cr(C,null,F,"unmounted")},Y)},fe=C=>{const{type:F,el:Y,anchor:ee,transition:Q}=C;if(F===Dt){O(Y,ee);return}if(F===ci){M(C);return}const le=()=>{r(Y),Q&&!Q.persisted&&Q.afterLeave&&Q.afterLeave()};if(C.shapeFlag&1&&Q&&!Q.persisted){const{leave:me,delayLeave:te}=Q,ne=()=>me(Y,le);te?te(C.el,le,ne):ne()}else le()},O=(C,F)=>{let Y;for(;C!==F;)Y=h(C),r(C),C=Y;r(F)},I=(C,F,Y)=>{const{bum:ee,scope:Q,update:le,subTree:me,um:te}=C;ee&&qi(ee),Q.stop(),le&&(le.active=!1,ie(me,C,F,Y)),te&&ft(te,F),ft(()=>{C.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},H=(C,F,Y,ee=!1,Q=!1,le=0)=>{for(let me=le;me<C.length;me++)ie(C[me],F,Y,ee,Q)},q=C=>C.shapeFlag&6?q(C.component.subTree):C.shapeFlag&128?C.suspense.next():h(C.anchor||C.el),_=(C,F,Y)=>{C==null?F._vnode&&ie(F._vnode,null,null,!0):v(F._vnode||null,C,F,null,null,null,Y),Ml(),F._vnode=C},ae={p:v,um:ie,m:oe,r:fe,mt:X,mc:L,pc:$,pbc:R,n:q,o:l};let J,ce;return o&&([J,ce]=o(ae)),{render:_,hydrate:J,createApp:ph(_,J)}}function Lr({effect:l,update:o},t){l.allowRecurse=o.allowRecurse=t}function Xl(l,o,t=!1){const e=l.children,r=o.children;if(Ce(e)&&Ce(r))for(let n=0;n<e.length;n++){const i=e[n];let a=r[n];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[n]=sr(r[n]),a.el=i.el),t||Xl(i,a))}}function gh(l){const o=l.slice(),t=[0];let e,r,n,i,a;const s=l.length;for(e=0;e<s;e++){const c=l[e];if(c!==0){if(r=t[t.length-1],l[r]<c){o[e]=r,t.push(e);continue}for(n=0,i=t.length-1;n<i;)a=n+i>>1,l[t[a]]<c?n=a+1:i=a;c<l[t[n]]&&(n>0&&(o[e]=t[n-1]),t[n]=e)}}for(n=t.length,i=t[n-1];n-- >0;)t[n]=i,i=o[i];return t}const yh=l=>l.__isTeleport,Dt=Symbol(void 0),la=Symbol(void 0),Vt=Symbol(void 0),ci=Symbol(void 0),An=[];let Ot=null;function Je(l=!1){An.push(Ot=l?null:[])}function _h(){An.pop(),Ot=An[An.length-1]||null}let On=1;function ss(l){On+=l}function Yl(l){return l.dynamicChildren=On>0?Ot||en:null,_h(),On>0&&Ot&&Ot.push(l),l}function ct(l,o,t,e,r,n){return Yl(D(l,o,t,e,r,n,!0))}function ql(l,o,t,e,r){return Yl(Me(l,o,t,e,r,!0))}function Co(l){return l?l.__v_isVNode===!0:!1}function Ir(l,o){return l.type===o.type&&l.key===o.key}const Ui="__vInternal",jl=({key:l})=>l!=null?l:null,ui=({ref:l,ref_key:o,ref_for:t})=>l!=null?ot(l)||rt(l)||Le(l)?{i:Ut,r:l,k:o,f:!!t}:l:null;function D(l,o=null,t=null,e=0,r=null,n=l===Dt?0:1,i=!1,a=!1){const s={__v_isVNode:!0,__v_skip:!0,type:l,props:o,key:o&&jl(o),ref:o&&ui(o),scopeId:Tl,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:e,dynamicProps:r,dynamicChildren:null,appContext:null};return a?(ca(s,t),n&128&&l.normalize(s)):t&&(s.shapeFlag|=ot(t)?8:16),On>0&&!i&&Ot&&(s.patchFlag>0||n&6)&&s.patchFlag!==32&&Ot.push(s),s}const Me=xh;function xh(l,o=null,t=null,e=0,r=null,n=!1){if((!l||l===eh)&&(l=Vt),Co(l)){const a=_r(l,o,!0);return t&&ca(a,t),On>0&&!n&&Ot&&(a.shapeFlag&6?Ot[Ot.indexOf(l)]=a:Ot.push(a)),a.patchFlag|=-2,a}if(Fh(l)&&(l=l.__vccOpts),o){o=bh(o);let{class:a,style:s}=o;a&&!ot(a)&&(o.class=ye(a)),at(s)&&(fl(s)&&!Ce(s)&&(s=it({},s)),o.style=qo(s))}const i=ot(l)?1:Nf(l)?128:yh(l)?64:at(l)?4:Le(l)?2:0;return D(l,o,t,e,r,i,n,!0)}function bh(l){return l?fl(l)||Ui in l?it({},l):l:null}function _r(l,o,t=!1){const{props:e,ref:r,patchFlag:n,children:i}=l,a=o?Mh(e||{},o):e;return{__v_isVNode:!0,__v_skip:!0,type:l.type,props:a,key:a&&jl(a),ref:o&&o.ref?t&&r?Ce(r)?r.concat(ui(o)):[r,ui(o)]:ui(o):r,scopeId:l.scopeId,slotScopeIds:l.slotScopeIds,children:i,target:l.target,targetAnchor:l.targetAnchor,staticCount:l.staticCount,shapeFlag:l.shapeFlag,patchFlag:o&&l.type!==Dt?n===-1?16:n|16:n,dynamicProps:l.dynamicProps,dynamicChildren:l.dynamicChildren,appContext:l.appContext,dirs:l.dirs,transition:l.transition,component:l.component,suspense:l.suspense,ssContent:l.ssContent&&_r(l.ssContent),ssFallback:l.ssFallback&&_r(l.ssFallback),el:l.el,anchor:l.anchor}}function qt(l=" ",o=0){return Me(la,null,l,o)}function Zl(l,o){const t=Me(ci,null,l);return t.staticCount=o,t}function ls(l="",o=!1){return o?(Je(),ql(Vt,null,l)):Me(Vt,null,l)}function Xt(l){return l==null||typeof l=="boolean"?Me(Vt):Ce(l)?Me(Dt,null,l.slice()):typeof l=="object"?sr(l):Me(la,null,String(l))}function sr(l){return l.el===null||l.memo?l:_r(l)}function ca(l,o){let t=0;const{shapeFlag:e}=l;if(o==null)o=null;else if(Ce(o))t=16;else if(typeof o=="object")if(e&65){const r=o.default;r&&(r._c&&(r._d=!1),ca(l,r()),r._c&&(r._d=!0));return}else{t=32;const r=o._;!r&&!(Ui in o)?o._ctx=Ut:r===3&&Ut&&(Ut.slots._===1?o._=1:(o._=2,l.patchFlag|=1024))}else Le(o)?(o={default:o,_ctx:Ut},t=32):(o=String(o),e&64?(t=16,o=[qt(o)]):t=8);l.children=o,l.shapeFlag|=t}function Mh(...l){const o={};for(let t=0;t<l.length;t++){const e=l[t];for(const r in e)if(r==="class")o.class!==e.class&&(o.class=ye([o.class,e.class]));else if(r==="style")o.style=qo([o.style,e.style]);else if(Si(r)){const n=o[r],i=e[r];i&&n!==i&&!(Ce(n)&&n.includes(i))&&(o[r]=n?[].concat(n,i):i)}else r!==""&&(o[r]=e[r])}return o}function zt(l,o,t,e=null){Pt(l,o,7,[t,e])}const wh=Wl();let Eh=0;function Th(l,o,t){const e=l.type,r=(o?o.appContext:l.appContext)||wh,n={uid:Eh++,vnode:l,type:e,parent:o,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new ju(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:o?o.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:kl(e,r),emitsOptions:El(e,r),emit:null,emitted:null,propsDefaults:ke,inheritAttrs:e.inheritAttrs,ctx:ke,data:ke,props:ke,attrs:ke,slots:ke,refs:ke,setupState:ke,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=o?o.root:n,n.emit=Bf.bind(null,n),l.ce&&l.ce(n),n}let Ye=null;const Sh=()=>Ye||Ut,sn=l=>{Ye=l,l.scope.on()},Vr=()=>{Ye&&Ye.scope.off(),Ye=null};function $l(l){return l.vnode.shapeFlag&4}let Nn=!1;function Ah(l,o=!1){Nn=o;const{props:t,children:e}=l.vnode,r=$l(l);lh(l,t,r,o),fh(l,e);const n=r?Ch(l,o):void 0;return Nn=!1,n}function Ch(l,o){const t=l.type;l.accessCache=Object.create(null),l.proxy=hl(new Proxy(l.ctx,rh));const{setup:e}=t;if(e){const r=l.setupContext=e.length>1?Ph(l):null;sn(l),vn();const n=pr(e,l,0,[l.props,r]);if(gn(),Vr(),Js(n)){if(n.then(Vr,Vr),o)return n.then(i=>{cs(l,i,o)}).catch(i=>{Ri(i,l,0)});l.asyncDep=n}else cs(l,n,o)}else Kl(l,o)}function cs(l,o,t){Le(o)?l.type.__ssrInlineRender?l.ssrRender=o:l.render=o:at(o)&&(l.setupState=vl(o)),Kl(l,t)}let us;function Kl(l,o,t){const e=l.type;if(!l.render){if(!o&&us&&!e.render){const r=e.template;if(r){const{isCustomElement:n,compilerOptions:i}=l.appContext.config,{delimiters:a,compilerOptions:s}=e,c=it(it({isCustomElement:n,delimiters:a},i),s);e.render=us(r,c)}}l.render=e.render||Nt}sn(l),vn(),nh(l),gn(),Vr()}function Lh(l){return new Proxy(l.attrs,{get(o,t){return xt(l,"get","$attrs"),o[t]}})}function Ph(l){const o=e=>{l.exposed=e||{}};let t;return{get attrs(){return t||(t=Lh(l))},slots:l.slots,emit:l.emit,expose:o}}function ua(l){if(l.exposed)return l.exposeProxy||(l.exposeProxy=new Proxy(vl(hl(l.exposed)),{get(o,t){if(t in o)return o[t];if(t in mi)return mi[t](l)}}))}function Rh(l,o=!0){return Le(l)?l.displayName||l.name:l.name||o&&l.__name}function Fh(l){return Le(l)&&"__vccOpts"in l}const St=(l,o)=>Af(l,o,Nn);function Ql(l,o,t){const e=arguments.length;return e===2?at(o)&&!Ce(o)?Co(o)?Me(l,null,[o]):Me(l,o):Me(l,null,o):(e>3?t=Array.prototype.slice.call(arguments,2):e===3&&Co(t)&&(t=[t]),Me(l,o,t))}const Bh="3.2.37",Dh="http://www.w3.org/2000/svg",Ur=typeof document!="undefined"?document:null,fs=Ur&&Ur.createElement("template"),Ih={insert:(l,o,t)=>{o.insertBefore(l,t||null)},remove:l=>{const o=l.parentNode;o&&o.removeChild(l)},createElement:(l,o,t,e)=>{const r=o?Ur.createElementNS(Dh,l):Ur.createElement(l,t?{is:t}:void 0);return l==="select"&&e&&e.multiple!=null&&r.setAttribute("multiple",e.multiple),r},createText:l=>Ur.createTextNode(l),createComment:l=>Ur.createComment(l),setText:(l,o)=>{l.nodeValue=o},setElementText:(l,o)=>{l.textContent=o},parentNode:l=>l.parentNode,nextSibling:l=>l.nextSibling,querySelector:l=>Ur.querySelector(l),setScopeId(l,o){l.setAttribute(o,"")},cloneNode(l){const o=l.cloneNode(!0);return"_value"in l&&(o._value=l._value),o},insertStaticContent(l,o,t,e,r,n){const i=t?t.previousSibling:o.lastChild;if(r&&(r===n||r.nextSibling))for(;o.insertBefore(r.cloneNode(!0),t),!(r===n||!(r=r.nextSibling)););else{fs.innerHTML=e?`<svg>${l}</svg>`:l;const a=fs.content;if(e){const s=a.firstChild;for(;s.firstChild;)a.appendChild(s.firstChild);a.removeChild(s)}o.insertBefore(a,t)}return[i?i.nextSibling:o.firstChild,t?t.previousSibling:o.lastChild]}};function Uh(l,o,t){const e=l._vtc;e&&(o=(o?[o,...e]:[...e]).join(" ")),o==null?l.removeAttribute("class"):t?l.setAttribute("class",o):l.className=o}function Oh(l,o,t){const e=l.style,r=ot(t);if(t&&!r){for(const n in t)Lo(e,n,t[n]);if(o&&!ot(o))for(const n in o)t[n]==null&&Lo(e,n,"")}else{const n=e.display;r?o!==t&&(e.cssText=t):o&&l.removeAttribute("style"),"_vod"in l&&(e.display=n)}}const hs=/\s*!important$/;function Lo(l,o,t){if(Ce(t))t.forEach(e=>Lo(l,o,e));else if(t==null&&(t=""),o.startsWith("--"))l.setProperty(o,t);else{const e=Nh(l,o);hs.test(t)?l.setProperty(mn(e),t.replace(hs,""),"important"):l[e]=t}}const ds=["Webkit","Moz","ms"],$i={};function Nh(l,o){const t=$i[o];if(t)return t;let e=jt(o);if(e!=="filter"&&e in l)return $i[o]=e;e=Li(e);for(let r=0;r<ds.length;r++){const n=ds[r]+e;if(n in l)return $i[o]=n}return o}const ps="http://www.w3.org/1999/xlink";function Vh(l,o,t,e,r){if(e&&o.startsWith("xlink:"))t==null?l.removeAttributeNS(ps,o.slice(6,o.length)):l.setAttributeNS(ps,o,t);else{const n=Bu(o);t==null||n&&!Qs(t)?l.removeAttribute(o):l.setAttribute(o,n?"":t)}}function kh(l,o,t,e,r,n,i){if(o==="innerHTML"||o==="textContent"){e&&i(e,r,n),l[o]=t==null?"":t;return}if(o==="value"&&l.tagName!=="PROGRESS"&&!l.tagName.includes("-")){l._value=t;const s=t==null?"":t;(l.value!==s||l.tagName==="OPTION")&&(l.value=s),t==null&&l.removeAttribute(o);return}let a=!1;if(t===""||t==null){const s=typeof l[o];s==="boolean"?t=Qs(t):t==null&&s==="string"?(t="",a=!0):s==="number"&&(t=0,a=!0)}try{l[o]=t}catch{}a&&l.removeAttribute(o)}const[Jl,Gh]=(()=>{let l=Date.now,o=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(l=performance.now.bind(performance));const t=navigator.userAgent.match(/firefox\/(\d+)/i);o=!!(t&&Number(t[1])<=53)}return[l,o]})();let Po=0;const zh=Promise.resolve(),Hh=()=>{Po=0},Wh=()=>Po||(zh.then(Hh),Po=Jl());function Xh(l,o,t,e){l.addEventListener(o,t,e)}function Yh(l,o,t,e){l.removeEventListener(o,t,e)}function qh(l,o,t,e,r=null){const n=l._vei||(l._vei={}),i=n[o];if(e&&i)i.value=e;else{const[a,s]=jh(o);if(e){const c=n[o]=Zh(e,r);Xh(l,a,c,s)}else i&&(Yh(l,a,i,s),n[o]=void 0)}}const ms=/(?:Once|Passive|Capture)$/;function jh(l){let o;if(ms.test(l)){o={};let t;for(;t=l.match(ms);)l=l.slice(0,l.length-t[0].length),o[t[0].toLowerCase()]=!0}return[mn(l.slice(2)),o]}function Zh(l,o){const t=e=>{const r=e.timeStamp||Jl();(Gh||r>=t.attached-1)&&Pt($h(e,t.value),o,5,[e])};return t.value=l,t.attached=Wh(),t}function $h(l,o){if(Ce(o)){const t=l.stopImmediatePropagation;return l.stopImmediatePropagation=()=>{t.call(l),l._stopped=!0},o.map(e=>r=>!r._stopped&&e&&e(r))}else return o}const vs=/^on[a-z]/,Kh=(l,o,t,e,r=!1,n,i,a,s)=>{o==="class"?Uh(l,e,r):o==="style"?Oh(l,t,e):Si(o)?jo(o)||qh(l,o,t,e,i):(o[0]==="."?(o=o.slice(1),!0):o[0]==="^"?(o=o.slice(1),!1):Qh(l,o,e,r))?kh(l,o,e,n,i,a,s):(o==="true-value"?l._trueValue=e:o==="false-value"&&(l._falseValue=e),Vh(l,o,e,r))};function Qh(l,o,t,e){return e?!!(o==="innerHTML"||o==="textContent"||o in l&&vs.test(o)&&Le(t)):o==="spellcheck"||o==="draggable"||o==="translate"||o==="form"||o==="list"&&l.tagName==="INPUT"||o==="type"&&l.tagName==="TEXTAREA"||vs.test(o)&&ot(t)?!1:o in l}const Jh={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Hf.props;const ed=it({patchProp:Kh},Ih);let gs;function td(){return gs||(gs=mh(ed))}const rd=(...l)=>{const o=td().createApp(...l),{mount:t}=o;return o.mount=e=>{const r=nd(e);if(!r)return;const n=o._component;!Le(n)&&!n.render&&!n.template&&(n.template=r.innerHTML),r.innerHTML="";const i=t(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},o};function nd(l){return ot(l)?document.querySelector(l):l}var fa=(l,o)=>{const t=l.__vccOpts||l;for(const[e,r]of o)t[e]=r;return t};const id={};function od(l,o){const t=Ul("RouterView");return Je(),ql(t)}var ad=fa(id,[["render",od]]);/*!
  * vue-router v4.1.2
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const $r=typeof window!="undefined";function sd(l){return l.__esModule||l[Symbol.toStringTag]==="Module"}const Ne=Object.assign;function Ki(l,o){const t={};for(const e in o){const r=o[e];t[e]=kt(r)?r.map(l):l(r)}return t}const Cn=()=>{},kt=Array.isArray,ld=/\/$/,cd=l=>l.replace(ld,"");function Qi(l,o,t="/"){let e,r={},n="",i="";const a=o.indexOf("#");let s=o.indexOf("?");return a<s&&a>=0&&(s=-1),s>-1&&(e=o.slice(0,s),n=o.slice(s+1,a>-1?a:o.length),r=l(n)),a>-1&&(e=e||o.slice(0,a),i=o.slice(a,o.length)),e=dd(e!=null?e:o,t),{fullPath:e+(n&&"?")+n+i,path:e,query:r,hash:i}}function ud(l,o){const t=o.query?l(o.query):"";return o.path+(t&&"?")+t+(o.hash||"")}function ys(l,o){return!o||!l.toLowerCase().startsWith(o.toLowerCase())?l:l.slice(o.length)||"/"}function fd(l,o,t){const e=o.matched.length-1,r=t.matched.length-1;return e>-1&&e===r&&ln(o.matched[e],t.matched[r])&&ec(o.params,t.params)&&l(o.query)===l(t.query)&&o.hash===t.hash}function ln(l,o){return(l.aliasOf||l)===(o.aliasOf||o)}function ec(l,o){if(Object.keys(l).length!==Object.keys(o).length)return!1;for(const t in l)if(!hd(l[t],o[t]))return!1;return!0}function hd(l,o){return kt(l)?_s(l,o):kt(o)?_s(o,l):l===o}function _s(l,o){return kt(o)?l.length===o.length&&l.every((t,e)=>t===o[e]):l.length===1&&l[0]===o}function dd(l,o){if(l.startsWith("/"))return l;if(!l)return o;const t=o.split("/"),e=l.split("/");let r=t.length-1,n,i;for(n=0;n<e.length;n++)if(i=e[n],i!==".")if(i==="..")r>1&&r--;else break;return t.slice(0,r).join("/")+"/"+e.slice(n-(n===e.length?1:0)).join("/")}var Vn;(function(l){l.pop="pop",l.push="push"})(Vn||(Vn={}));var Ln;(function(l){l.back="back",l.forward="forward",l.unknown=""})(Ln||(Ln={}));function pd(l){if(!l)if($r){const o=document.querySelector("base");l=o&&o.getAttribute("href")||"/",l=l.replace(/^\w+:\/\/[^\/]+/,"")}else l="/";return l[0]!=="/"&&l[0]!=="#"&&(l="/"+l),cd(l)}const md=/^[^#]+#/;function vd(l,o){return l.replace(md,"#")+o}function gd(l,o){const t=document.documentElement.getBoundingClientRect(),e=l.getBoundingClientRect();return{behavior:o.behavior,left:e.left-t.left-(o.left||0),top:e.top-t.top-(o.top||0)}}const Oi=()=>({left:window.pageXOffset,top:window.pageYOffset});function yd(l){let o;if("el"in l){const t=l.el,e=typeof t=="string"&&t.startsWith("#"),r=typeof t=="string"?e?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!r)return;o=gd(r,l)}else o=l;"scrollBehavior"in document.documentElement.style?window.scrollTo(o):window.scrollTo(o.left!=null?o.left:window.pageXOffset,o.top!=null?o.top:window.pageYOffset)}function xs(l,o){return(history.state?history.state.position-o:-1)+l}const Ro=new Map;function _d(l,o){Ro.set(l,o)}function xd(l){const o=Ro.get(l);return Ro.delete(l),o}let bd=()=>location.protocol+"//"+location.host;function tc(l,o){const{pathname:t,search:e,hash:r}=o,n=l.indexOf("#");if(n>-1){let a=r.includes(l.slice(n))?l.slice(n).length:1,s=r.slice(a);return s[0]!=="/"&&(s="/"+s),ys(s,"")}return ys(t,l)+e+r}function Md(l,o,t,e){let r=[],n=[],i=null;const a=({state:h})=>{const d=tc(l,location),m=t.value,p=o.value;let v=0;if(h){if(t.value=d,o.value=h,i&&i===m){i=null;return}v=p?h.position-p.position:0}else e(d);r.forEach(g=>{g(t.value,m,{delta:v,type:Vn.pop,direction:v?v>0?Ln.forward:Ln.back:Ln.unknown})})};function s(){i=t.value}function c(h){r.push(h);const d=()=>{const m=r.indexOf(h);m>-1&&r.splice(m,1)};return n.push(d),d}function u(){const{history:h}=window;!h.state||h.replaceState(Ne({},h.state,{scroll:Oi()}),"")}function f(){for(const h of n)h();n=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:s,listen:c,destroy:f}}function bs(l,o,t,e=!1,r=!1){return{back:l,current:o,forward:t,replaced:e,position:window.history.length,scroll:r?Oi():null}}function wd(l){const{history:o,location:t}=window,e={value:tc(l,t)},r={value:o.state};r.value||n(e.value,{back:null,current:e.value,forward:null,position:o.length-1,replaced:!0,scroll:null},!0);function n(s,c,u){const f=l.indexOf("#"),h=f>-1?(t.host&&document.querySelector("base")?l:l.slice(f))+s:bd()+l+s;try{o[u?"replaceState":"pushState"](c,"",h),r.value=c}catch(d){console.error(d),t[u?"replace":"assign"](h)}}function i(s,c){const u=Ne({},o.state,bs(r.value.back,s,r.value.forward,!0),c,{position:r.value.position});n(s,u,!0),e.value=s}function a(s,c){const u=Ne({},r.value,o.state,{forward:s,scroll:Oi()});n(u.current,u,!0);const f=Ne({},bs(e.value,s,null),{position:u.position+1},c);n(s,f,!1),e.value=s}return{location:e,state:r,push:a,replace:i}}function Ed(l){l=pd(l);const o=wd(l),t=Md(l,o.state,o.location,o.replace);function e(n,i=!0){i||t.pauseListeners(),history.go(n)}const r=Ne({location:"",base:l,go:e,createHref:vd.bind(null,l)},o,t);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>o.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>o.state.value}),r}function Td(l){return typeof l=="string"||l&&typeof l=="object"}function rc(l){return typeof l=="string"||typeof l=="symbol"}const ir={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},nc=Symbol("");var Ms;(function(l){l[l.aborted=4]="aborted",l[l.cancelled=8]="cancelled",l[l.duplicated=16]="duplicated"})(Ms||(Ms={}));function cn(l,o){return Ne(new Error,{type:l,[nc]:!0},o)}function or(l,o){return l instanceof Error&&nc in l&&(o==null||!!(l.type&o))}const ws="[^/]+?",Sd={sensitive:!1,strict:!1,start:!0,end:!0},Ad=/[.+*?^${}()[\]/\\]/g;function Cd(l,o){const t=Ne({},Sd,o),e=[];let r=t.start?"^":"";const n=[];for(const c of l){const u=c.length?[]:[90];t.strict&&!c.length&&(r+="/");for(let f=0;f<c.length;f++){const h=c[f];let d=40+(t.sensitive?.25:0);if(h.type===0)f||(r+="/"),r+=h.value.replace(Ad,"\\$&"),d+=40;else if(h.type===1){const{value:m,repeatable:p,optional:v,regexp:g}=h;n.push({name:m,repeatable:p,optional:v});const y=g||ws;if(y!==ws){d+=10;try{new RegExp(`(${y})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${m}" (${y}): `+w.message)}}let x=p?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;f||(x=v&&c.length<2?`(?:/${x})`:"/"+x),v&&(x+="?"),r+=x,d+=20,v&&(d+=-8),p&&(d+=-20),y===".*"&&(d+=-50)}u.push(d)}e.push(u)}if(t.strict&&t.end){const c=e.length-1;e[c][e[c].length-1]+=.7000000000000001}t.strict||(r+="/?"),t.end?r+="$":t.strict&&(r+="(?:/|$)");const i=new RegExp(r,t.sensitive?"":"i");function a(c){const u=c.match(i),f={};if(!u)return null;for(let h=1;h<u.length;h++){const d=u[h]||"",m=n[h-1];f[m.name]=d&&m.repeatable?d.split("/"):d}return f}function s(c){let u="",f=!1;for(const h of l){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const d of h)if(d.type===0)u+=d.value;else if(d.type===1){const{value:m,repeatable:p,optional:v}=d,g=m in c?c[m]:"";if(kt(g)&&!p)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const y=kt(g)?g.join("/"):g;if(!y)if(v)h.length<2&&l.length>1&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);u+=y}}return u}return{re:i,score:e,keys:n,parse:a,stringify:s}}function Ld(l,o){let t=0;for(;t<l.length&&t<o.length;){const e=o[t]-l[t];if(e)return e;t++}return l.length<o.length?l.length===1&&l[0]===40+40?-1:1:l.length>o.length?o.length===1&&o[0]===40+40?1:-1:0}function Pd(l,o){let t=0;const e=l.score,r=o.score;for(;t<e.length&&t<r.length;){const n=Ld(e[t],r[t]);if(n)return n;t++}if(Math.abs(r.length-e.length)===1){if(Es(e))return 1;if(Es(r))return-1}return r.length-e.length}function Es(l){const o=l[l.length-1];return l.length>0&&o[o.length-1]<0}const Rd={type:0,value:""},Fd=/[a-zA-Z0-9_]/;function Bd(l){if(!l)return[[]];if(l==="/")return[[Rd]];if(!l.startsWith("/"))throw new Error(`Invalid path "${l}"`);function o(d){throw new Error(`ERR (${t})/"${c}": ${d}`)}let t=0,e=t;const r=[];let n;function i(){n&&r.push(n),n=[]}let a=0,s,c="",u="";function f(){!c||(t===0?n.push({type:0,value:c}):t===1||t===2||t===3?(n.length>1&&(s==="*"||s==="+")&&o(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),n.push({type:1,value:c,regexp:u,repeatable:s==="*"||s==="+",optional:s==="*"||s==="?"})):o("Invalid state to consume buffer"),c="")}function h(){c+=s}for(;a<l.length;){if(s=l[a++],s==="\\"&&t!==2){e=t,t=4;continue}switch(t){case 0:s==="/"?(c&&f(),i()):s===":"?(f(),t=1):h();break;case 4:h(),t=e;break;case 1:s==="("?t=2:Fd.test(s)?h():(f(),t=0,s!=="*"&&s!=="?"&&s!=="+"&&a--);break;case 2:s===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+s:t=3:u+=s;break;case 3:f(),t=0,s!=="*"&&s!=="?"&&s!=="+"&&a--,u="";break;default:o("Unknown state");break}}return t===2&&o(`Unfinished custom RegExp for param "${c}"`),f(),i(),r}function Dd(l,o,t){const e=Cd(Bd(l.path),t),r=Ne(e,{record:l,parent:o,children:[],alias:[]});return o&&!r.record.aliasOf==!o.record.aliasOf&&o.children.push(r),r}function Id(l,o){const t=[],e=new Map;o=Ss({strict:!1,end:!0,sensitive:!1},o);function r(u){return e.get(u)}function n(u,f,h){const d=!h,m=Od(u);m.aliasOf=h&&h.record;const p=Ss(o,u),v=[m];if("alias"in u){const x=typeof u.alias=="string"?[u.alias]:u.alias;for(const w of x)v.push(Ne({},m,{components:h?h.record.components:m.components,path:w,aliasOf:h?h.record:m}))}let g,y;for(const x of v){const{path:w}=x;if(f&&w[0]!=="/"){const M=f.record.path,E=M[M.length-1]==="/"?"":"/";x.path=f.record.path+(w&&E+w)}if(g=Dd(x,f,p),h?h.alias.push(g):(y=y||g,y!==g&&y.alias.push(g),d&&u.name&&!Ts(g)&&i(u.name)),m.children){const M=m.children;for(let E=0;E<M.length;E++)n(M[E],g,h&&h.children[E])}h=h||g,s(g)}return y?()=>{i(y)}:Cn}function i(u){if(rc(u)){const f=e.get(u);f&&(e.delete(u),t.splice(t.indexOf(f),1),f.children.forEach(i),f.alias.forEach(i))}else{const f=t.indexOf(u);f>-1&&(t.splice(f,1),u.record.name&&e.delete(u.record.name),u.children.forEach(i),u.alias.forEach(i))}}function a(){return t}function s(u){let f=0;for(;f<t.length&&Pd(u,t[f])>=0&&(u.record.path!==t[f].record.path||!ic(u,t[f]));)f++;t.splice(f,0,u),u.record.name&&!Ts(u)&&e.set(u.record.name,u)}function c(u,f){let h,d={},m,p;if("name"in u&&u.name){if(h=e.get(u.name),!h)throw cn(1,{location:u});p=h.record.name,d=Ne(Ud(f.params,h.keys.filter(y=>!y.optional).map(y=>y.name)),u.params),m=h.stringify(d)}else if("path"in u)m=u.path,h=t.find(y=>y.re.test(m)),h&&(d=h.parse(m),p=h.record.name);else{if(h=f.name?e.get(f.name):t.find(y=>y.re.test(f.path)),!h)throw cn(1,{location:u,currentLocation:f});p=h.record.name,d=Ne({},f.params,u.params),m=h.stringify(d)}const v=[];let g=h;for(;g;)v.unshift(g.record),g=g.parent;return{name:p,path:m,params:d,matched:v,meta:Vd(v)}}return l.forEach(u=>n(u)),{addRoute:n,resolve:c,removeRoute:i,getRoutes:a,getRecordMatcher:r}}function Ud(l,o){const t={};for(const e of o)e in l&&(t[e]=l[e]);return t}function Od(l){return{path:l.path,redirect:l.redirect,name:l.name,meta:l.meta||{},aliasOf:void 0,beforeEnter:l.beforeEnter,props:Nd(l),children:l.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in l?l.components||null:l.component&&{default:l.component}}}function Nd(l){const o={},t=l.props||!1;if("component"in l)o.default=t;else for(const e in l.components)o[e]=typeof t=="boolean"?t:t[e];return o}function Ts(l){for(;l;){if(l.record.aliasOf)return!0;l=l.parent}return!1}function Vd(l){return l.reduce((o,t)=>Ne(o,t.meta),{})}function Ss(l,o){const t={};for(const e in l)t[e]=e in o?o[e]:l[e];return t}function ic(l,o){return o.children.some(t=>t===l||ic(l,t))}const oc=/#/g,kd=/&/g,Gd=/\//g,zd=/=/g,Hd=/\?/g,ac=/\+/g,Wd=/%5B/g,Xd=/%5D/g,sc=/%5E/g,Yd=/%60/g,lc=/%7B/g,qd=/%7C/g,cc=/%7D/g,jd=/%20/g;function ha(l){return encodeURI(""+l).replace(qd,"|").replace(Wd,"[").replace(Xd,"]")}function Zd(l){return ha(l).replace(lc,"{").replace(cc,"}").replace(sc,"^")}function Fo(l){return ha(l).replace(ac,"%2B").replace(jd,"+").replace(oc,"%23").replace(kd,"%26").replace(Yd,"`").replace(lc,"{").replace(cc,"}").replace(sc,"^")}function $d(l){return Fo(l).replace(zd,"%3D")}function Kd(l){return ha(l).replace(oc,"%23").replace(Hd,"%3F")}function Qd(l){return l==null?"":Kd(l).replace(Gd,"%2F")}function gi(l){try{return decodeURIComponent(""+l)}catch{}return""+l}function Jd(l){const o={};if(l===""||l==="?")return o;const e=(l[0]==="?"?l.slice(1):l).split("&");for(let r=0;r<e.length;++r){const n=e[r].replace(ac," "),i=n.indexOf("="),a=gi(i<0?n:n.slice(0,i)),s=i<0?null:gi(n.slice(i+1));if(a in o){let c=o[a];kt(c)||(c=o[a]=[c]),c.push(s)}else o[a]=s}return o}function As(l){let o="";for(let t in l){const e=l[t];if(t=$d(t),e==null){e!==void 0&&(o+=(o.length?"&":"")+t);continue}(kt(e)?e.map(n=>n&&Fo(n)):[e&&Fo(e)]).forEach(n=>{n!==void 0&&(o+=(o.length?"&":"")+t,n!=null&&(o+="="+n))})}return o}function ep(l){const o={};for(const t in l){const e=l[t];e!==void 0&&(o[t]=kt(e)?e.map(r=>r==null?null:""+r):e==null?e:""+e)}return o}const tp=Symbol(""),Cs=Symbol(""),da=Symbol(""),uc=Symbol(""),Bo=Symbol("");function yn(){let l=[];function o(e){return l.push(e),()=>{const r=l.indexOf(e);r>-1&&l.splice(r,1)}}function t(){l=[]}return{add:o,list:()=>l,reset:t}}function lr(l,o,t,e,r){const n=e&&(e.enterCallbacks[r]=e.enterCallbacks[r]||[]);return()=>new Promise((i,a)=>{const s=f=>{f===!1?a(cn(4,{from:t,to:o})):f instanceof Error?a(f):Td(f)?a(cn(2,{from:o,to:f})):(n&&e.enterCallbacks[r]===n&&typeof f=="function"&&n.push(f),i())},c=l.call(e&&e.instances[r],o,t,s);let u=Promise.resolve(c);l.length<3&&(u=u.then(s)),u.catch(f=>a(f))})}function Ji(l,o,t,e){const r=[];for(const n of l)for(const i in n.components){let a=n.components[i];if(!(o!=="beforeRouteEnter"&&!n.instances[i]))if(rp(a)){const c=(a.__vccOpts||a)[o];c&&r.push(lr(c,t,e,n,i))}else{let s=a();r.push(()=>s.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${i}" at "${n.path}"`));const u=sd(c)?c.default:c;n.components[i]=u;const h=(u.__vccOpts||u)[o];return h&&lr(h,t,e,n,i)()}))}}return r}function rp(l){return typeof l=="object"||"displayName"in l||"props"in l||"__vccOpts"in l}function Ls(l){const o=mr(da),t=mr(uc),e=St(()=>o.resolve(rn(l.to))),r=St(()=>{const{matched:s}=e.value,{length:c}=s,u=s[c-1],f=t.matched;if(!u||!f.length)return-1;const h=f.findIndex(ln.bind(null,u));if(h>-1)return h;const d=Ps(s[c-2]);return c>1&&Ps(u)===d&&f[f.length-1].path!==d?f.findIndex(ln.bind(null,s[c-2])):h}),n=St(()=>r.value>-1&&ap(t.params,e.value.params)),i=St(()=>r.value>-1&&r.value===t.matched.length-1&&ec(t.params,e.value.params));function a(s={}){return op(s)?o[rn(l.replace)?"replace":"push"](rn(l.to)).catch(Cn):Promise.resolve()}return{route:e,href:St(()=>e.value.href),isActive:n,isExactActive:i,navigate:a}}const np=Rl({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ls,setup(l,{slots:o}){const t=qn(Ls(l)),{options:e}=mr(da),r=St(()=>({[Rs(l.activeClass,e.linkActiveClass,"router-link-active")]:t.isActive,[Rs(l.exactActiveClass,e.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const n=o.default&&o.default(t);return l.custom?n:Ql("a",{"aria-current":t.isExactActive?l.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:r.value},n)}}}),ip=np;function op(l){if(!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)&&!l.defaultPrevented&&!(l.button!==void 0&&l.button!==0)){if(l.currentTarget&&l.currentTarget.getAttribute){const o=l.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(o))return}return l.preventDefault&&l.preventDefault(),!0}}function ap(l,o){for(const t in o){const e=o[t],r=l[t];if(typeof e=="string"){if(e!==r)return!1}else if(!kt(r)||r.length!==e.length||e.some((n,i)=>n!==r[i]))return!1}return!0}function Ps(l){return l?l.aliasOf?l.aliasOf.path:l.path:""}const Rs=(l,o,t)=>l!=null?l:o!=null?o:t,sp=Rl({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(l,{attrs:o,slots:t}){const e=mr(Bo),r=St(()=>l.route||e.value),n=mr(Cs,0),i=St(()=>{let c=rn(n);const{matched:u}=r.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),a=St(()=>r.value.matched[i.value]);ai(Cs,St(()=>i.value+1)),ai(tp,a),ai(Bo,r);const s=yo();return si(()=>[s.value,a.value,l.name],([c,u,f],[h,d,m])=>{u&&(u.instances[f]=c,d&&d!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),c&&u&&(!d||!ln(u,d)||!h)&&(u.enterCallbacks[f]||[]).forEach(p=>p(c))},{flush:"post"}),()=>{const c=r.value,u=a.value,f=u&&u.components[l.name],h=l.name;if(!f)return Fs(t.default,{Component:f,route:c});const d=u.props[l.name],m=d?d===!0?c.params:typeof d=="function"?d(c):d:null,v=Ql(f,Ne({},m,o,{onVnodeUnmounted:g=>{g.component.isUnmounted&&(u.instances[h]=null)},ref:s}));return Fs(t.default,{Component:v,route:c})||v}}});function Fs(l,o){if(!l)return null;const t=l(o);return t.length===1?t[0]:t}const lp=sp;function cp(l){const o=Id(l.routes,l),t=l.parseQuery||Jd,e=l.stringifyQuery||As,r=l.history,n=yn(),i=yn(),a=yn(),s=wf(ir);let c=ir;$r&&l.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Ki.bind(null,O=>""+O),f=Ki.bind(null,Qd),h=Ki.bind(null,gi);function d(O,I){let H,q;return rc(O)?(H=o.getRecordMatcher(O),q=I):q=O,o.addRoute(q,H)}function m(O){const I=o.getRecordMatcher(O);I&&o.removeRoute(I)}function p(){return o.getRoutes().map(O=>O.record)}function v(O){return!!o.getRecordMatcher(O)}function g(O,I){if(I=Ne({},I||s.value),typeof O=="string"){const ce=Qi(t,O,I.path),C=o.resolve({path:ce.path},I),F=r.createHref(ce.fullPath);return Ne(ce,C,{params:h(C.params),hash:gi(ce.hash),redirectedFrom:void 0,href:F})}let H;if("path"in O)H=Ne({},O,{path:Qi(t,O.path,I.path).path});else{const ce=Ne({},O.params);for(const C in ce)ce[C]==null&&delete ce[C];H=Ne({},O,{params:f(O.params)}),I.params=f(I.params)}const q=o.resolve(H,I),_=O.hash||"";q.params=u(h(q.params));const ae=ud(e,Ne({},O,{hash:Zd(_),path:q.path})),J=r.createHref(ae);return Ne({fullPath:ae,hash:_,query:e===As?ep(O.query):O.query||{}},q,{redirectedFrom:void 0,href:J})}function y(O){return typeof O=="string"?Qi(t,O,s.value.path):Ne({},O)}function x(O,I){if(c!==O)return cn(8,{from:I,to:O})}function w(O){return T(O)}function M(O){return w(Ne(y(O),{replace:!0}))}function E(O){const I=O.matched[O.matched.length-1];if(I&&I.redirect){const{redirect:H}=I;let q=typeof H=="function"?H(O):H;return typeof q=="string"&&(q=q.includes("?")||q.includes("#")?q=y(q):{path:q},q.params={}),Ne({query:O.query,hash:O.hash,params:"path"in q?{}:O.params},q)}}function T(O,I){const H=c=g(O),q=s.value,_=O.state,ae=O.force,J=O.replace===!0,ce=E(H);if(ce)return T(Ne(y(ce),{state:_,force:ae,replace:J}),I||H);const C=H;C.redirectedFrom=I;let F;return!ae&&fd(e,q,H)&&(F=cn(16,{to:C,from:q}),Z(q,q,!0,!1)),(F?Promise.resolve(F):L(C,q)).catch(Y=>or(Y)?or(Y,2)?Y:$(Y):k(Y,C,q)).then(Y=>{if(Y){if(or(Y,2))return T(Ne(y(Y.to),{state:_,force:ae,replace:J}),I||C)}else Y=R(C,q,!0,J,_);return P(C,q,Y),Y})}function S(O,I){const H=x(O,I);return H?Promise.reject(H):Promise.resolve()}function L(O,I){let H;const[q,_,ae]=up(O,I);H=Ji(q.reverse(),"beforeRouteLeave",O,I);for(const ce of q)ce.leaveGuards.forEach(C=>{H.push(lr(C,O,I))});const J=S.bind(null,O,I);return H.push(J),Yr(H).then(()=>{H=[];for(const ce of n.list())H.push(lr(ce,O,I));return H.push(J),Yr(H)}).then(()=>{H=Ji(_,"beforeRouteUpdate",O,I);for(const ce of _)ce.updateGuards.forEach(C=>{H.push(lr(C,O,I))});return H.push(J),Yr(H)}).then(()=>{H=[];for(const ce of O.matched)if(ce.beforeEnter&&!I.matched.includes(ce))if(kt(ce.beforeEnter))for(const C of ce.beforeEnter)H.push(lr(C,O,I));else H.push(lr(ce.beforeEnter,O,I));return H.push(J),Yr(H)}).then(()=>(O.matched.forEach(ce=>ce.enterCallbacks={}),H=Ji(ae,"beforeRouteEnter",O,I),H.push(J),Yr(H))).then(()=>{H=[];for(const ce of i.list())H.push(lr(ce,O,I));return H.push(J),Yr(H)}).catch(ce=>or(ce,8)?ce:Promise.reject(ce))}function P(O,I,H){for(const q of a.list())q(O,I,H)}function R(O,I,H,q,_){const ae=x(O,I);if(ae)return ae;const J=I===ir,ce=$r?history.state:{};H&&(q||J?r.replace(O.fullPath,Ne({scroll:J&&ce&&ce.scroll},_)):r.push(O.fullPath,_)),s.value=O,Z(O,I,H,J),$()}let B;function V(){B||(B=r.listen((O,I,H)=>{if(!fe.listening)return;const q=g(O),_=E(q);if(_){T(Ne(_,{replace:!0}),q).catch(Cn);return}c=q;const ae=s.value;$r&&_d(xs(ae.fullPath,H.delta),Oi()),L(q,ae).catch(J=>or(J,12)?J:or(J,2)?(T(J.to,q).then(ce=>{or(ce,20)&&!H.delta&&H.type===Vn.pop&&r.go(-1,!1)}).catch(Cn),Promise.reject()):(H.delta&&r.go(-H.delta,!1),k(J,q,ae))).then(J=>{J=J||R(q,ae,!1),J&&(H.delta?r.go(-H.delta,!1):H.type===Vn.pop&&or(J,20)&&r.go(-1,!1)),P(q,ae,J)}).catch(Cn)}))}let z=yn(),X=yn(),G;function k(O,I,H){$(O);const q=X.list();return q.length?q.forEach(_=>_(O,I,H)):console.error(O),Promise.reject(O)}function j(){return G&&s.value!==ir?Promise.resolve():new Promise((O,I)=>{z.add([O,I])})}function $(O){return G||(G=!O,V(),z.list().forEach(([I,H])=>O?H(O):I()),z.reset()),O}function Z(O,I,H,q){const{scrollBehavior:_}=l;if(!$r||!_)return Promise.resolve();const ae=!H&&xd(xs(O.fullPath,0))||(q||!H)&&history.state&&history.state.scroll||null;return yl().then(()=>_(O,I,ae)).then(J=>J&&yd(J)).catch(J=>k(J,O,I))}const K=O=>r.go(O);let oe;const ie=new Set,fe={currentRoute:s,listening:!0,addRoute:d,removeRoute:m,hasRoute:v,getRoutes:p,resolve:g,options:l,push:w,replace:M,go:K,back:()=>K(-1),forward:()=>K(1),beforeEach:n.add,beforeResolve:i.add,afterEach:a.add,onError:X.add,isReady:j,install(O){const I=this;O.component("RouterLink",ip),O.component("RouterView",lp),O.config.globalProperties.$router=I,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>rn(s)}),$r&&!oe&&s.value===ir&&(oe=!0,w(r.location).catch(_=>{}));const H={};for(const _ in ir)H[_]=St(()=>s.value[_]);O.provide(da,I),O.provide(uc,qn(H)),O.provide(Bo,s);const q=O.unmount;ie.add(O),O.unmount=function(){ie.delete(O),ie.size<1&&(c=ir,B&&B(),B=null,s.value=ir,oe=!1,G=!1),q()}}};return fe}function Yr(l){return l.reduce((o,t)=>o.then(()=>t()),Promise.resolve())}function up(l,o){const t=[],e=[],r=[],n=Math.max(o.matched.length,l.matched.length);for(let i=0;i<n;i++){const a=o.matched[i];a&&(l.matched.find(c=>ln(c,a))?e.push(a):t.push(a));const s=l.matched[i];s&&(o.matched.find(c=>ln(c,s))||r.push(s))}return[t,e,r]}var fp="/export-import3/assets/back.baf6b693.jpg",hp="/export-import3/assets/emblem.874e758b.png",Ni="/export-import3/assets/pattern.da868367.svg";const dp={viewBox:"0 0 47 47",fill:"none",xmlns:"http://www.w3.org/2000/svg"},pp=D("circle",{cx:"23.6201",cy:"23.539",r:"21.54",stroke:"#fff","stroke-width":"3"},null,-1),mp=D("path",{d:"M16.1741 17.381C18.0461 17.381 19.4801 17.717 20.4761 18.389C21.4721 19.049 21.9701 20.081 21.9701 21.485C21.9701 22.361 21.7661 23.075 21.3581 23.627C20.9621 24.167 20.3861 24.593 19.6301 24.905C19.8821 25.217 20.1461 25.577 20.4221 25.985C20.6981 26.381 20.9681 26.801 21.2321 27.245C21.5081 27.677 21.7721 28.133 22.0241 28.613C22.2761 29.081 22.5101 29.543 22.7261 29.999H19.5761C19.3481 29.591 19.1141 29.177 18.8741 28.757C18.6461 28.337 18.4061 27.929 18.1541 27.533C17.9141 27.137 17.6741 26.765 17.4341 26.417C17.1941 26.057 16.9541 25.733 16.7141 25.445H15.3281V29.999H12.5201V17.705C13.1321 17.585 13.7621 17.501 14.4101 17.453C15.0701 17.405 15.6581 17.381 16.1741 17.381ZM16.3361 19.775C16.1321 19.775 15.9461 19.781 15.7781 19.793C15.6221 19.805 15.4721 19.817 15.3281 19.829V23.213H16.1201C17.1761 23.213 17.9321 23.081 18.3881 22.817C18.8441 22.553 19.0721 22.103 19.0721 21.467C19.0721 20.855 18.8381 20.423 18.3701 20.171C17.9141 19.907 17.2361 19.775 16.3361 19.775ZM29.2633 30.251C28.3873 30.251 27.6313 30.131 26.9953 29.891C26.3593 29.639 25.8313 29.297 25.4113 28.865C25.0033 28.421 24.6973 27.899 24.4933 27.299C24.3013 26.687 24.2053 26.015 24.2053 25.283V17.525H27.0133V25.049C27.0133 25.553 27.0673 25.985 27.1753 26.345C27.2953 26.693 27.4513 26.981 27.6433 27.209C27.8473 27.425 28.0873 27.581 28.3633 27.677C28.6513 27.773 28.9633 27.821 29.2993 27.821C29.9833 27.821 30.5353 27.611 30.9553 27.191C31.3873 26.771 31.6033 26.057 31.6033 25.049V17.525H34.4113V25.283C34.4113 26.015 34.3093 26.687 34.1053 27.299C33.9013 27.911 33.5893 28.439 33.1693 28.883C32.7493 29.315 32.2153 29.651 31.5673 29.891C30.9193 30.131 30.1513 30.251 29.2633 30.251Z",fill:"#fff"},null,-1),vp=[pp,mp],gp={__name:"IconLang",props:{show:{type:Boolean,default:!1}},setup(l){return(o,t)=>(Je(),ct("svg",dp,vp))}},yp={viewBox:"0 0 47 47",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_p=D("circle",{cx:"23.54",cy:"23.539",r:"21.54",stroke:"#fff","stroke-width":"3"},null,-1),xp=D("circle",{cx:"23.5",cy:"16.4561",r:"6.5",stroke:"#fff","stroke-width":"3"},null,-1),bp=D("path",{d:"M8.5 38.9561C10 35.6227 15.1 28.9561 23.5 28.9561C31.9 28.9561 37.3333 35.6227 39 38.9561",stroke:"#fff","stroke-width":"3"},null,-1),Mp=[_p,xp,bp],wp={__name:"IconProfile",props:{show:{type:Boolean,default:!1}},setup(l){return(o,t)=>(Je(),ct("svg",yp,Mp))}};const Ep={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 35.9 32.45"},Tp={id:"Layer_2","data-name":"Layer 2"},Sp={id:"Layer_1-2","data-name":"Layer 1"},Bs={__name:"IconLicense",props:{blue:{type:Boolean,default:!1}},setup(l){const o=l;return(t,e)=>(Je(),ct("svg",Ep,[D("g",Tp,[D("g",Sp,[D("polygon",{class:ye(o.blue?"cls-2":"cls-1"),points:"35.9 26.24 28.91 26.24 28.91 24.59 34.25 24.59 34.25 1.65 1.65 1.65 1.65 24.59 23.61 24.59 23.61 26.24 0 26.24 0 0 35.9 0 35.9 26.24"},null,2),D("rect",{class:ye(o.blue?"cls-2":"cls-1"),x:"4.41",y:"5.05",width:"14.03",height:"1.65"},null,2),D("rect",{class:ye(o.blue?"cls-2":"cls-1"),x:"4.41",y:"8.42",width:"27.07",height:"1.65"},null,2),D("rect",{class:ye(o.blue?"cls-2":"cls-1"),x:"4.41",y:"11.79",width:"18.12",height:"1.65"},null,2),D("rect",{class:ye(o.blue?"cls-2":"cls-1"),x:"4.41",y:"15.15",width:"13.89",height:"1.65"},null,2),D("path",{class:ye(o.blue?"cls-2":"cls-1"),d:"M29.73,32.45l-3.47-1.12-3.48,1.12V24.53h1.9l1.57,1.56,1.56-1.56h1.91ZM26.26,29.6l1.83.59V26.6l-1.83,1.82L24.43,26.6v3.59Z"},null,2),D("path",{class:ye(o.blue?"cls-2":"cls-1"),d:"M26.26,28.42,24,26.17H20.83V23l-2.24-2.25,2.24-2.25V15.32H24l2.25-2.24,2.25,2.24h3.18V18.5l2.24,2.25L31.69,23v3.17H28.51Zm-3.78-3.89h2.21l1.57,1.56,1.56-1.56H30V22.31l1.56-1.56L30,19.18V17H27.82l-1.56-1.56L24.69,17H22.48v2.21l-1.56,1.57,1.56,1.56Z"},null,2),D("circle",{class:ye(o.blue?"cls-2":"cls-1"),cx:"26.26",cy:"20.75",r:"2.65"},null,2)])])]))}};const Ap={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 35.9 33.18"},Cp={id:"Layer_2","data-name":"Layer 2"},Lp={id:"Layer_1-2","data-name":"Layer 1"},Ds={__name:"IconReestr",props:{blue:{type:Boolean,default:!1}},setup(l){const o=l;return(t,e)=>(Je(),ct("svg",Ap,[D("g",Cp,[D("g",Lp,[D("path",{class:ye(o.blue?"cls-2":"cls-1"),d:"M35.9,10.23H0V0H35.9ZM1.65,8.58h32.6V1.65H1.65Z"},null,2),D("rect",{class:ye(o.blue?"cls-2":"cls-1"),x:"4.3",y:"4.29",width:"27.3",height:"1.65"},null,2),D("polygon",{class:ye(o.blue?"cls-2":"cls-1"),points:"7.75 17.18 8.35 16.59 7.75 16 7.75 15.16 6.92 15.16 6.32 14.57 5.73 15.16 4.89 15.16 4.89 16 4.3 16.59 4.89 17.18 4.89 18.02 5.73 18.02 6.32 18.61 6.92 18.02 7.75 18.02 7.75 17.18"},null,2),D("polygon",{class:ye(o.blue?"cls-2":"cls-1"),points:"13.57 17.18 14.16 16.59 13.57 16 13.57 15.16 12.73 15.16 12.14 14.57 11.54 15.16 10.71 15.16 10.71 16 10.11 16.59 10.71 17.18 10.71 18.02 11.54 18.02 12.14 18.61 12.73 18.02 13.57 18.02 13.57 17.18"},null,2),D("polygon",{class:ye(o.blue?"cls-2":"cls-1"),points:"19.38 17.18 19.97 16.59 19.38 16 19.38 15.16 18.54 15.16 17.95 14.57 17.36 15.16 16.52 15.16 16.52 16 15.93 16.59 16.52 17.18 16.52 18.02 17.36 18.02 17.95 18.61 18.54 18.02 19.38 18.02 19.38 17.18"},null,2),D("polygon",{class:ye(o.blue?"cls-2":"cls-1"),points:"25.19 17.18 25.79 16.59 25.19 16 25.19 15.16 24.36 15.16 23.76 14.57 23.17 15.16 22.33 15.16 22.33 16 21.74 16.59 22.33 17.18 22.33 18.02 23.17 18.02 23.76 18.61 24.36 18.02 25.19 18.02 25.19 17.18"},null,2),D("polygon",{class:ye(o.blue?"cls-2":"cls-1"),points:"31.01 17.18 31.6 16.59 31.01 16 31.01 15.16 30.17 15.16 29.58 14.57 28.98 15.16 28.14 15.16 28.14 16 27.55 16.59 28.14 17.18 28.14 18.02 28.98 18.02 29.58 18.61 30.17 18.02 31.01 18.02 31.01 17.18"},null,2),D("path",{class:ye(o.blue?"cls-2":"cls-1"),d:"M35.9,21.71H0V11.47H35.9ZM1.65,20.06h32.6V13.12H1.65Z"},null,2),D("polygon",{class:ye(o.blue?"cls-2":"cls-1"),points:"7.75 28.66 8.35 28.06 7.75 27.47 7.75 26.63 6.92 26.63 6.32 26.04 5.73 26.63 4.89 26.63 4.89 27.47 4.3 28.06 4.89 28.66 4.89 29.49 5.73 29.49 6.32 30.09 6.92 29.49 7.75 29.49 7.75 28.66"},null,2),D("polygon",{class:ye(o.blue?"cls-2":"cls-1"),points:"13.57 28.66 14.16 28.06 13.57 27.47 13.57 26.63 12.73 26.63 12.14 26.04 11.54 26.63 10.71 26.63 10.71 27.47 10.11 28.06 10.71 28.66 10.71 29.49 11.54 29.49 12.14 30.09 12.73 29.49 13.57 29.49 13.57 28.66"},null,2),D("polygon",{class:ye(o.blue?"cls-2":"cls-1"),points:"19.38 28.66 19.97 28.06 19.38 27.47 19.38 26.63 18.54 26.63 17.95 26.04 17.36 26.63 16.52 26.63 16.52 27.47 15.93 28.06 16.52 28.66 16.52 29.49 17.36 29.49 17.95 30.09 18.54 29.49 19.38 29.49 19.38 28.66"},null,2),D("polygon",{class:ye(o.blue?"cls-2":"cls-1"),points:"25.19 28.66 25.79 28.06 25.19 27.47 25.19 26.63 24.36 26.63 23.76 26.04 23.17 26.63 22.33 26.63 22.33 27.47 21.74 28.06 22.33 28.66 22.33 29.49 23.17 29.49 23.76 30.09 24.36 29.49 25.19 29.49 25.19 28.66"},null,2),D("polygon",{class:ye(o.blue?"cls-2":"cls-1"),points:"31.01 28.66 31.6 28.06 31.01 27.47 31.01 26.63 30.17 26.63 29.58 26.04 28.98 26.63 28.14 26.63 28.14 27.47 27.55 28.06 28.14 28.66 28.14 29.49 28.98 29.49 29.58 30.09 30.17 29.49 31.01 29.49 31.01 28.66"},null,2),D("path",{class:ye(o.blue?"cls-2":"cls-1"),d:"M35.9,33.18H0V23H35.9ZM1.65,31.53h32.6V24.6H1.65Z"},null,2)])])]))}};const Pp={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36.28 34.05"},Rp={id:"Layer_2","data-name":"Layer 2"},Fp={id:"Layer_1-2","data-name":"Layer 1"},Is={__name:"IconManagement",props:{blue:{type:Boolean,default:!1}},setup(l){const o=l;return(t,e)=>(Je(),ct("svg",Pp,[D("g",Rp,[D("g",Fp,[D("polygon",{class:ye(o.blue?"cls-2":"cls-1"),points:"35.9 17.85 25.87 17.85 25.87 16.2 34.25 16.2 34.25 6.13 25.87 6.13 25.87 4.48 35.9 4.48 35.9 17.85"},null,2),D("rect",{class:ye(o.blue?"cls-2":"cls-1"),x:"0.82",y:"4.48",width:"9.75",height:"1.65"},null,2),D("polygon",{class:ye(o.blue?"cls-2":"cls-1"),points:"10.57 29.58 0 29.58 0 16.2 10.57 16.2 10.57 17.85 1.65 17.85 1.65 27.93 10.57 27.93 10.57 29.58"},null,2),D("rect",{class:ye(o.blue?"cls-2":"cls-1"),x:"25.87",y:"27.93",width:"9.2",height:"1.65"},null,2),D("polygon",{class:ye(o.blue?"cls-2":"cls-1"),points:"4.46 8.6 3.33 7.4 5.56 5.3 3.33 3.2 4.46 2 7.96 5.3 4.46 8.6"},null,2),D("polygon",{class:ye(o.blue?"cls-2":"cls-1"),points:"32.77 32.05 31.64 30.85 33.87 28.75 31.64 26.65 32.77 25.45 36.28 28.75 32.77 32.05"},null,2),D("path",{class:ye(o.blue?"cls-2":"cls-1"),d:"M22.74,10.6h-9V8.76H9.75V1.85H13.7V0h9V1.85h4V8.76h-4ZM15.35,9h5.74V7.11h4V3.49h-4V1.65H15.35V3.49H11.4V7.11h3.95Z"},null,2),D("path",{class:ye(o.blue?"cls-2":"cls-1"),d:"M22.74,22.33h-9V20.48H9.75V13.57H13.7V11.73h9v1.84h4v6.91h-4Zm-7.39-1.65h5.74V18.83h4V15.22h-4V13.38H15.35v1.84H11.4v3.61h3.95Z"},null,2),D("path",{class:ye(o.blue?"cls-2":"cls-1"),d:"M22.74,34.05h-9V32.21H9.75V25.3H13.7V23.45h9V25.3h4v6.91h-4Zm-7.39-1.64h5.74V30.56h4V27h-4V25.1H15.35V27H11.4v3.61h3.95Z"},null,2)])])]))}};const Bp={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 39.64 43.99"},Dp={id:"Layer_2","data-name":"Layer 2"},Ip={id:"Layer_1-2","data-name":"Layer 1"},eo={__name:"IconDeclaration",props:{blue:{type:Boolean,default:!1}},setup(l){const o=l;return(t,e)=>(Je(),ct("svg",Bp,[D("g",Dp,[D("g",Ip,[D("path",{class:ye(o.blue?"cls-2":"cls-1"),d:"M36.08,37.4a3.56,3.56,0,0,1-3.55-3.55V30.3h7.11v3.55A3.56,3.56,0,0,1,36.08,37.4Zm-1.49-5v1.49a1.5,1.5,0,0,0,3,0V32.36Z"},null,2),D("path",{class:ye(o.blue?"cls-2":"cls-1"),d:"M36.08,37.4H26.14V35.34h6.72a3.53,3.53,0,0,1-.33-1.49V3.54a1.48,1.48,0,0,0-1.48-1.48,1.49,1.49,0,0,0-1.48,1.48V7.1H7.06V30.65a3.39,3.39,0,0,0,0,.55,4.68,4.68,0,0,0,4.66,4.14h9V37.4h-9a6.75,6.75,0,0,1-6.71-5.95,7,7,0,0,1,0-.8V5H27.51V3.54a3.54,3.54,0,0,1,7.08,0V33.85a1.49,1.49,0,0,0,1.49,1.49Z"},null,2),D("path",{class:ye(o.blue?"cls-2":"cls-1"),d:"M36.08,37.4a3.56,3.56,0,0,1-3.55-3.55V30.3h7.11v3.55A3.56,3.56,0,0,1,36.08,37.4Zm-1.49-5v1.49a1.5,1.5,0,0,0,3,0V32.36Z"},null,2),D("path",{class:ye(o.blue?"cls-2":"cls-1"),d:"M29.57,7.1H0v-1A6.08,6.08,0,0,1,6.07,0h25V2.06a1.49,1.49,0,0,0-1.48,1.48ZM2.19,5H27.51V3.54a3.55,3.55,0,0,1,.32-1.48H6.07A4,4,0,0,0,3.24,3.24,4,4,0,0,0,2.19,5Z"},null,2),D("rect",{class:ye(o.blue?"cls-2":"cls-1"),x:"10.99",y:"10.42",width:"15.14",height:"2.06"},null,2),D("rect",{class:ye(o.blue?"cls-2":"cls-1"),x:"10.99",y:"15.31",width:"15.14",height:"2.06"},null,2),D("rect",{class:ye(o.blue?"cls-2":"cls-1"),x:"10.99",y:"20.2",width:"15.14",height:"2.06"},null,2),D("rect",{class:ye(o.blue?"cls-2":"cls-1"),x:"10.99",y:"25.08",width:"5.32",height:"2.06"},null,2),D("path",{class:ye(o.blue?"cls-2":"cls-1"),d:"M27.17,44l-3.7-1.19L19.77,44V35.26H22l1.49,1.49L25,35.26h2.2Zm-3.7-3.35,1.64.53V38l-1.64,1.65L21.83,38v3.14Z"},null,2),D("path",{class:ye(o.blue?"cls-2":"cls-1"),d:"M23.47,39.67l-2.35-2.35H17.8V34l-2.34-2.35L17.8,29.3V26h3.32l2.35-2.35L25.82,26h3.32V29.3l2.35,2.35L29.14,34v3.32H25.82Zm-3.6-4.41H22l1.49,1.49L25,35.26h2.11V33.14l1.49-1.49-1.49-1.49V28H25l-1.5-1.49L22,28H19.87v2.12l-1.5,1.49,1.5,1.49Z"},null,2),D("circle",{class:ye(o.blue?"cls-2":"cls-1"),cx:"23.47",cy:"31.65",r:"2.67"},null,2)])])]))}};const Up={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 41.46 39.89"},Op={id:"Layer_2","data-name":"Layer 2"},Np={id:"Layer_1-2","data-name":"Layer 1"},to={__name:"IconLegislation",props:{blue:{type:Boolean,default:!1}},setup(l){const o=l;return(t,e)=>(Je(),ct("svg",Up,[D("g",Op,[D("g",Np,[D("path",{class:ye(o.blue?"cls-2":"cls-1"),d:"M27.05,25,15.43,11.13l8-6.69L35,18.32ZM18.34,11.39l9,10.71,4.83-4-9-10.72Z"},null,2),D("rect",{class:ye(o.blue?"cls-2":"cls-1"),x:"16.36",y:"16.71",width:"8.35",height:"3.9",transform:"translate(21.66 -9.07) rotate(50.07)"},null,2),D("path",{class:ye(o.blue?"cls-2":"cls-1"),d:"M5.87,36.9,0,29.89,18,17l3.74,4.46ZM3,30.27l3,3.6L18.89,21.33l-1.28-1.52Z"},null,2),D("path",{class:ye(o.blue?"cls-2":"cls-1"),d:"M27.67,29.44,23.9,25l11.64-9.74L39.3,19.7Zm-.86-4.23,1.11,1.33,8.48-7.1-1.12-1.33Z"},null,2),D("path",{class:ye(o.blue?"cls-2":"cls-1"),d:"M14.93,14.24l-3.76-4.5L22.81,0l3.76,4.49ZM14.07,10l1.12,1.33,8.48-7.09L22.55,2.9Z"},null,2),D("polygon",{class:ye(o.blue?"cls-2":"cls-1"),points:"5.9 26.93 9.81 31.61 5.95 35.38 1.5 30.08 5.9 26.93"},null,2),D("path",{class:ye(o.blue?"cls-2":"cls-1"),d:"M41.46,39.89H21.19V34H41.46ZM23.25,37.83H39.4V36H23.25Z"},null,2),D("path",{class:ye(o.blue?"cls-2":"cls-1"),d:"M39.09,36H23.56V30.1H39.09ZM25.62,34H37v-1.8H25.62Z"},null,2)])])]))}};const Vp={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32.96 38.02"},kp={id:"Layer_2","data-name":"Layer 2"},Gp={id:"Layer_1-2","data-name":"Layer 1"},ro={__name:"IconApproved",props:{blue:{type:Boolean,default:!1}},setup(l){const o=l;return(t,e)=>(Je(),ct("svg",Vp,[D("g",kp,[D("g",Gp,[D("polygon",{class:ye(o.blue?"cls-2":"cls-1"),points:"23.84 19.29 22.19 19.29 22.19 6.31 18.13 6.31 18.13 4.66 23.84 4.66 23.84 19.29"},null,2),D("polygon",{class:ye(o.blue?"cls-2":"cls-1"),points:"16.8 32.75 0 32.75 0 4.66 5.71 4.66 5.71 6.31 1.65 6.31 1.65 31.1 16.8 31.1 16.8 32.75"},null,2),D("path",{class:ye(o.blue?"cls-2":"cls-1"),d:"M19,9.32H4.89V3.18H8a4,4,0,0,1,7.84,0H19ZM6.54,7.67H17.3V4.83h-3V4A2.36,2.36,0,1,0,9.56,4v.82h-3Z"},null,2),D("rect",{class:ye(o.blue?"cls-2":"cls-1"),x:"4.05",y:"12.41",width:"15.74",height:"1.65"},null,2),D("rect",{class:ye(o.blue?"cls-2":"cls-1"),x:"4.05",y:"17.16",width:"15.74",height:"1.65"},null,2),D("rect",{class:ye(o.blue?"cls-2":"cls-1"),x:"4.05",y:"21.9",width:"7.87",height:"1.65"},null,2),D("path",{class:ye(o.blue?"cls-2":"cls-1"),d:"M23,38,20.1,35.11H16V31l-2.92-2.92L16,25.16V21H20.1L23,18.12,25.93,21h4.12v4.12L33,28.07,30.05,31v4.12H25.93Zm-5.38-4.56h3.15L23,35.69l2.24-2.23H28.4V30.3l2.23-2.23L28.4,25.84V22.69H25.25L23,20.45l-2.23,2.24H17.63v3.15L15.4,28.07l2.23,2.23Z"},null,2),D("polygon",{class:ye(o.blue?"cls-2":"cls-1"),points:"22.15 31.72 18.99 28.66 20.13 27.48 22.06 29.34 25.86 25.07 27.09 26.16 22.15 31.72"},null,2)])])]))}};const zp={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 33.29 36.82"},Hp=D("defs",null,null,-1),Wp={id:"Layer_2","data-name":"Layer 2"},Xp={id:"Layer_1-2","data-name":"Layer 1"},no={__name:"IconInformation",props:{blue:{type:Boolean,default:!1}},setup(l){const o=l;return(t,e)=>(Je(),ct("svg",zp,[Hp,D("g",Wp,[D("g",Xp,[D("polygon",{class:ye(o.blue?"cls-2":"cls-1"),points:"24.17 36.82 0 36.82 0 5.35 17.13 5.35 17.13 7 1.65 7 1.65 35.17 22.52 35.17 22.52 18.39 24.17 18.39 24.17 36.82"},null,2),D("path",{class:ye(o.blue?"cls-2":"cls-1"),d:"M18,15.72H4.76V11h12L18,12.18ZM6.4,14.07h9.91V12.86l-.21-.2H6.4Z"},null,2),D("rect",{class:ye(o.blue?"cls-2":"cls-1"),x:"4.76",y:"17.91",width:"14.65",height:"1.65"},null,2),D("rect",{class:ye(o.blue?"cls-2":"cls-1"),x:"4.76",y:"21.39",width:"14.65",height:"1.65"},null,2),D("rect",{class:ye(o.blue?"cls-2":"cls-1"),x:"4.76",y:"24.87",width:"14.65",height:"1.65"},null,2),D("rect",{class:ye(o.blue?"cls-2":"cls-1"),x:"4.76",y:"28.35",width:"14.65",height:"1.65"},null,2),D("path",{class:ye(o.blue?"cls-2":"cls-1"),d:"M23.34,19.9,20.43,17H16.31V12.86L13.39,10,16.31,7V2.91h4.12L23.34,0l2.92,2.91h4.12V7L33.29,10l-2.91,2.91V17H26.26ZM18,15.34h3.16l2.23,2.23,2.23-2.23h3.16V12.18L31,10,28.73,7.72V4.56H25.57L23.34,2.33,21.11,4.56H18V7.72L15.72,10,18,12.18Z"},null,2),D("rect",{class:ye(o.blue?"cls-2":"cls-1"),x:"22.52",y:"8.72",width:"1.65",height:"4.73"},null,2),D("circle",{class:ye(o.blue?"cls-2":"cls-1"),cx:"23.34",cy:"7.1",r:"1.01"},null,2)])])]))}},Yp={},qp={viewBox:"0 0 29 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},jp=D("path",{d:"M0 8.66667H27M27 8.66667L19.6667 1M27 8.66667L19.6667 16.3333",stroke:"currentColor","stroke-width":"2"},null,-1),Zp=[jp];function $p(l,o){return Je(),ct("svg",qp,Zp)}var ni=fa(Yp,[["render",$p]]);const Kp={},Qp={viewBox:"0 0 27 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Jp=Zl('<g filter="url(#filter0_b_2_7025)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.9556 9.8992L13.4086 6.77224L16.6728 2.71603L17.5377 3.57692L16.2077 5.23141L17.4407 6.2249L19.6652 3.45817L16.5422 0.353027L13.3124 4.36656L10.0825 0.353027L6.95959 3.45817L9.18405 6.2249L10.419 5.23141L9.08708 3.57692L9.95193 2.71603L13.2173 6.77369L10.6715 9.8992L11.8985 10.8986L13.3136 9.16299L14.7286 10.8986L15.9556 9.8992ZM0.00216675 0.57652L13.3133 18.2634L26.6245 0.57652L24.6434 0.57652L13.3133 15.6293L1.98321 0.57652L0.00216675 0.57652Z" fill="#0077fb"></path></g><defs><filter id="filter0_b_2_7025" x="-2.86045" y="-2.50959" width="32.3475" height="23.6356" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feGaussianBlur in="BackgroundImage" stdDeviation="1.43131"></feGaussianBlur><feComposite in2="SourceAlpha" operator="in" result="effect1_backgroundBlur_2_7025"></feComposite><feBlend mode="normal" in="SourceGraphic" in2="effect1_backgroundBlur_2_7025" result="shape"></feBlend></filter></defs>',2),em=[Jp];function tm(l,o){return Je(),ct("svg",Qp,em)}var He=fa(Kp,[["render",tm]]),Et={exports:{}};(function(l,o){var t={REVISION:"75"};l.exports=t,Number.EPSILON===void 0&&(Number.EPSILON=Math.pow(2,-52)),Math.sign===void 0&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),Function.prototype.name===void 0&&Object.defineProperty!==void 0&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}}),Object.assign===void 0&&Object.defineProperty(Object,"assign",{writable:!0,configurable:!0,value:function(e){if(e==null)throw new TypeError("Cannot convert first argument to object");for(var r=Object(e),n=1,i=arguments.length;n!==i;++n){var a=arguments[n];if(a!=null){a=Object(a);for(var s=Object.keys(a),c=0,u=s.length;c!==u;++c){var f=s[c],h=Object.getOwnPropertyDescriptor(a,f);h!==void 0&&h.enumerable&&(r[f]=a[f])}}}return r}}),t.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},t.CullFaceNone=0,t.CullFaceBack=1,t.CullFaceFront=2,t.CullFaceFrontBack=3,t.FrontFaceDirectionCW=0,t.FrontFaceDirectionCCW=1,t.BasicShadowMap=0,t.PCFShadowMap=1,t.PCFSoftShadowMap=2,t.FrontSide=0,t.BackSide=1,t.DoubleSide=2,t.FlatShading=1,t.SmoothShading=2,t.NoColors=0,t.FaceColors=1,t.VertexColors=2,t.NoBlending=0,t.NormalBlending=1,t.AdditiveBlending=2,t.SubtractiveBlending=3,t.MultiplyBlending=4,t.CustomBlending=5,t.AddEquation=100,t.SubtractEquation=101,t.ReverseSubtractEquation=102,t.MinEquation=103,t.MaxEquation=104,t.ZeroFactor=200,t.OneFactor=201,t.SrcColorFactor=202,t.OneMinusSrcColorFactor=203,t.SrcAlphaFactor=204,t.OneMinusSrcAlphaFactor=205,t.DstAlphaFactor=206,t.OneMinusDstAlphaFactor=207,t.DstColorFactor=208,t.OneMinusDstColorFactor=209,t.SrcAlphaSaturateFactor=210,t.NeverDepth=0,t.AlwaysDepth=1,t.LessDepth=2,t.LessEqualDepth=3,t.EqualDepth=4,t.GreaterEqualDepth=5,t.GreaterDepth=6,t.NotEqualDepth=7,t.MultiplyOperation=0,t.MixOperation=1,t.AddOperation=2,t.NoToneMapping=0,t.LinearToneMapping=1,t.ReinhardToneMapping=2,t.Uncharted2ToneMapping=3,t.CineonToneMapping=4,t.UVMapping=300,t.CubeReflectionMapping=301,t.CubeRefractionMapping=302,t.EquirectangularReflectionMapping=303,t.EquirectangularRefractionMapping=304,t.SphericalReflectionMapping=305,t.CubeUVReflectionMapping=306,t.CubeUVRefractionMapping=307,t.RepeatWrapping=1e3,t.ClampToEdgeWrapping=1001,t.MirroredRepeatWrapping=1002,t.NearestFilter=1003,t.NearestMipMapNearestFilter=1004,t.NearestMipMapLinearFilter=1005,t.LinearFilter=1006,t.LinearMipMapNearestFilter=1007,t.LinearMipMapLinearFilter=1008,t.UnsignedByteType=1009,t.ByteType=1010,t.ShortType=1011,t.UnsignedShortType=1012,t.IntType=1013,t.UnsignedIntType=1014,t.FloatType=1015,t.HalfFloatType=1025,t.UnsignedShort4444Type=1016,t.UnsignedShort5551Type=1017,t.UnsignedShort565Type=1018,t.AlphaFormat=1019,t.RGBFormat=1020,t.RGBAFormat=1021,t.LuminanceFormat=1022,t.LuminanceAlphaFormat=1023,t.RGBEFormat=t.RGBAFormat,t.RGB_S3TC_DXT1_Format=2001,t.RGBA_S3TC_DXT1_Format=2002,t.RGBA_S3TC_DXT3_Format=2003,t.RGBA_S3TC_DXT5_Format=2004,t.RGB_PVRTC_4BPPV1_Format=2100,t.RGB_PVRTC_2BPPV1_Format=2101,t.RGBA_PVRTC_4BPPV1_Format=2102,t.RGBA_PVRTC_2BPPV1_Format=2103,t.RGB_ETC1_Format=2151,t.LoopOnce=2200,t.LoopRepeat=2201,t.LoopPingPong=2202,t.InterpolateDiscrete=2300,t.InterpolateLinear=2301,t.InterpolateSmooth=2302,t.ZeroCurvatureEnding=2400,t.ZeroSlopeEnding=2401,t.WrapAroundEnding=2402,t.TrianglesDrawMode=0,t.TriangleStripDrawMode=1,t.TriangleFanDrawMode=2,t.LinearEncoding=3e3,t.sRGBEncoding=3001,t.GammaEncoding=3007,t.RGBEEncoding=3002,t.LogLuvEncoding=3003,t.RGBM7Encoding=3004,t.RGBM16Encoding=3005,t.RGBDEncoding=3006,t.Color=function(e){return arguments.length===3?this.fromArray(arguments):this.set(e)},t.Color.prototype={constructor:t.Color,r:1,g:1,b:1,set:function(e){return e instanceof t.Color?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this},setScalar:function(e){this.r=e,this.g=e,this.b=e},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this},setRGB:function(e,r,n){return this.r=e,this.g=r,this.b=n,this},setHSL:function(){function e(r,n,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?r+(n-r)*6*i:i<1/2?n:i<2/3?r+(n-r)*6*(2/3-i):r}return function(r,n,i){if(r=t.Math.euclideanModulo(r,1),n=t.Math.clamp(n,0,1),i=t.Math.clamp(i,0,1),n===0)this.r=this.g=this.b=i;else{var a=i<=.5?i*(1+n):i+n-i*n,s=2*i-a;this.r=e(s,a,r+1/3),this.g=e(s,a,r),this.b=e(s,a,r-1/3)}return this}}(),setStyle:function(e){function r(m){m!==void 0&&parseFloat(m)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var i,a=n[1],s=n[2];switch(a){case"rgb":case"rgba":if(i=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,r(i[5]),this;if(i=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,r(i[5]),this;break;case"hsl":case"hsla":if(i=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s)){var c=parseFloat(i[1])/360,u=parseInt(i[2],10)/100,f=parseInt(i[3],10)/100;return r(i[5]),this.setHSL(c,u,f)}break}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var h=n[1],d=h.length;if(d===3)return this.r=parseInt(h.charAt(0)+h.charAt(0),16)/255,this.g=parseInt(h.charAt(1)+h.charAt(1),16)/255,this.b=parseInt(h.charAt(2)+h.charAt(2),16)/255,this;if(d===6)return this.r=parseInt(h.charAt(0)+h.charAt(1),16)/255,this.g=parseInt(h.charAt(2)+h.charAt(3),16)/255,this.b=parseInt(h.charAt(4)+h.charAt(5),16)/255,this}if(e&&e.length>0){var h=t.ColorKeywords[e];h!==void 0?this.setHex(h):console.warn("THREE.Color: Unknown color "+e)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,r){return r===void 0&&(r=2),this.r=Math.pow(e.r,r),this.g=Math.pow(e.g,r),this.b=Math.pow(e.b,r),this},copyLinearToGamma:function(e,r){r===void 0&&(r=2);var n=r>0?1/r:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(){var e=this.r,r=this.g,n=this.b;return this.r=e*e,this.g=r*r,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return this.r*255<<16^this.g*255<<8^this.b*255<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){var r=e||{h:0,s:0,l:0},n=this.r,i=this.g,a=this.b,s=Math.max(n,i,a),c=Math.min(n,i,a),u,f,h=(c+s)/2;if(c===s)u=0,f=0;else{var d=s-c;switch(f=h<=.5?d/(s+c):d/(2-s-c),s){case n:u=(i-a)/d+(i<a?6:0);break;case i:u=(a-n)/d+2;break;case a:u=(n-i)/d+4;break}u/=6}return r.h=u,r.s=f,r.l=h,r},getStyle:function(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"},offsetHSL:function(e,r,n){var i=this.getHSL();return i.h+=e,i.s+=r,i.l+=n,this.setHSL(i.h,i.s,i.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,r){return this.r=e.r+r.r,this.g=e.g+r.g,this.b=e.b+r.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,r){return this.r+=(e.r-this.r)*r,this.g+=(e.g-this.g)*r,this.b+=(e.b-this.b)*r,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,r){return r===void 0&&(r=0),this.r=e[r],this.g=e[r+1],this.b=e[r+2],this},toArray:function(e,r){return e===void 0&&(e=[]),r===void 0&&(r=0),e[r]=this.r,e[r+1]=this.g,e[r+2]=this.b,e}},t.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},t.Quaternion=function(e,r,n,i){this._x=e||0,this._y=r||0,this._z=n||0,this._w=i!==void 0?i:1},t.Quaternion.prototype={constructor:t.Quaternion,get x(){return this._x},set x(e){this._x=e,this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e,this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e,this.onChangeCallback()},get w(){return this._w},set w(e){this._w=e,this.onChangeCallback()},set:function(e,r,n,i){return this._x=e,this._y=r,this._z=n,this._w=i,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,r){if(!(e instanceof t.Euler))throw new Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var n=Math.cos(e._x/2),i=Math.cos(e._y/2),a=Math.cos(e._z/2),s=Math.sin(e._x/2),c=Math.sin(e._y/2),u=Math.sin(e._z/2),f=e.order;return f==="XYZ"?(this._x=s*i*a+n*c*u,this._y=n*c*a-s*i*u,this._z=n*i*u+s*c*a,this._w=n*i*a-s*c*u):f==="YXZ"?(this._x=s*i*a+n*c*u,this._y=n*c*a-s*i*u,this._z=n*i*u-s*c*a,this._w=n*i*a+s*c*u):f==="ZXY"?(this._x=s*i*a-n*c*u,this._y=n*c*a+s*i*u,this._z=n*i*u+s*c*a,this._w=n*i*a-s*c*u):f==="ZYX"?(this._x=s*i*a-n*c*u,this._y=n*c*a+s*i*u,this._z=n*i*u-s*c*a,this._w=n*i*a+s*c*u):f==="YZX"?(this._x=s*i*a+n*c*u,this._y=n*c*a+s*i*u,this._z=n*i*u-s*c*a,this._w=n*i*a-s*c*u):f==="XZY"&&(this._x=s*i*a-n*c*u,this._y=n*c*a-s*i*u,this._z=n*i*u+s*c*a,this._w=n*i*a+s*c*u),r!==!1&&this.onChangeCallback(),this},setFromAxisAngle:function(e,r){var n=r/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var r=e.elements,n=r[0],i=r[4],a=r[8],s=r[1],c=r[5],u=r[9],f=r[2],h=r[6],d=r[10],m=n+c+d,p;return m>0?(p=.5/Math.sqrt(m+1),this._w=.25/p,this._x=(h-u)*p,this._y=(a-f)*p,this._z=(s-i)*p):n>c&&n>d?(p=2*Math.sqrt(1+n-c-d),this._w=(h-u)/p,this._x=.25*p,this._y=(i+s)/p,this._z=(a+f)/p):c>d?(p=2*Math.sqrt(1+c-n-d),this._w=(a-f)/p,this._x=(i+s)/p,this._y=.25*p,this._z=(u+h)/p):(p=2*Math.sqrt(1+d-n-c),this._w=(s-i)/p,this._x=(a+f)/p,this._y=(u+h)/p,this._z=.25*p),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,r,n=1e-6;return function(i,a){return e===void 0&&(e=new t.Vector3),r=i.dot(a)+1,r<n?(r=0,Math.abs(i.x)>Math.abs(i.z)?e.set(-i.y,i.x,0):e.set(0,-i.z,i.y)):e.crossVectors(i,a),this._x=e.x,this._y=e.y,this._z=e.z,this._w=r,this.normalize(),this}}(),inverse:function(){return this.conjugate().normalize(),this},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,r){return r!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,r)):this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,r){var n=e._x,i=e._y,a=e._z,s=e._w,c=r._x,u=r._y,f=r._z,h=r._w;return this._x=n*h+s*c+i*f-a*u,this._y=i*h+s*u+a*c-n*f,this._z=a*h+s*f+n*u-i*c,this._w=s*h-n*c-i*u-a*f,this.onChangeCallback(),this},slerp:function(e,r){if(r===0)return this;if(r===1)return this.copy(e);var n=this._x,i=this._y,a=this._z,s=this._w,c=s*e._w+n*e._x+i*e._y+a*e._z;if(c<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,c=-c):this.copy(e),c>=1)return this._w=s,this._x=n,this._y=i,this._z=a,this;var u=Math.sqrt(1-c*c);if(Math.abs(u)<.001)return this._w=.5*(s+this._w),this._x=.5*(n+this._x),this._y=.5*(i+this._y),this._z=.5*(a+this._z),this;var f=Math.atan2(u,c),h=Math.sin((1-r)*f)/u,d=Math.sin(r*f)/u;return this._w=s*h+this._w*d,this._x=n*h+this._x*d,this._y=i*h+this._y*d,this._z=a*h+this._z*d,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,r){return r===void 0&&(r=0),this._x=e[r],this._y=e[r+1],this._z=e[r+2],this._w=e[r+3],this.onChangeCallback(),this},toArray:function(e,r){return e===void 0&&(e=[]),r===void 0&&(r=0),e[r]=this._x,e[r+1]=this._y,e[r+2]=this._z,e[r+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}},Object.assign(t.Quaternion,{slerp:function(e,r,n,i){return n.copy(e).slerp(r,i)},slerpFlat:function(e,r,n,i,a,s,c){var u=n[i+0],f=n[i+1],h=n[i+2],d=n[i+3],m=a[s+0],p=a[s+1],v=a[s+2],g=a[s+3];if(d!==g||u!==m||f!==p||h!==v){var y=1-c,x=u*m+f*p+h*v+d*g,w=x>=0?1:-1,M=1-x*x;if(M>Number.EPSILON){var E=Math.sqrt(M),T=Math.atan2(E,x*w);y=Math.sin(y*T)/E,c=Math.sin(c*T)/E}var S=c*w;if(u=u*y+m*S,f=f*y+p*S,h=h*y+v*S,d=d*y+g*S,y===1-c){var L=1/Math.sqrt(u*u+f*f+h*h+d*d);u*=L,f*=L,h*=L,d*=L}}e[r]=u,e[r+1]=f,e[r+2]=h,e[r+3]=d}}),t.Vector2=function(e,r){this.x=e||0,this.y=r||0},t.Vector2.prototype={constructor:t.Vector2,get width(){return this.x},set width(e){this.x=e},get height(){return this.y},set height(e){this.y=e},set:function(e,r){return this.x=e,this.y=r,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,r){return r!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,r)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this},addScaledVector:function(e,r){return this.x+=e.x*r,this.y+=e.y*r,this},sub:function(e,r){return r!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,r)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return isFinite(e)?(this.x*=e,this.y*=e):(this.x=0,this.y=0),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this},clampScalar:function(){var e,r;return function(i,a){return e===void 0&&(e=new t.Vector2,r=new t.Vector2),e.set(i,i),r.set(a,a),this.clamp(e,r)}}(),clampLength:function(e,r){var n=this.length();return this.multiplyScalar(Math.max(e,Math.min(r,n))/n),this},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var r=this.x-e.x,n=this.y-e.y;return r*r+n*n},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this},lerpVectors:function(e,r,n){return this.subVectors(r,e).multiplyScalar(n).add(e),this},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,r){return r===void 0&&(r=0),this.x=e[r],this.y=e[r+1],this},toArray:function(e,r){return e===void 0&&(e=[]),r===void 0&&(r=0),e[r]=this.x,e[r+1]=this.y,e},fromAttribute:function(e,r,n){return n===void 0&&(n=0),r=r*e.itemSize+n,this.x=e.array[r],this.y=e.array[r+1],this},rotateAround:function(e,r){var n=Math.cos(r),i=Math.sin(r),a=this.x-e.x,s=this.y-e.y;return this.x=a*n-s*i+e.x,this.y=a*i+s*n+e.y,this}},t.Vector3=function(e,r,n){this.x=e||0,this.y=r||0,this.z=n||0},t.Vector3.prototype={constructor:t.Vector3,set:function(e,r,n){return this.x=e,this.y=r,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,r){return r!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,r)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this.z=e.z+r.z,this},addScaledVector:function(e,r){return this.x+=e.x*r,this.y+=e.y*r,this.z+=e.z*r,this},sub:function(e,r){return r!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,r)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this.z=e.z-r.z,this},multiply:function(e,r){return r!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,r)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return isFinite(e)?(this.x*=e,this.y*=e,this.z*=e):(this.x=0,this.y=0,this.z=0),this},multiplyVectors:function(e,r){return this.x=e.x*r.x,this.y=e.y*r.y,this.z=e.z*r.z,this},applyEuler:function(){var e;return function(n){return n instanceof t.Euler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),e===void 0&&(e=new t.Quaternion),this.applyQuaternion(e.setFromEuler(n)),this}}(),applyAxisAngle:function(){var e;return function(n,i){return e===void 0&&(e=new t.Quaternion),this.applyQuaternion(e.setFromAxisAngle(n,i)),this}}(),applyMatrix3:function(e){var r=this.x,n=this.y,i=this.z,a=e.elements;return this.x=a[0]*r+a[3]*n+a[6]*i,this.y=a[1]*r+a[4]*n+a[7]*i,this.z=a[2]*r+a[5]*n+a[8]*i,this},applyMatrix4:function(e){var r=this.x,n=this.y,i=this.z,a=e.elements;return this.x=a[0]*r+a[4]*n+a[8]*i+a[12],this.y=a[1]*r+a[5]*n+a[9]*i+a[13],this.z=a[2]*r+a[6]*n+a[10]*i+a[14],this},applyProjection:function(e){var r=this.x,n=this.y,i=this.z,a=e.elements,s=1/(a[3]*r+a[7]*n+a[11]*i+a[15]);return this.x=(a[0]*r+a[4]*n+a[8]*i+a[12])*s,this.y=(a[1]*r+a[5]*n+a[9]*i+a[13])*s,this.z=(a[2]*r+a[6]*n+a[10]*i+a[14])*s,this},applyQuaternion:function(e){var r=this.x,n=this.y,i=this.z,a=e.x,s=e.y,c=e.z,u=e.w,f=u*r+s*i-c*n,h=u*n+c*r-a*i,d=u*i+a*n-s*r,m=-a*r-s*n-c*i;return this.x=f*u+m*-a+h*-c-d*-s,this.y=h*u+m*-s+d*-a-f*-c,this.z=d*u+m*-c+f*-s-h*-a,this},project:function(){var e;return function(n){return e===void 0&&(e=new t.Matrix4),e.multiplyMatrices(n.projectionMatrix,e.getInverse(n.matrixWorld)),this.applyProjection(e)}}(),unproject:function(){var e;return function(n){return e===void 0&&(e=new t.Matrix4),e.multiplyMatrices(n.matrixWorld,e.getInverse(n.projectionMatrix)),this.applyProjection(e)}}(),transformDirection:function(e){var r=this.x,n=this.y,i=this.z,a=e.elements;return this.x=a[0]*r+a[4]*n+a[8]*i,this.y=a[1]*r+a[5]*n+a[9]*i,this.z=a[2]*r+a[6]*n+a[10]*i,this.normalize(),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this.z=Math.max(e.z,Math.min(r.z,this.z)),this},clampScalar:function(){var e,r;return function(i,a){return e===void 0&&(e=new t.Vector3,r=new t.Vector3),e.set(i,i,i),r.set(a,a,a),this.clamp(e,r)}}(),clampLength:function(e,r){var n=this.length();return this.multiplyScalar(Math.max(e,Math.min(r,n))/n),this},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this.z+=(e.z-this.z)*r,this},lerpVectors:function(e,r,n){return this.subVectors(r,e).multiplyScalar(n).add(e),this},cross:function(e,r){if(r!==void 0)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,r);var n=this.x,i=this.y,a=this.z;return this.x=i*e.z-a*e.y,this.y=a*e.x-n*e.z,this.z=n*e.y-i*e.x,this},crossVectors:function(e,r){var n=e.x,i=e.y,a=e.z,s=r.x,c=r.y,u=r.z;return this.x=i*u-a*c,this.y=a*s-n*u,this.z=n*c-i*s,this},projectOnVector:function(){var e,r;return function(i){return e===void 0&&(e=new t.Vector3),e.copy(i).normalize(),r=this.dot(e),this.copy(e).multiplyScalar(r)}}(),projectOnPlane:function(){var e;return function(n){return e===void 0&&(e=new t.Vector3),e.copy(this).projectOnVector(n),this.sub(e)}}(),reflect:function(){var e;return function(n){return e===void 0&&(e=new t.Vector3),this.sub(e.copy(n).multiplyScalar(2*this.dot(n)))}}(),angleTo:function(e){var r=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(t.Math.clamp(r,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var r=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return r*r+n*n+i*i},setFromSpherical:function(e){var r=Math.sin(e.phi)*e.radius;return this.x=r*Math.sin(e.theta),this.y=Math.cos(e.phi)*e.radius,this.z=r*Math.cos(e.theta),this},setFromMatrixPosition:function(e){return this.setFromMatrixColumn(e,3)},setFromMatrixScale:function(e){var r=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=r,this.y=n,this.z=i,this},setFromMatrixColumn:function(e,r){return typeof e=="number"&&(console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index )."),e=arguments[1],r=arguments[0]),this.fromArray(e.elements,r*4)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,r){return r===void 0&&(r=0),this.x=e[r],this.y=e[r+1],this.z=e[r+2],this},toArray:function(e,r){return e===void 0&&(e=[]),r===void 0&&(r=0),e[r]=this.x,e[r+1]=this.y,e[r+2]=this.z,e},fromAttribute:function(e,r,n){return n===void 0&&(n=0),r=r*e.itemSize+n,this.x=e.array[r],this.y=e.array[r+1],this.z=e.array[r+2],this}},t.Vector4=function(e,r,n,i){this.x=e||0,this.y=r||0,this.z=n||0,this.w=i!==void 0?i:1},t.Vector4.prototype={constructor:t.Vector4,set:function(e,r,n,i){return this.x=e,this.y=r,this.z=n,this.w=i,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;case 3:this.w=r;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this},add:function(e,r){return r!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,r)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this.z=e.z+r.z,this.w=e.w+r.w,this},addScaledVector:function(e,r){return this.x+=e.x*r,this.y+=e.y*r,this.z+=e.z*r,this.w+=e.w*r,this},sub:function(e,r){return r!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,r)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this.z=e.z-r.z,this.w=e.w-r.w,this},multiplyScalar:function(e){return isFinite(e)?(this.x*=e,this.y*=e,this.z*=e,this.w*=e):(this.x=0,this.y=0,this.z=0,this.w=0),this},applyMatrix4:function(e){var r=this.x,n=this.y,i=this.z,a=this.w,s=e.elements;return this.x=s[0]*r+s[4]*n+s[8]*i+s[12]*a,this.y=s[1]*r+s[5]*n+s[9]*i+s[13]*a,this.z=s[2]*r+s[6]*n+s[10]*i+s[14]*a,this.w=s[3]*r+s[7]*n+s[11]*i+s[15]*a,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var r=Math.sqrt(1-e.w*e.w);return r<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/r,this.y=e.y/r,this.z=e.z/r),this},setAxisAngleFromRotationMatrix:function(e){var r,n,i,a,s=.01,c=.1,u=e.elements,f=u[0],h=u[4],d=u[8],m=u[1],p=u[5],v=u[9],g=u[2],y=u[6],x=u[10];if(Math.abs(h-m)<s&&Math.abs(d-g)<s&&Math.abs(v-y)<s){if(Math.abs(h+m)<c&&Math.abs(d+g)<c&&Math.abs(v+y)<c&&Math.abs(f+p+x-3)<c)return this.set(1,0,0,0),this;r=Math.PI;var w=(f+1)/2,M=(p+1)/2,E=(x+1)/2,T=(h+m)/4,S=(d+g)/4,L=(v+y)/4;return w>M&&w>E?w<s?(n=0,i=.707106781,a=.707106781):(n=Math.sqrt(w),i=T/n,a=S/n):M>E?M<s?(n=.707106781,i=0,a=.707106781):(i=Math.sqrt(M),n=T/i,a=L/i):E<s?(n=.707106781,i=.707106781,a=0):(a=Math.sqrt(E),n=S/a,i=L/a),this.set(n,i,a,r),this}var P=Math.sqrt((y-v)*(y-v)+(d-g)*(d-g)+(m-h)*(m-h));return Math.abs(P)<.001&&(P=1),this.x=(y-v)/P,this.y=(d-g)/P,this.z=(m-h)/P,this.w=Math.acos((f+p+x-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this.z=Math.max(e.z,Math.min(r.z,this.z)),this.w=Math.max(e.w,Math.min(r.w,this.w)),this},clampScalar:function(){var e,r;return function(i,a){return e===void 0&&(e=new t.Vector4,r=new t.Vector4),e.set(i,i,i,i),r.set(a,a,a,a),this.clamp(e,r)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this.z+=(e.z-this.z)*r,this.w+=(e.w-this.w)*r,this},lerpVectors:function(e,r,n){return this.subVectors(r,e).multiplyScalar(n).add(e),this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,r){return r===void 0&&(r=0),this.x=e[r],this.y=e[r+1],this.z=e[r+2],this.w=e[r+3],this},toArray:function(e,r){return e===void 0&&(e=[]),r===void 0&&(r=0),e[r]=this.x,e[r+1]=this.y,e[r+2]=this.z,e[r+3]=this.w,e},fromAttribute:function(e,r,n){return n===void 0&&(n=0),r=r*e.itemSize+n,this.x=e.array[r],this.y=e.array[r+1],this.z=e.array[r+2],this.w=e.array[r+3],this}},t.Euler=function(e,r,n,i){this._x=e||0,this._y=r||0,this._z=n||0,this._order=i||t.Euler.DefaultOrder},t.Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],t.Euler.DefaultOrder="XYZ",t.Euler.prototype={constructor:t.Euler,get x(){return this._x},set x(e){this._x=e,this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e,this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e,this.onChangeCallback()},get order(){return this._order},set order(e){this._order=e,this.onChangeCallback()},set:function(e,r,n,i){return this._x=e,this._y=r,this._z=n,this._order=i||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,r,n){var i=t.Math.clamp,a=e.elements,s=a[0],c=a[4],u=a[8],f=a[1],h=a[5],d=a[9],m=a[2],p=a[6],v=a[10];return r=r||this._order,r==="XYZ"?(this._y=Math.asin(i(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-d,v),this._z=Math.atan2(-c,s)):(this._x=Math.atan2(p,h),this._z=0)):r==="YXZ"?(this._x=Math.asin(-i(d,-1,1)),Math.abs(d)<.99999?(this._y=Math.atan2(u,v),this._z=Math.atan2(f,h)):(this._y=Math.atan2(-m,s),this._z=0)):r==="ZXY"?(this._x=Math.asin(i(p,-1,1)),Math.abs(p)<.99999?(this._y=Math.atan2(-m,v),this._z=Math.atan2(-c,h)):(this._y=0,this._z=Math.atan2(f,s))):r==="ZYX"?(this._y=Math.asin(-i(m,-1,1)),Math.abs(m)<.99999?(this._x=Math.atan2(p,v),this._z=Math.atan2(f,s)):(this._x=0,this._z=Math.atan2(-c,h))):r==="YZX"?(this._z=Math.asin(i(f,-1,1)),Math.abs(f)<.99999?(this._x=Math.atan2(-d,h),this._y=Math.atan2(-m,s)):(this._x=0,this._y=Math.atan2(u,v))):r==="XZY"?(this._z=Math.asin(-i(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(p,h),this._y=Math.atan2(u,s)):(this._x=Math.atan2(-d,v),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+r),this._order=r,n!==!1&&this.onChangeCallback(),this},setFromQuaternion:function(){var e;return function(r,n,i){return e===void 0&&(e=new t.Matrix4),e.makeRotationFromQuaternion(r),this.setFromRotationMatrix(e,n,i),this}}(),setFromVector3:function(e,r){return this.set(e.x,e.y,e.z,r||this._order)},reorder:function(){var e=new t.Quaternion;return function(r){e.setFromEuler(this),this.setFromQuaternion(e,r)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,r){return e===void 0&&(e=[]),r===void 0&&(r=0),e[r]=this._x,e[r+1]=this._y,e[r+2]=this._z,e[r+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new t.Vector3(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}},t.Line3=function(e,r){this.start=e!==void 0?e:new t.Vector3,this.end=r!==void 0?r:new t.Vector3},t.Line3.prototype={constructor:t.Line3,set:function(e,r){return this.start.copy(e),this.end.copy(r),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},center:function(e){var r=e||new t.Vector3;return r.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){var r=e||new t.Vector3;return r.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,r){var n=r||new t.Vector3;return this.delta(n).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new t.Vector3,r=new t.Vector3;return function(n,i){e.subVectors(n,this.start),r.subVectors(this.end,this.start);var a=r.dot(r),s=r.dot(e),c=s/a;return i&&(c=t.Math.clamp(c,0,1)),c}}(),closestPointToPoint:function(e,r,n){var i=this.closestPointToPointParameter(e,r),a=n||new t.Vector3;return this.delta(a).multiplyScalar(i).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},t.Box2=function(e,r){this.min=e!==void 0?e:new t.Vector2(1/0,1/0),this.max=r!==void 0?r:new t.Vector2(-1/0,-1/0)},t.Box2.prototype={constructor:t.Box2,set:function(e,r){return this.min.copy(e),this.max.copy(r),this},setFromPoints:function(e){this.makeEmpty();for(var r=0,n=e.length;r<n;r++)this.expandByPoint(e[r]);return this},setFromCenterAndSize:function(){var e=new t.Vector2;return function(r,n){var i=e.copy(n).multiplyScalar(.5);return this.min.copy(r).sub(i),this.max.copy(r).add(i),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(e){var r=e||new t.Vector2;return r.addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){var r=e||new t.Vector2;return r.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,r){var n=r||new t.Vector2;return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,r){var n=r||new t.Vector2;return n.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new t.Vector2;return function(r){var n=e.copy(r).clamp(this.min,this.max);return n.sub(r).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},t.Box3=function(e,r){this.min=e!==void 0?e:new t.Vector3(1/0,1/0,1/0),this.max=r!==void 0?r:new t.Vector3(-1/0,-1/0,-1/0)},t.Box3.prototype={constructor:t.Box3,set:function(e,r){return this.min.copy(e),this.max.copy(r),this},setFromArray:function(e){this.makeEmpty();for(var r=1/0,n=1/0,i=1/0,a=-1/0,s=-1/0,c=-1/0,u=0,f=e.length;u<f;u+=3){var h=e[u],d=e[u+1],m=e[u+2];h<r&&(r=h),d<n&&(n=d),m<i&&(i=m),h>a&&(a=h),d>s&&(s=d),m>c&&(c=m)}this.min.set(r,n,i),this.max.set(a,s,c)},setFromPoints:function(e){this.makeEmpty();for(var r=0,n=e.length;r<n;r++)this.expandByPoint(e[r]);return this},setFromCenterAndSize:function(){var e=new t.Vector3;return function(r,n){var i=e.copy(n).multiplyScalar(.5);return this.min.copy(r).sub(i),this.max.copy(r).add(i),this}}(),setFromObject:function(){var e;return function(r){e===void 0&&(e=new t.Box3);var n=this;return this.makeEmpty(),r.updateMatrixWorld(!0),r.traverse(function(i){var a=i.geometry;a!==void 0&&(a.boundingBox===null&&a.computeBoundingBox(),a.boundingBox.isEmpty()===!1&&(e.copy(a.boundingBox),e.applyMatrix4(i.matrixWorld),n.union(e)))}),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(e){var r=e||new t.Vector3;return r.addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){var r=e||new t.Vector3;return r.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,r){var n=r||new t.Vector3;return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(){var e;return function(n){return e===void 0&&(e=new t.Vector3),this.clampPoint(n.center,e),e.distanceToSquared(n.center)<=n.radius*n.radius}}(),intersectsPlane:function(e){var r,n;return e.normal.x>0?(r=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(r=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(r+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(r+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(r+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(r+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),r<=e.constant&&n>=e.constant},clampPoint:function(e,r){var n=r||new t.Vector3;return n.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new t.Vector3;return function(r){var n=e.copy(r).clamp(this.min,this.max);return n.sub(r).length()}}(),getBoundingSphere:function(){var e=new t.Vector3;return function(r){var n=r||new t.Sphere;return n.center=this.center(),n.radius=this.size(e).length()*.5,n}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new t.Vector3,new t.Vector3,new t.Vector3,new t.Vector3,new t.Vector3,new t.Vector3,new t.Vector3,new t.Vector3];return function(r){return e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(r),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(r),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(r),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(r),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(r),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(r),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(r),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(r),this.makeEmpty(),this.setFromPoints(e),this}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},t.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")},t.Matrix3.prototype={constructor:t.Matrix3,set:function(e,r,n,i,a,s,c,u,f){var h=this.elements;return h[0]=e,h[1]=i,h[2]=c,h[3]=r,h[4]=a,h[5]=u,h[6]=n,h[7]=s,h[8]=f,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return new this.constructor().fromArray(this.elements)},copy:function(e){var r=e.elements;return this.set(r[0],r[3],r[6],r[1],r[4],r[7],r[2],r[5],r[8]),this},setFromMatrix4:function(e){var r=e.elements;return this.set(r[0],r[4],r[8],r[1],r[5],r[9],r[2],r[6],r[10]),this},applyToVector3Array:function(){var e;return function(r,n,i){e===void 0&&(e=new t.Vector3),n===void 0&&(n=0),i===void 0&&(i=r.length);for(var a=0,s=n;a<i;a+=3,s+=3)e.fromArray(r,s),e.applyMatrix3(this),e.toArray(r,s);return r}}(),applyToBuffer:function(){var e;return function(n,i,a){e===void 0&&(e=new t.Vector3),i===void 0&&(i=0),a===void 0&&(a=n.length/n.itemSize);for(var s=0,c=i;s<a;s++,c++)e.x=n.getX(c),e.y=n.getY(c),e.z=n.getZ(c),e.applyMatrix3(this),n.setXYZ(e.x,e.y,e.z);return n}}(),multiplyScalar:function(e){var r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=e,r[4]*=e,r[7]*=e,r[2]*=e,r[5]*=e,r[8]*=e,this},determinant:function(){var e=this.elements,r=e[0],n=e[1],i=e[2],a=e[3],s=e[4],c=e[5],u=e[6],f=e[7],h=e[8];return r*s*h-r*c*f-n*a*h+n*c*u+i*a*f-i*s*u},getInverse:function(e,r){e instanceof t.Matrix4&&console.warn("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var n=e.elements,i=this.elements,a=n[0],s=n[1],c=n[2],u=n[3],f=n[4],h=n[5],d=n[6],m=n[7],p=n[8],v=p*f-h*m,g=h*d-p*u,y=m*u-f*d,x=a*v+s*g+c*y;if(x===0){var w="THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0";if(r)throw new Error(w);return console.warn(w),this.identity()}return i[0]=v,i[1]=c*m-p*s,i[2]=h*s-c*f,i[3]=g,i[4]=p*a-c*d,i[5]=c*u-h*a,i[6]=y,i[7]=s*d-m*a,i[8]=f*a-s*u,this.multiplyScalar(1/x)},transpose:function(){var e,r=this.elements;return e=r[1],r[1]=r[3],r[3]=e,e=r[2],r[2]=r[6],r[6]=e,e=r[5],r[5]=r[7],r[7]=e,this},flattenToArrayOffset:function(e,r){var n=this.elements;return e[r]=n[0],e[r+1]=n[1],e[r+2]=n[2],e[r+3]=n[3],e[r+4]=n[4],e[r+5]=n[5],e[r+6]=n[6],e[r+7]=n[7],e[r+8]=n[8],e},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var r=this.elements;return e[0]=r[0],e[1]=r[3],e[2]=r[6],e[3]=r[1],e[4]=r[4],e[5]=r[7],e[6]=r[2],e[7]=r[5],e[8]=r[8],this},fromArray:function(e){return this.elements.set(e),this},toArray:function(){var e=this.elements;return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]}},t.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")},t.Matrix4.prototype={constructor:t.Matrix4,set:function(e,r,n,i,a,s,c,u,f,h,d,m,p,v,g,y){var x=this.elements;return x[0]=e,x[4]=r,x[8]=n,x[12]=i,x[1]=a,x[5]=s,x[9]=c,x[13]=u,x[2]=f,x[6]=h,x[10]=d,x[14]=m,x[3]=p,x[7]=v,x[11]=g,x[15]=y,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return new t.Matrix4().fromArray(this.elements)},copy:function(e){return this.elements.set(e.elements),this},copyPosition:function(e){var r=this.elements,n=e.elements;return r[12]=n[12],r[13]=n[13],r[14]=n[14],this},extractBasis:function(e,r,n){return e.setFromMatrixColumn(this,0),r.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,r,n){return this.set(e.x,r.x,n.x,0,e.y,r.y,n.y,0,e.z,r.z,n.z,0,0,0,0,1),this},extractRotation:function(){var e;return function(r){e===void 0&&(e=new t.Vector3);var n=this.elements,i=r.elements,a=1/e.setFromMatrixColumn(r,0).length(),s=1/e.setFromMatrixColumn(r,1).length(),c=1/e.setFromMatrixColumn(r,2).length();return n[0]=i[0]*a,n[1]=i[1]*a,n[2]=i[2]*a,n[4]=i[4]*s,n[5]=i[5]*s,n[6]=i[6]*s,n[8]=i[8]*c,n[9]=i[9]*c,n[10]=i[10]*c,this}}(),makeRotationFromEuler:function(e){e instanceof t.Euler||console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var r=this.elements,n=e.x,i=e.y,a=e.z,s=Math.cos(n),c=Math.sin(n),u=Math.cos(i),f=Math.sin(i),h=Math.cos(a),d=Math.sin(a);if(e.order==="XYZ"){var m=s*h,p=s*d,v=c*h,g=c*d;r[0]=u*h,r[4]=-u*d,r[8]=f,r[1]=p+v*f,r[5]=m-g*f,r[9]=-c*u,r[2]=g-m*f,r[6]=v+p*f,r[10]=s*u}else if(e.order==="YXZ"){var y=u*h,x=u*d,w=f*h,M=f*d;r[0]=y+M*c,r[4]=w*c-x,r[8]=s*f,r[1]=s*d,r[5]=s*h,r[9]=-c,r[2]=x*c-w,r[6]=M+y*c,r[10]=s*u}else if(e.order==="ZXY"){var y=u*h,x=u*d,w=f*h,M=f*d;r[0]=y-M*c,r[4]=-s*d,r[8]=w+x*c,r[1]=x+w*c,r[5]=s*h,r[9]=M-y*c,r[2]=-s*f,r[6]=c,r[10]=s*u}else if(e.order==="ZYX"){var m=s*h,p=s*d,v=c*h,g=c*d;r[0]=u*h,r[4]=v*f-p,r[8]=m*f+g,r[1]=u*d,r[5]=g*f+m,r[9]=p*f-v,r[2]=-f,r[6]=c*u,r[10]=s*u}else if(e.order==="YZX"){var E=s*u,T=s*f,S=c*u,L=c*f;r[0]=u*h,r[4]=L-E*d,r[8]=S*d+T,r[1]=d,r[5]=s*h,r[9]=-c*h,r[2]=-f*h,r[6]=T*d+S,r[10]=E-L*d}else if(e.order==="XZY"){var E=s*u,T=s*f,S=c*u,L=c*f;r[0]=u*h,r[4]=-d,r[8]=f*h,r[1]=E*d+L,r[5]=s*h,r[9]=T*d-S,r[2]=S*d-T,r[6]=c*h,r[10]=L*d+E}return r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this},makeRotationFromQuaternion:function(e){var r=this.elements,n=e.x,i=e.y,a=e.z,s=e.w,c=n+n,u=i+i,f=a+a,h=n*c,d=n*u,m=n*f,p=i*u,v=i*f,g=a*f,y=s*c,x=s*u,w=s*f;return r[0]=1-(p+g),r[4]=d-w,r[8]=m+x,r[1]=d+w,r[5]=1-(h+g),r[9]=v-y,r[2]=m-x,r[6]=v+y,r[10]=1-(h+p),r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this},lookAt:function(){var e,r,n;return function(i,a,s){e===void 0&&(e=new t.Vector3),r===void 0&&(r=new t.Vector3),n===void 0&&(n=new t.Vector3);var c=this.elements;return n.subVectors(i,a).normalize(),n.lengthSq()===0&&(n.z=1),e.crossVectors(s,n).normalize(),e.lengthSq()===0&&(n.x+=1e-4,e.crossVectors(s,n).normalize()),r.crossVectors(n,e),c[0]=e.x,c[4]=r.x,c[8]=n.x,c[1]=e.y,c[5]=r.y,c[9]=n.y,c[2]=e.z,c[6]=r.z,c[10]=n.z,this}}(),multiply:function(e,r){return r!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,r)):this.multiplyMatrices(this,e)},multiplyMatrices:function(e,r){var n=e.elements,i=r.elements,a=this.elements,s=n[0],c=n[4],u=n[8],f=n[12],h=n[1],d=n[5],m=n[9],p=n[13],v=n[2],g=n[6],y=n[10],x=n[14],w=n[3],M=n[7],E=n[11],T=n[15],S=i[0],L=i[4],P=i[8],R=i[12],B=i[1],V=i[5],z=i[9],X=i[13],G=i[2],k=i[6],j=i[10],$=i[14],Z=i[3],K=i[7],oe=i[11],ie=i[15];return a[0]=s*S+c*B+u*G+f*Z,a[4]=s*L+c*V+u*k+f*K,a[8]=s*P+c*z+u*j+f*oe,a[12]=s*R+c*X+u*$+f*ie,a[1]=h*S+d*B+m*G+p*Z,a[5]=h*L+d*V+m*k+p*K,a[9]=h*P+d*z+m*j+p*oe,a[13]=h*R+d*X+m*$+p*ie,a[2]=v*S+g*B+y*G+x*Z,a[6]=v*L+g*V+y*k+x*K,a[10]=v*P+g*z+y*j+x*oe,a[14]=v*R+g*X+y*$+x*ie,a[3]=w*S+M*B+E*G+T*Z,a[7]=w*L+M*V+E*k+T*K,a[11]=w*P+M*z+E*j+T*oe,a[15]=w*R+M*X+E*$+T*ie,this},multiplyToArray:function(e,r,n){var i=this.elements;return this.multiplyMatrices(e,r),n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this},multiplyScalar:function(e){var r=this.elements;return r[0]*=e,r[4]*=e,r[8]*=e,r[12]*=e,r[1]*=e,r[5]*=e,r[9]*=e,r[13]*=e,r[2]*=e,r[6]*=e,r[10]*=e,r[14]*=e,r[3]*=e,r[7]*=e,r[11]*=e,r[15]*=e,this},applyToVector3Array:function(){var e;return function(r,n,i){e===void 0&&(e=new t.Vector3),n===void 0&&(n=0),i===void 0&&(i=r.length);for(var a=0,s=n;a<i;a+=3,s+=3)e.fromArray(r,s),e.applyMatrix4(this),e.toArray(r,s);return r}}(),applyToBuffer:function(){var e;return function(n,i,a){e===void 0&&(e=new t.Vector3),i===void 0&&(i=0),a===void 0&&(a=n.length/n.itemSize);for(var s=0,c=i;s<a;s++,c++)e.x=n.getX(c),e.y=n.getY(c),e.z=n.getZ(c),e.applyMatrix4(this),n.setXYZ(e.x,e.y,e.z);return n}}(),determinant:function(){var e=this.elements,r=e[0],n=e[4],i=e[8],a=e[12],s=e[1],c=e[5],u=e[9],f=e[13],h=e[2],d=e[6],m=e[10],p=e[14],v=e[3],g=e[7],y=e[11],x=e[15];return v*(+a*u*d-i*f*d-a*c*m+n*f*m+i*c*p-n*u*p)+g*(+r*u*p-r*f*m+a*s*m-i*s*p+i*f*h-a*u*h)+y*(+r*f*d-r*c*p-a*s*d+n*s*p+a*c*h-n*f*h)+x*(-i*c*h-r*u*d+r*c*m+i*s*d-n*s*m+n*u*h)},transpose:function(){var e=this.elements,r;return r=e[1],e[1]=e[4],e[4]=r,r=e[2],e[2]=e[8],e[8]=r,r=e[6],e[6]=e[9],e[9]=r,r=e[3],e[3]=e[12],e[12]=r,r=e[7],e[7]=e[13],e[13]=r,r=e[11],e[11]=e[14],e[14]=r,this},flattenToArrayOffset:function(e,r){var n=this.elements;return e[r]=n[0],e[r+1]=n[1],e[r+2]=n[2],e[r+3]=n[3],e[r+4]=n[4],e[r+5]=n[5],e[r+6]=n[6],e[r+7]=n[7],e[r+8]=n[8],e[r+9]=n[9],e[r+10]=n[10],e[r+11]=n[11],e[r+12]=n[12],e[r+13]=n[13],e[r+14]=n[14],e[r+15]=n[15],e},getPosition:function(){var e;return function(){return e===void 0&&(e=new t.Vector3),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),e.setFromMatrixColumn(this,3)}}(),setPosition:function(e){var r=this.elements;return r[12]=e.x,r[13]=e.y,r[14]=e.z,this},getInverse:function(e,r){var n=this.elements,i=e.elements,a=i[0],s=i[1],c=i[2],u=i[3],f=i[4],h=i[5],d=i[6],m=i[7],p=i[8],v=i[9],g=i[10],y=i[11],x=i[12],w=i[13],M=i[14],E=i[15],T=v*M*m-w*g*m+w*d*y-h*M*y-v*d*E+h*g*E,S=x*g*m-p*M*m-x*d*y+f*M*y+p*d*E-f*g*E,L=p*w*m-x*v*m+x*h*y-f*w*y-p*h*E+f*v*E,P=x*v*d-p*w*d-x*h*g+f*w*g+p*h*M-f*v*M,R=a*T+s*S+c*L+u*P;if(R===0){var B="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(r)throw new Error(B);return console.warn(B),this.identity()}return n[0]=T,n[1]=w*g*u-v*M*u-w*c*y+s*M*y+v*c*E-s*g*E,n[2]=h*M*u-w*d*u+w*c*m-s*M*m-h*c*E+s*d*E,n[3]=v*d*u-h*g*u-v*c*m+s*g*m+h*c*y-s*d*y,n[4]=S,n[5]=p*M*u-x*g*u+x*c*y-a*M*y-p*c*E+a*g*E,n[6]=x*d*u-f*M*u-x*c*m+a*M*m+f*c*E-a*d*E,n[7]=f*g*u-p*d*u+p*c*m-a*g*m-f*c*y+a*d*y,n[8]=L,n[9]=x*v*u-p*w*u-x*s*y+a*w*y+p*s*E-a*v*E,n[10]=f*w*u-x*h*u+x*s*m-a*w*m-f*s*E+a*h*E,n[11]=p*h*u-f*v*u-p*s*m+a*v*m+f*s*y-a*h*y,n[12]=P,n[13]=p*w*c-x*v*c+x*s*g-a*w*g-p*s*M+a*v*M,n[14]=x*h*c-f*w*c-x*s*d+a*w*d+f*s*M-a*h*M,n[15]=f*v*c-p*h*c+p*s*d-a*v*d-f*s*g+a*h*g,this.multiplyScalar(1/R)},scale:function(e){var r=this.elements,n=e.x,i=e.y,a=e.z;return r[0]*=n,r[4]*=i,r[8]*=a,r[1]*=n,r[5]*=i,r[9]*=a,r[2]*=n,r[6]*=i,r[10]*=a,r[3]*=n,r[7]*=i,r[11]*=a,this},getMaxScaleOnAxis:function(){var e=this.elements,r=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(r,n,i))},makeTranslation:function(e,r,n){return this.set(1,0,0,e,0,1,0,r,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var r=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,r,-n,0,0,n,r,0,0,0,0,1),this},makeRotationY:function(e){var r=Math.cos(e),n=Math.sin(e);return this.set(r,0,n,0,0,1,0,0,-n,0,r,0,0,0,0,1),this},makeRotationZ:function(e){var r=Math.cos(e),n=Math.sin(e);return this.set(r,-n,0,0,n,r,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,r){var n=Math.cos(r),i=Math.sin(r),a=1-n,s=e.x,c=e.y,u=e.z,f=a*s,h=a*c;return this.set(f*s+n,f*c-i*u,f*u+i*c,0,f*c+i*u,h*c+n,h*u-i*s,0,f*u-i*c,h*u+i*s,a*u*u+n,0,0,0,0,1),this},makeScale:function(e,r,n){return this.set(e,0,0,0,0,r,0,0,0,0,n,0,0,0,0,1),this},compose:function(e,r,n){return this.makeRotationFromQuaternion(r),this.scale(n),this.setPosition(e),this},decompose:function(){var e,r;return function(n,i,a){e===void 0&&(e=new t.Vector3),r===void 0&&(r=new t.Matrix4);var s=this.elements,c=e.set(s[0],s[1],s[2]).length(),u=e.set(s[4],s[5],s[6]).length(),f=e.set(s[8],s[9],s[10]).length(),h=this.determinant();h<0&&(c=-c),n.x=s[12],n.y=s[13],n.z=s[14],r.elements.set(this.elements);var d=1/c,m=1/u,p=1/f;return r.elements[0]*=d,r.elements[1]*=d,r.elements[2]*=d,r.elements[4]*=m,r.elements[5]*=m,r.elements[6]*=m,r.elements[8]*=p,r.elements[9]*=p,r.elements[10]*=p,i.setFromRotationMatrix(r),a.x=c,a.y=u,a.z=f,this}}(),makeFrustum:function(e,r,n,i,a,s){var c=this.elements,u=2*a/(r-e),f=2*a/(i-n),h=(r+e)/(r-e),d=(i+n)/(i-n),m=-(s+a)/(s-a),p=-2*s*a/(s-a);return c[0]=u,c[4]=0,c[8]=h,c[12]=0,c[1]=0,c[5]=f,c[9]=d,c[13]=0,c[2]=0,c[6]=0,c[10]=m,c[14]=p,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this},makePerspective:function(e,r,n,i){var a=n*Math.tan(t.Math.degToRad(e*.5)),s=-a,c=s*r,u=a*r;return this.makeFrustum(c,u,s,a,n,i)},makeOrthographic:function(e,r,n,i,a,s){var c=this.elements,u=1/(r-e),f=1/(n-i),h=1/(s-a),d=(r+e)*u,m=(n+i)*f,p=(s+a)*h;return c[0]=2*u,c[4]=0,c[8]=0,c[12]=-d,c[1]=0,c[5]=2*f,c[9]=0,c[13]=-m,c[2]=0,c[6]=0,c[10]=-2*h,c[14]=-p,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this},equals:function(e){for(var r=this.elements,n=e.elements,i=0;i<16;i++)if(r[i]!==n[i])return!1;return!0},fromArray:function(e){return this.elements.set(e),this},toArray:function(){var e=this.elements;return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}},t.Ray=function(e,r){this.origin=e!==void 0?e:new t.Vector3,this.direction=r!==void 0?r:new t.Vector3},t.Ray.prototype={constructor:t.Ray,set:function(e,r){return this.origin.copy(e),this.direction.copy(r),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,r){var n=r||new t.Vector3;return n.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){this.direction.copy(e).sub(this.origin).normalize()},recast:function(){var e=new t.Vector3;return function(r){return this.origin.copy(this.at(r,e)),this}}(),closestPointToPoint:function(e,r){var n=r||new t.Vector3;n.subVectors(e,this.origin);var i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new t.Vector3;return function(r){var n=e.subVectors(r,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(r):(e.copy(this.direction).multiplyScalar(n).add(this.origin),e.distanceToSquared(r))}}(),distanceSqToSegment:function(){var e=new t.Vector3,r=new t.Vector3,n=new t.Vector3;return function(i,a,s,c){e.copy(i).add(a).multiplyScalar(.5),r.copy(a).sub(i).normalize(),n.copy(this.origin).sub(e);var u=i.distanceTo(a)*.5,f=-this.direction.dot(r),h=n.dot(this.direction),d=-n.dot(r),m=n.lengthSq(),p=Math.abs(1-f*f),v,g,y,x;if(p>0)if(v=f*d-h,g=f*h-d,x=u*p,v>=0)if(g>=-x)if(g<=x){var w=1/p;v*=w,g*=w,y=v*(v+f*g+2*h)+g*(f*v+g+2*d)+m}else g=u,v=Math.max(0,-(f*g+h)),y=-v*v+g*(g+2*d)+m;else g=-u,v=Math.max(0,-(f*g+h)),y=-v*v+g*(g+2*d)+m;else g<=-x?(v=Math.max(0,-(-f*u+h)),g=v>0?-u:Math.min(Math.max(-u,-d),u),y=-v*v+g*(g+2*d)+m):g<=x?(v=0,g=Math.min(Math.max(-u,-d),u),y=g*(g+2*d)+m):(v=Math.max(0,-(f*u+h)),g=v>0?u:Math.min(Math.max(-u,-d),u),y=-v*v+g*(g+2*d)+m);else g=f>0?-u:u,v=Math.max(0,-(f*g+h)),y=-v*v+g*(g+2*d)+m;return s&&s.copy(this.direction).multiplyScalar(v).add(this.origin),c&&c.copy(r).multiplyScalar(g).add(e),y}}(),intersectSphere:function(){var e=new t.Vector3;return function(r,n){e.subVectors(r.center,this.origin);var i=e.dot(this.direction),a=e.dot(e)-i*i,s=r.radius*r.radius;if(a>s)return null;var c=Math.sqrt(s-a),u=i-c,f=i+c;return u<0&&f<0?null:u<0?this.at(f,n):this.at(u,n)}}(),intersectsSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},distanceToPlane:function(e){var r=e.normal.dot(this.direction);if(r===0)return e.distanceToPoint(this.origin)===0?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/r;return n>=0?n:null},intersectPlane:function(e,r){var n=this.distanceToPlane(e);return n===null?null:this.at(n,r)},intersectsPlane:function(e){var r=e.distanceToPoint(this.origin);if(r===0)return!0;var n=e.normal.dot(this.direction);return n*r<0},intersectBox:function(e,r){var n,i,a,s,c,u,f=1/this.direction.x,h=1/this.direction.y,d=1/this.direction.z,m=this.origin;return f>=0?(n=(e.min.x-m.x)*f,i=(e.max.x-m.x)*f):(n=(e.max.x-m.x)*f,i=(e.min.x-m.x)*f),h>=0?(a=(e.min.y-m.y)*h,s=(e.max.y-m.y)*h):(a=(e.max.y-m.y)*h,s=(e.min.y-m.y)*h),n>s||a>i||((a>n||n!==n)&&(n=a),(s<i||i!==i)&&(i=s),d>=0?(c=(e.min.z-m.z)*d,u=(e.max.z-m.z)*d):(c=(e.max.z-m.z)*d,u=(e.min.z-m.z)*d),n>u||c>i)||((c>n||n!==n)&&(n=c),(u<i||i!==i)&&(i=u),i<0)?null:this.at(n>=0?n:i,r)},intersectsBox:function(){var e=new t.Vector3;return function(r){return this.intersectBox(r,e)!==null}}(),intersectTriangle:function(){var e=new t.Vector3,r=new t.Vector3,n=new t.Vector3,i=new t.Vector3;return function(a,s,c,u,f){r.subVectors(s,a),n.subVectors(c,a),i.crossVectors(r,n);var h=this.direction.dot(i),d;if(h>0){if(u)return null;d=1}else if(h<0)d=-1,h=-h;else return null;e.subVectors(this.origin,a);var m=d*this.direction.dot(n.crossVectors(e,n));if(m<0)return null;var p=d*this.direction.dot(r.cross(e));if(p<0||m+p>h)return null;var v=-d*e.dot(i);return v<0?null:this.at(v/h,f)}}(),applyMatrix4:function(e){return this.direction.add(this.origin).applyMatrix4(e),this.origin.applyMatrix4(e),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},t.Sphere=function(e,r){this.center=e!==void 0?e:new t.Vector3,this.radius=r!==void 0?r:0},t.Sphere.prototype={constructor:t.Sphere,set:function(e,r){return this.center.copy(e),this.radius=r,this},setFromPoints:function(){var e=new t.Box3;return function(r,n){var i=this.center;n!==void 0?i.copy(n):e.setFromPoints(r).center(i);for(var a=0,s=0,c=r.length;s<c;s++)a=Math.max(a,i.distanceToSquared(r[s]));return this.radius=Math.sqrt(a),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var r=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=r*r},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(this.center.dot(e.normal)-e.constant)<=this.radius},clampPoint:function(e,r){var n=this.center.distanceToSquared(e),i=r||new t.Vector3;return i.copy(e),n>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i},getBoundingBox:function(e){var r=e||new t.Box3;return r.set(this.center,this.center),r.expandByScalar(this.radius),r},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},t.Frustum=function(e,r,n,i,a,s){this.planes=[e!==void 0?e:new t.Plane,r!==void 0?r:new t.Plane,n!==void 0?n:new t.Plane,i!==void 0?i:new t.Plane,a!==void 0?a:new t.Plane,s!==void 0?s:new t.Plane]},t.Frustum.prototype={constructor:t.Frustum,set:function(e,r,n,i,a,s){var c=this.planes;return c[0].copy(e),c[1].copy(r),c[2].copy(n),c[3].copy(i),c[4].copy(a),c[5].copy(s),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){for(var r=this.planes,n=0;n<6;n++)r[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var r=this.planes,n=e.elements,i=n[0],a=n[1],s=n[2],c=n[3],u=n[4],f=n[5],h=n[6],d=n[7],m=n[8],p=n[9],v=n[10],g=n[11],y=n[12],x=n[13],w=n[14],M=n[15];return r[0].setComponents(c-i,d-u,g-m,M-y).normalize(),r[1].setComponents(c+i,d+u,g+m,M+y).normalize(),r[2].setComponents(c+a,d+f,g+p,M+x).normalize(),r[3].setComponents(c-a,d-f,g-p,M-x).normalize(),r[4].setComponents(c-s,d-h,g-v,M-w).normalize(),r[5].setComponents(c+s,d+h,g+v,M+w).normalize(),this},intersectsObject:function(){var e=new t.Sphere;return function(r){var n=r.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),e.copy(n.boundingSphere),e.applyMatrix4(r.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var r=this.planes,n=e.center,i=-e.radius,a=0;a<6;a++){var s=r[a].distanceToPoint(n);if(s<i)return!1}return!0},intersectsBox:function(){var e=new t.Vector3,r=new t.Vector3;return function(n){for(var i=this.planes,a=0;a<6;a++){var s=i[a];e.x=s.normal.x>0?n.min.x:n.max.x,r.x=s.normal.x>0?n.max.x:n.min.x,e.y=s.normal.y>0?n.min.y:n.max.y,r.y=s.normal.y>0?n.max.y:n.min.y,e.z=s.normal.z>0?n.min.z:n.max.z,r.z=s.normal.z>0?n.max.z:n.min.z;var c=s.distanceToPoint(e),u=s.distanceToPoint(r);if(c<0&&u<0)return!1}return!0}}(),containsPoint:function(e){for(var r=this.planes,n=0;n<6;n++)if(r[n].distanceToPoint(e)<0)return!1;return!0}},t.Plane=function(e,r){this.normal=e!==void 0?e:new t.Vector3(1,0,0),this.constant=r!==void 0?r:0},t.Plane.prototype={constructor:t.Plane,set:function(e,r){return this.normal.copy(e),this.constant=r,this},setComponents:function(e,r,n,i){return this.normal.set(e,r,n),this.constant=i,this},setFromNormalAndCoplanarPoint:function(e,r){return this.normal.copy(e),this.constant=-r.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new t.Vector3,r=new t.Vector3;return function(n,i,a){var s=e.subVectors(a,i).cross(r.subVectors(n,i)).normalize();return this.setFromNormalAndCoplanarPoint(s,n),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,r){return this.orthoPoint(e,r).sub(e).negate()},orthoPoint:function(e,r){var n=this.distanceToPoint(e),i=r||new t.Vector3;return i.copy(this.normal).multiplyScalar(n)},intersectLine:function(){var e=new t.Vector3;return function(r,n){var i=n||new t.Vector3,a=r.delta(e),s=this.normal.dot(a);if(s===0)return this.distanceToPoint(r.start)===0?i.copy(r.start):void 0;var c=-(r.start.dot(this.normal)+this.constant)/s;if(!(c<0||c>1))return i.copy(a).multiplyScalar(c).add(r.start)}}(),intersectsLine:function(e){var r=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return r<0&&n>0||n<0&&r>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){var r=e||new t.Vector3;return r.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new t.Vector3,r=new t.Vector3,n=new t.Matrix3;return function(i,a){var s=a||n.getNormalMatrix(i),c=e.copy(this.normal).applyMatrix3(s),u=this.coplanarPoint(r);return u.applyMatrix4(i),this.setFromNormalAndCoplanarPoint(c,u),this}}(),translate:function(e){return this.constant=this.constant-e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},t.Spherical=function(e,r,n){return this.radius=e!==void 0?e:1,this.phi=r!==void 0?r:0,this.theta=n!==void 0?n:0,this},t.Spherical.prototype={constructor:t.Spherical,set:function(e,r,n){this.radius=e,this.phi=r,this.theta=n},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.radius.copy(e.radius),this.phi.copy(e.phi),this.theta.copy(e.theta),this},makeSafe:function(){var e=1e-6;this.phi=Math.max(e,Math.min(Math.PI-e,this.phi))},setFromVector3:function(e){return this.radius=e.length(),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e.x,e.z),this.phi=Math.acos(t.Math.clamp(e.y/this.radius,-1,1))),this}},t.Math={generateUUID:function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=new Array(36),n=0,i;return function(){for(var a=0;a<36;a++)a===8||a===13||a===18||a===23?r[a]="-":a===14?r[a]="4":(n<=2&&(n=33554432+Math.random()*16777216|0),i=n&15,n=n>>4,r[a]=e[a===19?i&3|8:i]);return r.join("")}}(),clamp:function(e,r,n){return Math.max(r,Math.min(n,e))},euclideanModulo:function(e,r){return(e%r+r)%r},mapLinear:function(e,r,n,i,a){return i+(e-r)*(a-i)/(n-r)},smoothstep:function(e,r,n){return e<=r?0:e>=n?1:(e=(e-r)/(n-r),e*e*(3-2*e))},smootherstep:function(e,r,n){return e<=r?0:e>=n?1:(e=(e-r)/(n-r),e*e*e*(e*(e*6-15)+10))},random16:function(){return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),Math.random()},randInt:function(e,r){return e+Math.floor(Math.random()*(r-e+1))},randFloat:function(e,r){return e+Math.random()*(r-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(){var e=Math.PI/180;return function(r){return r*e}}(),radToDeg:function(){var e=180/Math.PI;return function(r){return r*e}}(),isPowerOfTwo:function(e){return(e&e-1)===0&&e!==0},nearestPowerOfTwo:function(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))},nextPowerOfTwo:function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e}},t.Spline=function(e){this.points=e;var r=[],n={x:0,y:0,z:0},i,a,s,c,u,f,h,d,m;this.initFromArray=function(v){this.points=[];for(var g=0;g<v.length;g++)this.points[g]={x:v[g][0],y:v[g][1],z:v[g][2]}},this.getPoint=function(v){return i=(this.points.length-1)*v,a=Math.floor(i),s=i-a,r[0]=a===0?a:a-1,r[1]=a,r[2]=a>this.points.length-2?this.points.length-1:a+1,r[3]=a>this.points.length-3?this.points.length-1:a+2,f=this.points[r[0]],h=this.points[r[1]],d=this.points[r[2]],m=this.points[r[3]],c=s*s,u=s*c,n.x=p(f.x,h.x,d.x,m.x,s,c,u),n.y=p(f.y,h.y,d.y,m.y,s,c,u),n.z=p(f.z,h.z,d.z,m.z,s,c,u),n},this.getControlPointsArray=function(){var v,g,y=this.points.length,x=[];for(v=0;v<y;v++)g=this.points[v],x[v]=[g.x,g.y,g.z];return x},this.getLength=function(v){var g,y,x,w,M=0,E=0,T=0,S=new t.Vector3,L=new t.Vector3,P=[],R=0;for(P[0]=0,v||(v=100),x=this.points.length*v,S.copy(this.points[0]),g=1;g<x;g++)y=g/x,w=this.getPoint(y),L.copy(w),R+=L.distanceTo(S),S.copy(w),M=(this.points.length-1)*y,E=Math.floor(M),E!==T&&(P[E]=R,T=E);return P[P.length]=R,{chunks:P,total:R}},this.reparametrizeByArcLength=function(v){var g,y,x,w,M,E,T,S,L=[],P=new t.Vector3,R=this.getLength();for(L.push(P.copy(this.points[0]).clone()),g=1;g<this.points.length;g++){for(E=R.chunks[g]-R.chunks[g-1],T=Math.ceil(v*E/R.total),w=(g-1)/(this.points.length-1),M=g/(this.points.length-1),y=1;y<T-1;y++)x=w+y*(1/T)*(M-w),S=this.getPoint(x),L.push(P.copy(S).clone());L.push(P.copy(this.points[g]).clone())}this.points=L};function p(v,g,y,x,w,M,E){var T=(y-v)*.5,S=(x-g)*.5;return(2*(g-y)+T+S)*E+(-3*(g-y)-2*T-S)*M+T*w+g}},t.Triangle=function(e,r,n){this.a=e!==void 0?e:new t.Vector3,this.b=r!==void 0?r:new t.Vector3,this.c=n!==void 0?n:new t.Vector3},t.Triangle.normal=function(){var e=new t.Vector3;return function(r,n,i,a){var s=a||new t.Vector3;s.subVectors(i,n),e.subVectors(r,n),s.cross(e);var c=s.lengthSq();return c>0?s.multiplyScalar(1/Math.sqrt(c)):s.set(0,0,0)}}(),t.Triangle.barycoordFromPoint=function(){var e=new t.Vector3,r=new t.Vector3,n=new t.Vector3;return function(i,a,s,c,u){e.subVectors(c,a),r.subVectors(s,a),n.subVectors(i,a);var f=e.dot(e),h=e.dot(r),d=e.dot(n),m=r.dot(r),p=r.dot(n),v=f*m-h*h,g=u||new t.Vector3;if(v===0)return g.set(-2,-1,-1);var y=1/v,x=(m*d-h*p)*y,w=(f*p-h*d)*y;return g.set(1-x-w,w,x)}}(),t.Triangle.containsPoint=function(){var e=new t.Vector3;return function(r,n,i,a){var s=t.Triangle.barycoordFromPoint(r,n,i,a,e);return s.x>=0&&s.y>=0&&s.x+s.y<=1}}(),t.Triangle.prototype={constructor:t.Triangle,set:function(e,r,n){return this.a.copy(e),this.b.copy(r),this.c.copy(n),this},setFromPointsAndIndices:function(e,r,n,i){return this.a.copy(e[r]),this.b.copy(e[n]),this.c.copy(e[i]),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},area:function(){var e=new t.Vector3,r=new t.Vector3;return function(){return e.subVectors(this.c,this.b),r.subVectors(this.a,this.b),e.cross(r).length()*.5}}(),midpoint:function(e){var r=e||new t.Vector3;return r.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return t.Triangle.normal(this.a,this.b,this.c,e)},plane:function(e){var r=e||new t.Plane;return r.setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,r){return t.Triangle.barycoordFromPoint(e,this.a,this.b,this.c,r)},containsPoint:function(e){return t.Triangle.containsPoint(e,this.a,this.b,this.c)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},t.Interpolant=function(e,r,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new r.constructor(n),this.sampleValues=r,this.valueSize=n},t.Interpolant.prototype={constructor:t.Interpolant,evaluate:function(e){var r=this.parameterPositions,n=this._cachedIndex,i=r[n],a=r[n-1];e:{t:{var s;r:{n:if(!(e<i)){for(var c=n+2;;){if(i===void 0){if(e<a)break n;return n=r.length,this._cachedIndex=n,this.afterEnd_(n-1,e,a)}if(n===c)break;if(a=i,i=r[++n],e<i)break t}s=r.length;break r}if(!(e>=a)){var u=r[1];e<u&&(n=2,a=u);for(var c=n-2;;){if(a===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(n===c)break;if(i=a,a=r[--n-1],e>=a)break t}s=n,n=0;break r}break e}for(;n<s;){var f=n+s>>>1;e<r[f]?s=f:n=f+1}if(i=r[n],a=r[n-1],a===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(i===void 0)return n=r.length,this._cachedIndex=n,this.afterEnd_(n-1,a,e)}this._cachedIndex=n,this.intervalChanged_(n,a,i)}return this.interpolate_(n,a,e,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var r=this.resultBuffer,n=this.sampleValues,i=this.valueSize,a=e*i,s=0;s!==i;++s)r[s]=n[a+s];return r},interpolate_:function(e,r,n,i){throw new Error("call to abstract method")},intervalChanged_:function(e,r,n){}},Object.assign(t.Interpolant.prototype,{beforeStart_:t.Interpolant.prototype.copySampleValue_,afterEnd_:t.Interpolant.prototype.copySampleValue_}),t.CubicInterpolant=function(e,r,n,i){t.Interpolant.call(this,e,r,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0},t.CubicInterpolant.prototype=Object.assign(Object.create(t.Interpolant.prototype),{constructor:t.CubicInterpolant,DefaultSettings_:{endingStart:t.ZeroCurvatureEnding,endingEnd:t.ZeroCurvatureEnding},intervalChanged_:function(e,r,n){var i=this.parameterPositions,a=e-2,s=e+1,c=i[a],u=i[s];if(c===void 0)switch(this.getSettings_().endingStart){case t.ZeroSlopeEnding:a=e,c=2*r-n;break;case t.WrapAroundEnding:a=i.length-2,c=r+i[a]-i[a+1];break;default:a=e,c=n}if(u===void 0)switch(this.getSettings_().endingEnd){case t.ZeroSlopeEnding:s=e,u=2*n-r;break;case t.WrapAroundEnding:s=1,u=n+i[1]-i[0];break;default:s=e-1,u=r}var f=(n-r)*.5,h=this.valueSize;this._weightPrev=f/(r-c),this._weightNext=f/(u-n),this._offsetPrev=a*h,this._offsetNext=s*h},interpolate_:function(e,r,n,i){for(var a=this.resultBuffer,s=this.sampleValues,c=this.valueSize,u=e*c,f=u-c,h=this._offsetPrev,d=this._offsetNext,m=this._weightPrev,p=this._weightNext,v=(n-r)/(i-r),g=v*v,y=g*v,x=-m*y+2*m*g-m*v,w=(1+m)*y+(-1.5-2*m)*g+(-.5+m)*v+1,M=(-1-p)*y+(1.5+p)*g+.5*v,E=p*y-p*g,T=0;T!==c;++T)a[T]=x*s[h+T]+w*s[f+T]+M*s[u+T]+E*s[d+T];return a}}),t.DiscreteInterpolant=function(e,r,n,i){t.Interpolant.call(this,e,r,n,i)},t.DiscreteInterpolant.prototype=Object.assign(Object.create(t.Interpolant.prototype),{constructor:t.DiscreteInterpolant,interpolate_:function(e,r,n,i){return this.copySampleValue_(e-1)}}),t.LinearInterpolant=function(e,r,n,i){t.Interpolant.call(this,e,r,n,i)},t.LinearInterpolant.prototype=Object.assign(Object.create(t.Interpolant.prototype),{constructor:t.LinearInterpolant,interpolate_:function(e,r,n,i){for(var a=this.resultBuffer,s=this.sampleValues,c=this.valueSize,u=e*c,f=u-c,h=(n-r)/(i-r),d=1-h,m=0;m!==c;++m)a[m]=s[f+m]*d+s[u+m]*h;return a}}),t.QuaternionLinearInterpolant=function(e,r,n,i){t.Interpolant.call(this,e,r,n,i)},t.QuaternionLinearInterpolant.prototype=Object.assign(Object.create(t.Interpolant.prototype),{constructor:t.QuaternionLinearInterpolant,interpolate_:function(e,r,n,i){for(var a=this.resultBuffer,s=this.sampleValues,c=this.valueSize,u=e*c,f=(n-r)/(i-r),h=u+c;u!==h;u+=4)t.Quaternion.slerpFlat(a,0,s,u-c,s,u,f);return a}}),t.Clock=function(e){this.autoStart=e!==void 0?e:!0,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1},t.Clock.prototype={constructor:t.Clock,start:function(){this.startTime=performance.now(),this.oldTime=this.startTime,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running&&this.start(),this.running){var r=performance.now();e=.001*(r-this.oldTime),this.oldTime=r,this.elapsedTime+=e}return e}},t.EventDispatcher=function(){},t.EventDispatcher.prototype={constructor:t.EventDispatcher,apply:function(e){e.addEventListener=t.EventDispatcher.prototype.addEventListener,e.hasEventListener=t.EventDispatcher.prototype.hasEventListener,e.removeEventListener=t.EventDispatcher.prototype.removeEventListener,e.dispatchEvent=t.EventDispatcher.prototype.dispatchEvent},addEventListener:function(e,r){this._listeners===void 0&&(this._listeners={});var n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(r)===-1&&n[e].push(r)},hasEventListener:function(e,r){if(this._listeners===void 0)return!1;var n=this._listeners;return n[e]!==void 0&&n[e].indexOf(r)!==-1},removeEventListener:function(e,r){if(this._listeners!==void 0){var n=this._listeners,i=n[e];if(i!==void 0){var a=i.indexOf(r);a!==-1&&i.splice(a,1)}}},dispatchEvent:function(e){if(this._listeners!==void 0){var r=this._listeners,n=r[e.type];if(n!==void 0){e.target=this;for(var i=[],a=n.length,s=0;s<a;s++)i[s]=n[s];for(var s=0;s<a;s++)i[s].call(this,e)}}}},t.Layers=function(){this.mask=1},t.Layers.prototype={constructor:t.Layers,set:function(e){this.mask=1<<e},enable:function(e){this.mask|=1<<e},toggle:function(e){this.mask^=1<<e},disable:function(e){this.mask&=~(1<<e)},test:function(e){return(this.mask&e.mask)!==0}},function(e){e.Raycaster=function(i,a,s,c){this.ray=new e.Ray(i,a),this.near=s||0,this.far=c||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})};function r(i,a){return i.distance-a.distance}function n(i,a,s,c){if(i.visible!==!1&&(i.raycast(a,s),c===!0))for(var u=i.children,f=0,h=u.length;f<h;f++)n(u[f],a,s,!0)}e.Raycaster.prototype={constructor:e.Raycaster,linePrecision:1,set:function(i,a){this.ray.set(i,a)},setFromCamera:function(i,a){a instanceof e.PerspectiveCamera?(this.ray.origin.setFromMatrixPosition(a.matrixWorld),this.ray.direction.set(i.x,i.y,.5).unproject(a).sub(this.ray.origin).normalize()):a instanceof e.OrthographicCamera?(this.ray.origin.set(i.x,i.y,-1).unproject(a),this.ray.direction.set(0,0,-1).transformDirection(a.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(i,a){var s=[];return n(i,this,s,a),s.sort(r),s},intersectObjects:function(i,a){var s=[];if(Array.isArray(i)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),s;for(var c=0,u=i.length;c<u;c++)n(i[c],this,s,a);return s.sort(r),s}}}(t),t.Object3D=function(){Object.defineProperty(this,"id",{value:t.Object3DIdCount++}),this.uuid=t.Math.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=t.Object3D.DefaultUp.clone();var e=new t.Vector3,r=new t.Euler,n=new t.Quaternion,i=new t.Vector3(1,1,1);function a(){n.setFromEuler(r,!1)}function s(){r.setFromQuaternion(n,void 0,!1)}r.onChange(a),n.onChange(s),Object.defineProperties(this,{position:{enumerable:!0,value:e},rotation:{enumerable:!0,value:r},quaternion:{enumerable:!0,value:n},scale:{enumerable:!0,value:i},modelViewMatrix:{value:new t.Matrix4},normalMatrix:{value:new t.Matrix3}}),this.rotationAutoUpdate=!0,this.matrix=new t.Matrix4,this.matrixWorld=new t.Matrix4,this.matrixAutoUpdate=t.Object3D.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new t.Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}},t.Object3D.DefaultUp=new t.Vector3(0,1,0),t.Object3D.DefaultMatrixAutoUpdate=!0,t.Object3D.prototype={constructor:t.Object3D,applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(e,r){this.quaternion.setFromAxisAngle(e,r)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new t.Quaternion;return function(r,n){return e.setFromAxisAngle(r,n),this.quaternion.multiply(e),this}}(),rotateX:function(){var e=new t.Vector3(1,0,0);return function(r){return this.rotateOnAxis(e,r)}}(),rotateY:function(){var e=new t.Vector3(0,1,0);return function(r){return this.rotateOnAxis(e,r)}}(),rotateZ:function(){var e=new t.Vector3(0,0,1);return function(r){return this.rotateOnAxis(e,r)}}(),translateOnAxis:function(){var e=new t.Vector3;return function(r,n){return e.copy(r).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(n)),this}}(),translateX:function(){var e=new t.Vector3(1,0,0);return function(r){return this.translateOnAxis(e,r)}}(),translateY:function(){var e=new t.Vector3(0,1,0);return function(r){return this.translateOnAxis(e,r)}}(),translateZ:function(){var e=new t.Vector3(0,0,1);return function(r){return this.translateOnAxis(e,r)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new t.Matrix4;return function(r){return r.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new t.Matrix4;return function(r){e.lookAt(r,this.position,this.up),this.quaternion.setFromRotationMatrix(e)}}(),add:function(e){if(arguments.length>1){for(var r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e instanceof t.Object3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1)for(var r=0;r<arguments.length;r++)this.remove(arguments[r]);var n=this.children.indexOf(e);n!==-1&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(n,1))},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,r){if(this[e]===r)return this;for(var n=0,i=this.children.length;n<i;n++){var a=this.children[n],s=a.getObjectByProperty(e,r);if(s!==void 0)return s}},getWorldPosition:function(e){var r=e||new t.Vector3;return this.updateMatrixWorld(!0),r.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new t.Vector3,r=new t.Vector3;return function(n){var i=n||new t.Quaternion;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,i,r),i}}(),getWorldRotation:function(){var e=new t.Quaternion;return function(r){var n=r||new t.Euler;return this.getWorldQuaternion(e),n.setFromQuaternion(e,this.rotation.order,!1)}}(),getWorldScale:function(){var e=new t.Vector3,r=new t.Quaternion;return function(n){var i=n||new t.Vector3;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,r,i),i}}(),getWorldDirection:function(){var e=new t.Quaternion;return function(r){var n=r||new t.Vector3;return this.getWorldQuaternion(e),n.set(0,0,1).applyQuaternion(e)}}(),raycast:function(){},traverse:function(e){e(this);for(var r=this.children,n=0,i=r.length;n<i;n++)r[n].traverse(e)},traverseVisible:function(e){if(this.visible!==!1){e(this);for(var r=this.children,n=0,i=r.length;n<i;n++)r[n].traverseVisible(e)}},traverseAncestors:function(e){var r=this.parent;r!==null&&(e(r),r.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate===!0&&this.updateMatrix(),(this.matrixWorldNeedsUpdate===!0||e===!0)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var r=0,n=this.children.length;r<n;r++)this.children[r].updateMatrixWorld(e)},toJSON:function(e){var r=e===void 0,n={};r&&(e={geometries:{},materials:{},textures:{},images:{}},n.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var i={};if(i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),i.matrix=this.matrix.toArray(),this.geometry!==void 0&&(e.geometries[this.geometry.uuid]===void 0&&(e.geometries[this.geometry.uuid]=this.geometry.toJSON(e)),i.geometry=this.geometry.uuid),this.material!==void 0&&(e.materials[this.material.uuid]===void 0&&(e.materials[this.material.uuid]=this.material.toJSON(e)),i.material=this.material.uuid),this.children.length>0){i.children=[];for(var a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(r){var s=h(e.geometries),c=h(e.materials),u=h(e.textures),f=h(e.images);s.length>0&&(n.geometries=s),c.length>0&&(n.materials=c),u.length>0&&(n.textures=u),f.length>0&&(n.images=f)}return n.object=i,n;function h(d){var m=[];for(var p in d){var v=d[p];delete v.metadata,m.push(v)}return m}},clone:function(e){return new this.constructor().copy(this,e)},copy:function(e,r){if(r===void 0&&(r=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.rotationAutoUpdate=e.rotationAutoUpdate,this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),r===!0)for(var n=0;n<e.children.length;n++){var i=e.children[n];this.add(i.clone())}return this}},t.EventDispatcher.prototype.apply(t.Object3D.prototype),t.Object3DIdCount=0,t.Face3=function(e,r,n,i,a,s){this.a=e,this.b=r,this.c=n,this.normal=i instanceof t.Vector3?i:new t.Vector3,this.vertexNormals=Array.isArray(i)?i:[],this.color=a instanceof t.Color?a:new t.Color,this.vertexColors=Array.isArray(a)?a:[],this.materialIndex=s!==void 0?s:0},t.Face3.prototype={constructor:t.Face3,clone:function(){return new this.constructor().copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var r=0,n=e.vertexNormals.length;r<n;r++)this.vertexNormals[r]=e.vertexNormals[r].clone();for(var r=0,n=e.vertexColors.length;r<n;r++)this.vertexColors[r]=e.vertexColors[r].clone();return this}},t.BufferAttribute=function(e,r){this.uuid=t.Math.generateUUID(),this.array=e,this.itemSize=r,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0},t.BufferAttribute.prototype={constructor:t.BufferAttribute,get count(){return this.array.length/this.itemSize},set needsUpdate(e){e===!0&&this.version++},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.dynamic=e.dynamic,this},copyAt:function(e,r,n){e*=this.itemSize,n*=r.itemSize;for(var i=0,a=this.itemSize;i<a;i++)this.array[e+i]=r.array[n+i];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var r=this.array,n=0,i=0,a=e.length;i<a;i++){var s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),s=new t.Color),r[n++]=s.r,r[n++]=s.g,r[n++]=s.b}return this},copyIndicesArray:function(e){for(var r=this.array,n=0,i=0,a=e.length;i<a;i++){var s=e[i];r[n++]=s.a,r[n++]=s.b,r[n++]=s.c}return this},copyVector2sArray:function(e){for(var r=this.array,n=0,i=0,a=e.length;i<a;i++){var s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),s=new t.Vector2),r[n++]=s.x,r[n++]=s.y}return this},copyVector3sArray:function(e){for(var r=this.array,n=0,i=0,a=e.length;i<a;i++){var s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),s=new t.Vector3),r[n++]=s.x,r[n++]=s.y,r[n++]=s.z}return this},copyVector4sArray:function(e){for(var r=this.array,n=0,i=0,a=e.length;i<a;i++){var s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),s=new t.Vector4),r[n++]=s.x,r[n++]=s.y,r[n++]=s.z,r[n++]=s.w}return this},set:function(e,r){return r===void 0&&(r=0),this.array.set(e,r),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,r){return this.array[e*this.itemSize]=r,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,r){return this.array[e*this.itemSize+1]=r,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,r){return this.array[e*this.itemSize+2]=r,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,r){return this.array[e*this.itemSize+3]=r,this},setXY:function(e,r,n){return e*=this.itemSize,this.array[e+0]=r,this.array[e+1]=n,this},setXYZ:function(e,r,n,i){return e*=this.itemSize,this.array[e+0]=r,this.array[e+1]=n,this.array[e+2]=i,this},setXYZW:function(e,r,n,i,a){return e*=this.itemSize,this.array[e+0]=r,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=a,this},clone:function(){return new this.constructor().copy(this)}},t.Int8Attribute=function(e,r){return new t.BufferAttribute(new Int8Array(e),r)},t.Uint8Attribute=function(e,r){return new t.BufferAttribute(new Uint8Array(e),r)},t.Uint8ClampedAttribute=function(e,r){return new t.BufferAttribute(new Uint8ClampedArray(e),r)},t.Int16Attribute=function(e,r){return new t.BufferAttribute(new Int16Array(e),r)},t.Uint16Attribute=function(e,r){return new t.BufferAttribute(new Uint16Array(e),r)},t.Int32Attribute=function(e,r){return new t.BufferAttribute(new Int32Array(e),r)},t.Uint32Attribute=function(e,r){return new t.BufferAttribute(new Uint32Array(e),r)},t.Float32Attribute=function(e,r){return new t.BufferAttribute(new Float32Array(e),r)},t.Float64Attribute=function(e,r){return new t.BufferAttribute(new Float64Array(e),r)},t.DynamicBufferAttribute=function(e,r){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new t.BufferAttribute(e,r).setDynamic(!0)},t.InstancedBufferAttribute=function(e,r,n){t.BufferAttribute.call(this,e,r),this.meshPerAttribute=n||1},t.InstancedBufferAttribute.prototype=Object.create(t.BufferAttribute.prototype),t.InstancedBufferAttribute.prototype.constructor=t.InstancedBufferAttribute,t.InstancedBufferAttribute.prototype.copy=function(e){return t.BufferAttribute.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},t.InterleavedBuffer=function(e,r){this.uuid=t.Math.generateUUID(),this.array=e,this.stride=r,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0},t.InterleavedBuffer.prototype={constructor:t.InterleavedBuffer,get length(){return this.array.length},get count(){return this.array.length/this.stride},set needsUpdate(e){e===!0&&this.version++},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,r,n){e*=this.stride,n*=r.stride;for(var i=0,a=this.stride;i<a;i++)this.array[e+i]=r.array[n+i];return this},set:function(e,r){return r===void 0&&(r=0),this.array.set(e,r),this},clone:function(){return new this.constructor().copy(this)}},t.InstancedInterleavedBuffer=function(e,r,n){t.InterleavedBuffer.call(this,e,r),this.meshPerAttribute=n||1},t.InstancedInterleavedBuffer.prototype=Object.create(t.InterleavedBuffer.prototype),t.InstancedInterleavedBuffer.prototype.constructor=t.InstancedInterleavedBuffer,t.InstancedInterleavedBuffer.prototype.copy=function(e){return t.InterleavedBuffer.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},t.InterleavedBufferAttribute=function(e,r,n){this.uuid=t.Math.generateUUID(),this.data=e,this.itemSize=r,this.offset=n},t.InterleavedBufferAttribute.prototype={constructor:t.InterleavedBufferAttribute,get length(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count."),this.array.length},get count(){return this.data.count},setX:function(e,r){return this.data.array[e*this.data.stride+this.offset]=r,this},setY:function(e,r){return this.data.array[e*this.data.stride+this.offset+1]=r,this},setZ:function(e,r){return this.data.array[e*this.data.stride+this.offset+2]=r,this},setW:function(e,r){return this.data.array[e*this.data.stride+this.offset+3]=r,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,r,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=r,this.data.array[e+1]=n,this},setXYZ:function(e,r,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=r,this.data.array[e+1]=n,this.data.array[e+2]=i,this},setXYZW:function(e,r,n,i,a){return e=e*this.data.stride+this.offset,this.data.array[e+0]=r,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=a,this}},t.Geometry=function(){Object.defineProperty(this,"id",{value:t.GeometryIdCount++}),this.uuid=t.Math.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1},t.Geometry.prototype={constructor:t.Geometry,applyMatrix:function(e){for(var r=new t.Matrix3().getNormalMatrix(e),n=0,i=this.vertices.length;n<i;n++){var a=this.vertices[n];a.applyMatrix4(e)}for(var n=0,i=this.faces.length;n<i;n++){var s=this.faces[n];s.normal.applyMatrix3(r).normalize();for(var c=0,u=s.vertexNormals.length;c<u;c++)s.vertexNormals[c].applyMatrix3(r).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var e;return function(n){return e===void 0&&(e=new t.Matrix4),e.makeRotationX(n),this.applyMatrix(e),this}}(),rotateY:function(){var e;return function(n){return e===void 0&&(e=new t.Matrix4),e.makeRotationY(n),this.applyMatrix(e),this}}(),rotateZ:function(){var e;return function(n){return e===void 0&&(e=new t.Matrix4),e.makeRotationZ(n),this.applyMatrix(e),this}}(),translate:function(){var e;return function(n,i,a){return e===void 0&&(e=new t.Matrix4),e.makeTranslation(n,i,a),this.applyMatrix(e),this}}(),scale:function(){var e;return function(n,i,a){return e===void 0&&(e=new t.Matrix4),e.makeScale(n,i,a),this.applyMatrix(e),this}}(),lookAt:function(){var e;return function(n){e===void 0&&(e=new t.Object3D),e.lookAt(n),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),fromBufferGeometry:function(e){var r=this,n=e.index!==null?e.index.array:void 0,i=e.attributes,a=i.position.array,s=i.normal!==void 0?i.normal.array:void 0,c=i.color!==void 0?i.color.array:void 0,u=i.uv!==void 0?i.uv.array:void 0,f=i.uv2!==void 0?i.uv2.array:void 0;f!==void 0&&(this.faceVertexUvs[1]=[]);for(var h=[],d=[],m=[],p=0,v=0;p<a.length;p+=3,v+=2)r.vertices.push(new t.Vector3(a[p],a[p+1],a[p+2])),s!==void 0&&h.push(new t.Vector3(s[p],s[p+1],s[p+2])),c!==void 0&&r.colors.push(new t.Color(c[p],c[p+1],c[p+2])),u!==void 0&&d.push(new t.Vector2(u[v],u[v+1])),f!==void 0&&m.push(new t.Vector2(f[v],f[v+1]));function g(T,S,L,P){var R=s!==void 0?[h[T].clone(),h[S].clone(),h[L].clone()]:[],B=c!==void 0?[r.colors[T].clone(),r.colors[S].clone(),r.colors[L].clone()]:[],V=new t.Face3(T,S,L,R,B,P);r.faces.push(V),u!==void 0&&r.faceVertexUvs[0].push([d[T].clone(),d[S].clone(),d[L].clone()]),f!==void 0&&r.faceVertexUvs[1].push([m[T].clone(),m[S].clone(),m[L].clone()])}if(n!==void 0){var y=e.groups;if(y.length>0)for(var p=0;p<y.length;p++)for(var x=y[p],w=x.start,M=x.count,v=w,E=w+M;v<E;v+=3)g(n[v],n[v+1],n[v+2],x.materialIndex);else for(var p=0;p<n.length;p+=3)g(n[p],n[p+1],n[p+2])}else for(var p=0;p<a.length/3;p+=3)g(p,p+1,p+2);return this.computeFaceNormals(),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var e=this.boundingBox.center().negate();return this.translate(e.x,e.y,e.z),e},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,r=this.boundingSphere.radius,n=r===0?1:1/r,i=new t.Matrix4;return i.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(i),this},computeFaceNormals:function(){for(var e=new t.Vector3,r=new t.Vector3,n=0,i=this.faces.length;n<i;n++){var a=this.faces[n],s=this.vertices[a.a],c=this.vertices[a.b],u=this.vertices[a.c];e.subVectors(u,c),r.subVectors(s,c),e.cross(r),e.normalize(),a.normal.copy(e)}},computeVertexNormals:function(e){e===void 0&&(e=!0);var r,n,i,a,s,c;for(c=new Array(this.vertices.length),r=0,n=this.vertices.length;r<n;r++)c[r]=new t.Vector3;if(e){var u,f,h,d=new t.Vector3,m=new t.Vector3;for(i=0,a=this.faces.length;i<a;i++)s=this.faces[i],u=this.vertices[s.a],f=this.vertices[s.b],h=this.vertices[s.c],d.subVectors(h,f),m.subVectors(u,f),d.cross(m),c[s.a].add(d),c[s.b].add(d),c[s.c].add(d)}else for(i=0,a=this.faces.length;i<a;i++)s=this.faces[i],c[s.a].add(s.normal),c[s.b].add(s.normal),c[s.c].add(s.normal);for(r=0,n=this.vertices.length;r<n;r++)c[r].normalize();for(i=0,a=this.faces.length;i<a;i++){s=this.faces[i];var p=s.vertexNormals;p.length===3?(p[0].copy(c[s.a]),p[1].copy(c[s.b]),p[2].copy(c[s.c])):(p[0]=c[s.a].clone(),p[1]=c[s.b].clone(),p[2]=c[s.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,r,n,i,a;for(n=0,i=this.faces.length;n<i;n++)for(a=this.faces[n],a.__originalFaceNormal?a.__originalFaceNormal.copy(a.normal):a.__originalFaceNormal=a.normal.clone(),a.__originalVertexNormals||(a.__originalVertexNormals=[]),e=0,r=a.vertexNormals.length;e<r;e++)a.__originalVertexNormals[e]?a.__originalVertexNormals[e].copy(a.vertexNormals[e]):a.__originalVertexNormals[e]=a.vertexNormals[e].clone();var s=new t.Geometry;for(s.faces=this.faces,e=0,r=this.morphTargets.length;e<r;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var c=this.morphNormals[e].faceNormals,u=this.morphNormals[e].vertexNormals,h,d;for(n=0,i=this.faces.length;n<i;n++)h=new t.Vector3,d={a:new t.Vector3,b:new t.Vector3,c:new t.Vector3},c.push(h),u.push(d)}var f=this.morphNormals[e];s.vertices=this.morphTargets[e].vertices,s.computeFaceNormals(),s.computeVertexNormals();var h,d;for(n=0,i=this.faces.length;n<i;n++)a=this.faces[n],h=f.faceNormals[n],d=f.vertexNormals[n],h.copy(a.normal),d.a.copy(a.vertexNormals[0]),d.b.copy(a.vertexNormals[1]),d.c.copy(a.vertexNormals[2])}for(n=0,i=this.faces.length;n<i;n++)a=this.faces[n],a.normal=a.__originalFaceNormal,a.vertexNormals=a.__originalVertexNormals},computeTangents:function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){for(var e=0,r=this.vertices,n=0,i=r.length;n<i;n++)n>0&&(e+=r[n].distanceTo(r[n-1])),this.lineDistances[n]=e},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new t.Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new t.Sphere),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,r,n){if(!(e instanceof t.Geometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);return}var i,a=this.vertices.length,s=this.vertices,c=e.vertices,u=this.faces,f=e.faces,h=this.faceVertexUvs[0],d=e.faceVertexUvs[0];n===void 0&&(n=0),r!==void 0&&(i=new t.Matrix3().getNormalMatrix(r));for(var m=0,p=c.length;m<p;m++){var v=c[m],g=v.clone();r!==void 0&&g.applyMatrix4(r),s.push(g)}for(m=0,p=f.length;m<p;m++){var y=f[m],x,w,M,E=y.vertexNormals,T=y.vertexColors;x=new t.Face3(y.a+a,y.b+a,y.c+a),x.normal.copy(y.normal),i!==void 0&&x.normal.applyMatrix3(i).normalize();for(var S=0,L=E.length;S<L;S++)w=E[S].clone(),i!==void 0&&w.applyMatrix3(i).normalize(),x.vertexNormals.push(w);x.color.copy(y.color);for(var S=0,L=T.length;S<L;S++)M=T[S],x.vertexColors.push(M.clone());x.materialIndex=y.materialIndex+n,u.push(x)}for(m=0,p=d.length;m<p;m++){var P=d[m],R=[];if(P!==void 0){for(var S=0,L=P.length;S<L;S++)R.push(P[S].clone());h.push(R)}}},mergeMesh:function(e){if(!(e instanceof t.Mesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);return}e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)},mergeVertices:function(){var e={},r=[],n=[],i,a,s=4,c=Math.pow(10,s),u,f,h,d,m,p;for(u=0,f=this.vertices.length;u<f;u++)i=this.vertices[u],a=Math.round(i.x*c)+"_"+Math.round(i.y*c)+"_"+Math.round(i.z*c),e[a]===void 0?(e[a]=u,r.push(this.vertices[u]),n[u]=r.length-1):n[u]=n[e[a]];var v=[];for(u=0,f=this.faces.length;u<f;u++){h=this.faces[u],h.a=n[h.a],h.b=n[h.b],h.c=n[h.c],d=[h.a,h.b,h.c];for(var g=0;g<3;g++)if(d[g]===d[(g+1)%3]){v.push(u);break}}for(u=v.length-1;u>=0;u--){var y=v[u];for(this.faces.splice(y,1),m=0,p=this.faceVertexUvs.length;m<p;m++)this.faceVertexUvs[m].splice(y,1)}var x=this.vertices.length-r.length;return this.vertices=r,x},sortFacesByMaterialIndex:function(){for(var e=this.faces,r=e.length,n=0;n<r;n++)e[n]._id=n;function i(h,d){return h.materialIndex-d.materialIndex}e.sort(i);var a=this.faceVertexUvs[0],s=this.faceVertexUvs[1],c,u;a&&a.length===r&&(c=[]),s&&s.length===r&&(u=[]);for(var n=0;n<r;n++){var f=e[n]._id;c&&c.push(a[f]),u&&u.push(s[f])}c&&(this.faceVertexUvs[0]=c),u&&(this.faceVertexUvs[1]=u)},toJSON:function(){var e={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),this.parameters!==void 0){var r=this.parameters;for(var n in r)r[n]!==void 0&&(e[n]=r[n]);return e}for(var i=[],a=0;a<this.vertices.length;a++){var s=this.vertices[a];i.push(s.x,s.y,s.z)}for(var c=[],u=[],f={},h=[],d={},m=[],p={},a=0;a<this.faces.length;a++){var v=this.faces[a],g=!0,y=!1,x=this.faceVertexUvs[0][a]!==void 0,w=v.normal.length()>0,M=v.vertexNormals.length>0,E=v.color.r!==1||v.color.g!==1||v.color.b!==1,T=v.vertexColors.length>0,S=0;if(S=B(S,0,0),S=B(S,1,g),S=B(S,2,y),S=B(S,3,x),S=B(S,4,w),S=B(S,5,M),S=B(S,6,E),S=B(S,7,T),c.push(S),c.push(v.a,v.b,v.c),c.push(v.materialIndex),x){var L=this.faceVertexUvs[0][a];c.push(X(L[0]),X(L[1]),X(L[2]))}if(w&&c.push(V(v.normal)),M){var P=v.vertexNormals;c.push(V(P[0]),V(P[1]),V(P[2]))}if(E&&c.push(z(v.color)),T){var R=v.vertexColors;c.push(z(R[0]),z(R[1]),z(R[2]))}}function B(G,k,j){return j?G|1<<k:G&~(1<<k)}function V(G){var k=G.x.toString()+G.y.toString()+G.z.toString();return f[k]!==void 0||(f[k]=u.length/3,u.push(G.x,G.y,G.z)),f[k]}function z(G){var k=G.r.toString()+G.g.toString()+G.b.toString();return d[k]!==void 0||(d[k]=h.length,h.push(G.getHex())),d[k]}function X(G){var k=G.x.toString()+G.y.toString();return p[k]!==void 0||(p[k]=m.length/2,m.push(G.x,G.y)),p[k]}return e.data={},e.data.vertices=i,e.data.normals=u,h.length>0&&(e.data.colors=h),m.length>0&&(e.data.uvs=[m]),e.data.faces=c,e},clone:function(){return new t.Geometry().copy(this)},copy:function(e){this.vertices=[],this.faces=[],this.faceVertexUvs=[[]];for(var r=e.vertices,n=0,i=r.length;n<i;n++)this.vertices.push(r[n].clone());for(var a=e.faces,n=0,i=a.length;n<i;n++)this.faces.push(a[n].clone());for(var n=0,i=e.faceVertexUvs.length;n<i;n++){var s=e.faceVertexUvs[n];this.faceVertexUvs[n]===void 0&&(this.faceVertexUvs[n]=[]);for(var c=0,u=s.length;c<u;c++){for(var f=s[c],h=[],d=0,m=f.length;d<m;d++){var p=f[d];h.push(p.clone())}this.faceVertexUvs[n].push(h)}}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}},t.EventDispatcher.prototype.apply(t.Geometry.prototype),t.GeometryIdCount=0,t.DirectGeometry=function(){Object.defineProperty(this,"id",{value:t.GeometryIdCount++}),this.uuid=t.Math.generateUUID(),this.name="",this.type="DirectGeometry",this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1},t.DirectGeometry.prototype={constructor:t.DirectGeometry,computeBoundingBox:t.Geometry.prototype.computeBoundingBox,computeBoundingSphere:t.Geometry.prototype.computeBoundingSphere,computeFaceNormals:function(){console.warn("THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.")},computeVertexNormals:function(){console.warn("THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.")},computeGroups:function(e){for(var r,n=[],i,a=e.faces,s=0;s<a.length;s++){var c=a[s];c.materialIndex!==i&&(i=c.materialIndex,r!==void 0&&(r.count=s*3-r.start,n.push(r)),r={start:s*3,materialIndex:i})}r!==void 0&&(r.count=s*3-r.start,n.push(r)),this.groups=n},fromGeometry:function(e){var r=e.faces,n=e.vertices,i=e.faceVertexUvs,a=i[0]&&i[0].length>0,s=i[1]&&i[1].length>0,c=e.morphTargets,u=c.length,f;if(u>0){f=[];for(var h=0;h<u;h++)f[h]=[];this.morphTargets.position=f}var d=e.morphNormals,m=d.length,p;if(m>0){p=[];for(var h=0;h<m;h++)p[h]=[];this.morphTargets.normal=p}for(var v=e.skinIndices,g=e.skinWeights,y=v.length===n.length,x=g.length===n.length,h=0;h<r.length;h++){var w=r[h];this.vertices.push(n[w.a],n[w.b],n[w.c]);var M=w.vertexNormals;if(M.length===3)this.normals.push(M[0],M[1],M[2]);else{var E=w.normal;this.normals.push(E,E,E)}var T=w.vertexColors;if(T.length===3)this.colors.push(T[0],T[1],T[2]);else{var S=w.color;this.colors.push(S,S,S)}if(a===!0){var L=i[0][h];L!==void 0?this.uvs.push(L[0],L[1],L[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",h),this.uvs.push(new t.Vector2,new t.Vector2,new t.Vector2))}if(s===!0){var L=i[1][h];L!==void 0?this.uvs2.push(L[0],L[1],L[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",h),this.uvs2.push(new t.Vector2,new t.Vector2,new t.Vector2))}for(var P=0;P<u;P++){var R=c[P].vertices;f[P].push(R[w.a],R[w.b],R[w.c])}for(var P=0;P<m;P++){var B=d[P].vertexNormals[h];p[P].push(B.a,B.b,B.c)}y&&this.skinIndices.push(v[w.a],v[w.b],v[w.c]),x&&this.skinWeights.push(g[w.a],g[w.b],g[w.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},t.EventDispatcher.prototype.apply(t.DirectGeometry.prototype),t.BufferGeometry=function(){Object.defineProperty(this,"id",{value:t.GeometryIdCount++}),this.uuid=t.Math.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}},t.BufferGeometry.prototype={constructor:t.BufferGeometry,getIndex:function(){return this.index},setIndex:function(e){this.index=e},addAttribute:function(e,r){if(!(r instanceof t.BufferAttribute)&&!(r instanceof t.InterleavedBufferAttribute)){console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(e,new t.BufferAttribute(arguments[1],arguments[2]));return}if(e==="index"){console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(r);return}return this.attributes[e]=r,this},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,r,n){this.groups.push({start:e,count:r,materialIndex:n!==void 0?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,r){this.drawRange.start=e,this.drawRange.count=r},applyMatrix:function(e){var r=this.attributes.position;r!==void 0&&(e.applyToVector3Array(r.array),r.needsUpdate=!0);var n=this.attributes.normal;if(n!==void 0){var i=new t.Matrix3().getNormalMatrix(e);i.applyToVector3Array(n.array),n.needsUpdate=!0}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(){var e;return function(n){return e===void 0&&(e=new t.Matrix4),e.makeRotationX(n),this.applyMatrix(e),this}}(),rotateY:function(){var e;return function(n){return e===void 0&&(e=new t.Matrix4),e.makeRotationY(n),this.applyMatrix(e),this}}(),rotateZ:function(){var e;return function(n){return e===void 0&&(e=new t.Matrix4),e.makeRotationZ(n),this.applyMatrix(e),this}}(),translate:function(){var e;return function(n,i,a){return e===void 0&&(e=new t.Matrix4),e.makeTranslation(n,i,a),this.applyMatrix(e),this}}(),scale:function(){var e;return function(n,i,a){return e===void 0&&(e=new t.Matrix4),e.makeScale(n,i,a),this.applyMatrix(e),this}}(),lookAt:function(){var e;return function(n){e===void 0&&(e=new t.Object3D),e.lookAt(n),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){this.computeBoundingBox();var e=this.boundingBox.center().negate();return this.translate(e.x,e.y,e.z),e},setFromObject:function(e){var r=e.geometry;if(e instanceof t.Points||e instanceof t.Line){var n=new t.Float32Attribute(r.vertices.length*3,3),i=new t.Float32Attribute(r.colors.length*3,3);if(this.addAttribute("position",n.copyVector3sArray(r.vertices)),this.addAttribute("color",i.copyColorsArray(r.colors)),r.lineDistances&&r.lineDistances.length===r.vertices.length){var a=new t.Float32Attribute(r.lineDistances.length,1);this.addAttribute("lineDistance",a.copyArray(r.lineDistances))}r.boundingSphere!==null&&(this.boundingSphere=r.boundingSphere.clone()),r.boundingBox!==null&&(this.boundingBox=r.boundingBox.clone())}else e instanceof t.Mesh&&r instanceof t.Geometry&&this.fromGeometry(r);return this},updateFromObject:function(e){var r=e.geometry;if(e instanceof t.Mesh){var n=r.__directGeometry;if(n===void 0)return this.fromGeometry(r);n.verticesNeedUpdate=r.verticesNeedUpdate,n.normalsNeedUpdate=r.normalsNeedUpdate,n.colorsNeedUpdate=r.colorsNeedUpdate,n.uvsNeedUpdate=r.uvsNeedUpdate,n.groupsNeedUpdate=r.groupsNeedUpdate,r.verticesNeedUpdate=!1,r.normalsNeedUpdate=!1,r.colorsNeedUpdate=!1,r.uvsNeedUpdate=!1,r.groupsNeedUpdate=!1,r=n}if(r.verticesNeedUpdate===!0){var i=this.attributes.position;i!==void 0&&(i.copyVector3sArray(r.vertices),i.needsUpdate=!0),r.verticesNeedUpdate=!1}if(r.normalsNeedUpdate===!0){var i=this.attributes.normal;i!==void 0&&(i.copyVector3sArray(r.normals),i.needsUpdate=!0),r.normalsNeedUpdate=!1}if(r.colorsNeedUpdate===!0){var i=this.attributes.color;i!==void 0&&(i.copyColorsArray(r.colors),i.needsUpdate=!0),r.colorsNeedUpdate=!1}if(r.uvsNeedUpdate){var i=this.attributes.uv;i!==void 0&&(i.copyVector2sArray(r.uvs),i.needsUpdate=!0),r.uvsNeedUpdate=!1}if(r.lineDistancesNeedUpdate){var i=this.attributes.lineDistance;i!==void 0&&(i.copyArray(r.lineDistances),i.needsUpdate=!0),r.lineDistancesNeedUpdate=!1}return r.groupsNeedUpdate&&(r.computeGroups(e.geometry),this.groups=r.groups,r.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=new t.DirectGeometry().fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var r=new Float32Array(e.vertices.length*3);if(this.addAttribute("position",new t.BufferAttribute(r,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(e.normals.length*3);this.addAttribute("normal",new t.BufferAttribute(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var i=new Float32Array(e.colors.length*3);this.addAttribute("color",new t.BufferAttribute(i,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var a=new Float32Array(e.uvs.length*2);this.addAttribute("uv",new t.BufferAttribute(a,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var s=new Float32Array(e.uvs2.length*2);this.addAttribute("uv2",new t.BufferAttribute(s,2).copyVector2sArray(e.uvs2))}if(e.indices.length>0){var c=e.vertices.length>65535?Uint32Array:Uint16Array,u=new c(e.indices.length*3);this.setIndex(new t.BufferAttribute(u,1).copyIndicesArray(e.indices))}this.groups=e.groups;for(var f in e.morphTargets){for(var h=[],d=e.morphTargets[f],m=0,p=d.length;m<p;m++){var v=d[m],g=new t.Float32Attribute(v.length*3,3);h.push(g.copyVector3sArray(v))}this.morphAttributes[f]=h}if(e.skinIndices.length>0){var y=new t.Float32Attribute(e.skinIndices.length*4,4);this.addAttribute("skinIndex",y.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var x=new t.Float32Attribute(e.skinWeights.length*4,4);this.addAttribute("skinWeight",x.copyVector4sArray(e.skinWeights))}return e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){return new t.Vector3,function(){this.boundingBox===null&&(this.boundingBox=new t.Box3);var e=this.attributes.position.array;e&&this.boundingBox.setFromArray(e),(e===void 0||e.length===0)&&(this.boundingBox.min.set(0,0,0),this.boundingBox.max.set(0,0,0)),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}}(),computeBoundingSphere:function(){var e=new t.Box3,r=new t.Vector3;return function(){this.boundingSphere===null&&(this.boundingSphere=new t.Sphere);var n=this.attributes.position.array;if(n){var i=this.boundingSphere.center;e.setFromArray(n),e.center(i);for(var a=0,s=0,c=n.length;s<c;s+=3)r.fromArray(n,s),a=Math.max(a,i.distanceToSquared(r));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,r=this.attributes,n=this.groups;if(r.position){var i=r.position.array;if(r.normal===void 0)this.addAttribute("normal",new t.BufferAttribute(new Float32Array(i.length),3));else for(var a=r.normal.array,s=0,c=a.length;s<c;s++)a[s]=0;var u=r.normal.array,f,h,d,m=new t.Vector3,p=new t.Vector3,v=new t.Vector3,g=new t.Vector3,y=new t.Vector3;if(e){var x=e.array;n.length===0&&this.addGroup(0,x.length);for(var w=0,M=n.length;w<M;++w)for(var E=n[w],T=E.start,S=E.count,s=T,c=T+S;s<c;s+=3)f=x[s+0]*3,h=x[s+1]*3,d=x[s+2]*3,m.fromArray(i,f),p.fromArray(i,h),v.fromArray(i,d),g.subVectors(v,p),y.subVectors(m,p),g.cross(y),u[f]+=g.x,u[f+1]+=g.y,u[f+2]+=g.z,u[h]+=g.x,u[h+1]+=g.y,u[h+2]+=g.z,u[d]+=g.x,u[d+1]+=g.y,u[d+2]+=g.z}else for(var s=0,c=i.length;s<c;s+=9)m.fromArray(i,s),p.fromArray(i,s+3),v.fromArray(i,s+6),g.subVectors(v,p),y.subVectors(m,p),g.cross(y),u[s]=g.x,u[s+1]=g.y,u[s+2]=g.z,u[s+3]=g.x,u[s+4]=g.y,u[s+5]=g.z,u[s+6]=g.x,u[s+7]=g.y,u[s+8]=g.z;this.normalizeNormals(),r.normal.needsUpdate=!0}},merge:function(e,r){if(!(e instanceof t.BufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}r===void 0&&(r=0);var n=this.attributes;for(var i in n)if(e.attributes[i]!==void 0)for(var a=n[i],s=a.array,c=e.attributes[i],u=c.array,f=c.itemSize,h=0,d=f*r;h<u.length;h++,d++)s[d]=u[h];return this},normalizeNormals:function(){for(var e=this.attributes.normal.array,r,n,i,a,s=0,c=e.length;s<c;s+=3)r=e[s],n=e[s+1],i=e[s+2],a=1/Math.sqrt(r*r+n*n+i*i),e[s]*=a,e[s+1]*=a,e[s+2]*=a},toNonIndexed:function(){if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new t.BufferGeometry,r=this.index.array,n=this.attributes;for(var i in n){for(var a=n[i],s=a.array,c=a.itemSize,u=new s.constructor(r.length*c),f=0,h=0,d=0,m=r.length;d<m;d++){f=r[d]*c;for(var p=0;p<c;p++)u[h++]=s[f++]}e.addAttribute(i,new t.BufferAttribute(u,c))}return e},toJSON:function(){var e={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),this.parameters!==void 0){var r=this.parameters;for(var n in r)r[n]!==void 0&&(e[n]=r[n]);return e}e.data={attributes:{}};var i=this.index;if(i!==null){var a=Array.prototype.slice.call(i.array);e.data.index={type:i.array.constructor.name,array:a}}var s=this.attributes;for(var n in s){var c=s[n],a=Array.prototype.slice.call(c.array);e.data.attributes[n]={itemSize:c.itemSize,type:c.array.constructor.name,array:a}}var u=this.groups;u.length>0&&(e.data.groups=JSON.parse(JSON.stringify(u)));var f=this.boundingSphere;return f!==null&&(e.data.boundingSphere={center:f.center.toArray(),radius:f.radius}),e},clone:function(){return new t.BufferGeometry().copy(this)},copy:function(e){var r=e.index;r!==null&&this.setIndex(r.clone());var n=e.attributes;for(var i in n){var a=n[i];this.addAttribute(i,a.clone())}for(var s=e.groups,c=0,u=s.length;c<u;c++){var f=s[c];this.addGroup(f.start,f.count)}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}},t.EventDispatcher.prototype.apply(t.BufferGeometry.prototype),t.BufferGeometry.MaxIndex=65535,t.InstancedBufferGeometry=function(){t.BufferGeometry.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0},t.InstancedBufferGeometry.prototype=Object.create(t.BufferGeometry.prototype),t.InstancedBufferGeometry.prototype.constructor=t.InstancedBufferGeometry,t.InstancedBufferGeometry.prototype.addGroup=function(e,r,n){this.groups.push({start:e,count:r,instances:n})},t.InstancedBufferGeometry.prototype.copy=function(e){var r=e.index;r!==null&&this.setIndex(r.clone());var n=e.attributes;for(var i in n){var a=n[i];this.addAttribute(i,a.clone())}for(var s=e.groups,c=0,u=s.length;c<u;c++){var f=s[c];this.addGroup(f.start,f.count,f.instances)}return this},t.EventDispatcher.prototype.apply(t.InstancedBufferGeometry.prototype),t.Uniform=function(e,r){this.type=e,this.value=r,this.dynamic=!1},t.Uniform.prototype={constructor:t.Uniform,onUpdate:function(e){return this.dynamic=!0,this.onUpdateCallback=e,this}},t.AnimationClip=function(e,r,n){this.name=e||t.Math.generateUUID(),this.tracks=n,this.duration=r!==void 0?r:-1,this.duration<0&&this.resetDuration(),this.trim(),this.optimize()},t.AnimationClip.prototype={constructor:t.AnimationClip,resetDuration:function(){for(var e=this.tracks,r=0,n=0,i=e.length;n!==i;++n){var a=this.tracks[n];r=Math.max(r,a.times[a.times.length-1])}this.duration=r},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},Object.assign(t.AnimationClip,{parse:function(e){for(var r=[],n=e.tracks,i=1/(e.fps||1),a=0,s=n.length;a!==s;++a)r.push(t.KeyframeTrack.parse(n[a]).scale(i));return new t.AnimationClip(e.name,e.duration,r)},toJSON:function(e){for(var r=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:r},a=0,s=n.length;a!==s;++a)r.push(t.KeyframeTrack.toJSON(n[a]));return i},CreateFromMorphTargetSequence:function(e,r,n){for(var i=r.length,a=[],s=0;s<i;s++){var c=[],u=[];c.push((s+i-1)%i,s,(s+1)%i),u.push(0,1,0);var f=t.AnimationUtils.getKeyframeOrder(c);c=t.AnimationUtils.sortedArray(c,1,f),u=t.AnimationUtils.sortedArray(u,1,f),c[0]===0&&(c.push(i),u.push(u[0])),a.push(new t.NumberKeyframeTrack(".morphTargetInfluences["+r[s].name+"]",c,u).scale(1/n))}return new t.AnimationClip(e,-1,a)},findByName:function(e,r){for(var n=0;n<e.length;n++)if(e[n].name===r)return e[n];return null},CreateClipsFromMorphTargetSequences:function(e,r){for(var n={},i=/^([\w-]*?)([\d]+)$/,a=0,s=e.length;a<s;a++){var c=e[a],u=c.name.match(i);if(u&&u.length>1){var f=u[1],h=n[f];h||(n[f]=h=[]),h.push(c)}}var d=[];for(var f in n)d.push(t.AnimationClip.CreateFromMorphTargetSequence(f,n[f],r));return d},parseAnimation:function(e,r,n){if(!e)return console.error("  no animation in JSONLoader data"),null;for(var i=function(T,S,L,P,R){if(L.length!==0){var B=[],V=[];t.AnimationUtils.flattenJSON(L,B,V,P),B.length!==0&&R.push(new T(S,B,V))}},a=[],s=e.name||"default",c=e.length||-1,u=e.fps||30,f=e.hierarchy||[],h=0;h<f.length;h++){var d=f[h].keys;if(!(!d||d.length==0))if(d[0].morphTargets){for(var m={},p=0;p<d.length;p++)if(d[p].morphTargets)for(var v=0;v<d[p].morphTargets.length;v++)m[d[p].morphTargets[v]]=-1;for(var g in m){for(var y=[],x=[],v=0;v!==d[p].morphTargets.length;++v){var w=d[p];y.push(w.time),x.push(w.morphTarget===g?1:0)}a.push(new t.NumberKeyframeTrack(".morphTargetInfluence["+g+"]",y,x))}c=m.length*(u||1)}else{var M=".bones["+r[h].name+"]";i(t.VectorKeyframeTrack,M+".position",d,"pos",a),i(t.QuaternionKeyframeTrack,M+".quaternion",d,"rot",a),i(t.VectorKeyframeTrack,M+".scale",d,"scl",a)}}if(a.length===0)return null;var E=new t.AnimationClip(s,c,a);return E}}),t.AnimationMixer=function(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1},t.AnimationMixer.prototype={constructor:t.AnimationMixer,clipAction:function(e,r){var n=r||this._root,i=n.uuid,a=typeof e=="string"?e:e.name,s=e!==a?e:null,c=this._actionsByClip[a],u;if(c!==void 0){var f=c.actionByRoot[i];if(f!==void 0)return f;if(u=c.knownActions[0],s=u._clip,e!==a&&e!==s)throw new Error("Different clips with the same name detected!")}if(s===null)return null;var h=new t.AnimationMixer._Action(this,s,r);return this._bindAction(h,u),this._addInactiveAction(h,a,i),h},existingAction:function(e,r){var n=r||this._root,i=n.uuid,a=typeof e=="string"?e:e.name,s=this._actionsByClip[a];return s!==void 0&&s.actionByRoot[i]||null},stopAllAction:function(){var e=this._actions,r=this._nActiveActions,n=this._bindings,i=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var a=0;a!==r;++a)e[a].reset();for(var a=0;a!==i;++a)n[a].useCount=0;return this},update:function(e){e*=this.timeScale;for(var r=this._actions,n=this._nActiveActions,i=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1,c=0;c!==n;++c){var u=r[c];u.enabled&&u._update(i,e,a,s)}for(var f=this._bindings,h=this._nActiveBindings,c=0;c!==h;++c)f[c].apply(s);return this},getRoot:function(){return this._root},uncacheClip:function(e){var r=this._actions,n=e.name,i=this._actionsByClip,a=i[n];if(a!==void 0){for(var s=a.knownActions,c=0,u=s.length;c!==u;++c){var f=s[c];this._deactivateAction(f);var h=f._cacheIndex,d=r[r.length-1];f._cacheIndex=null,f._byClipCacheIndex=null,d._cacheIndex=h,r[h]=d,r.pop(),this._removeInactiveBindingsForAction(f)}delete i[n]}},uncacheRoot:function(e){var r=e.uuid,n=this._actionsByClip;for(var i in n){var a=n[i].actionByRoot,s=a[r];s!==void 0&&(this._deactivateAction(s),this._removeInactiveAction(s))}var c=this._bindingsByRootAndName,u=c[r];if(u!==void 0)for(var f in u){var h=u[f];h.restoreOriginalState(),this._removeInactiveBinding(h)}},uncacheAction:function(e,r){var n=this.existingAction(e,r);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}},t.EventDispatcher.prototype.apply(t.AnimationMixer.prototype),t.AnimationMixer._Action=function(e,r,n){this._mixer=e,this._clip=r,this._localRoot=n||null;for(var i=r.tracks,a=i.length,s=new Array(a),c={endingStart:t.ZeroCurvatureEnding,endingEnd:t.ZeroCurvatureEnding},u=0;u!==a;++u){var f=i[u].createInterpolant(null);s[u]=f,f.settings=c}this._interpolantSettings=c,this._interpolants=s,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=t.LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0},t.AnimationMixer._Action.prototype={constructor:t.AnimationMixer._Action,play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this._startTime,this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,r){return this.loop=e,this.repetitions=r,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,r,n){if(this._mixer,e.fadeOut(r),this.fadeIn(r),n){var i=this._clip.duration,a=e._clip.duration,s=a/i,c=i/a;e.warp(1,s,r),this.warp(c,1,r)}return this},crossFadeTo:function(e,r,n){return e.crossFadeFrom(this,r,n)},stopFading:function(){var e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._currentTimeScale,0,e)},warp:function(e,r,n){var i=this._mixer,a=i.time,s=this._timeScaleInterpolant,c=this.timeScale;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);var u=s.parameterPositions,f=s.sampleValues;return u[0]=a,u[1]=a+n,f[0]=e/c,f[1]=r/c,this},stopWarping:function(){var e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,r,n,i){var a=this._startTime;if(a!==null){var s=(e-a)*n;if(s<0||n===0)return;this._startTime=null,r=n*s}r*=this._updateTimeScale(e);var c=this._updateTime(r),u=this._updateWeight(e);if(u>0)for(var f=this._interpolants,h=this._propertyBindings,d=0,m=f.length;d!==m;++d)f[d].evaluate(c),h[d].accumulate(i,u)},_updateWeight:function(e){var r=0;if(this.enabled){r=this.weight;var n=this._weightInterpolant;if(n!==null){var i=n.evaluate(e)[0];r*=i,e>n.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=r,r},_updateTimeScale:function(e){var r=0;if(!this.paused){r=this.timeScale;var n=this._timeScaleInterpolant;if(n!==null){var i=n.evaluate(e)[0];r*=i,e>n.parameterPositions[1]&&(this.stopWarping(),r===0?this.pause=!0:this.timeScale=r)}}return this._effectiveTimeScale=r,r},_updateTime:function(e){var r=this.time+e;if(e===0)return r;var n=this._clip.duration,i=this.loop,a=this._loopCount,s=!1;switch(i){case t.LoopOnce:if(a===-1&&(this.loopCount=0,this._setEndings(!0,!0,!1)),r>=n)r=n;else if(r<0)r=0;else break;this.clampWhenFinished?this.pause=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1});break;case t.LoopPingPong:s=!0;case t.LoopRepeat:if(a===-1&&(e>0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),r>=n||r<0){var c=Math.floor(r/n);r-=n*c,a+=Math.abs(c);var u=this.repetitions-a;if(u<0){this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});break}else if(u===0){var f=e<0;this._setEndings(f,!f,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c})}if(i===t.LoopPingPong&&(a&1)===1)return this.time=r,n-r;break}return this.time=r,r},_setEndings:function(e,r,n){var i=this._interpolantSettings;n?(i.endingStart=t.ZeroSlopeEnding,i.endingEnd=t.ZeroSlopeEnding):(e?i.endingStart=this.zeroSlopeAtStart?t.ZeroSlopeEnding:t.ZeroCurvatureEnding:i.endingStart=t.WrapAroundEnding,r?i.endingEnd=this.zeroSlopeAtEnd?t.ZeroSlopeEnding:t.ZeroCurvatureEnding:i.endingEnd=t.WrapAroundEnding)},_scheduleFading:function(e,r,n){var i=this._mixer,a=i.time,s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);var c=s.parameterPositions,u=s.sampleValues;return c[0]=a,u[0]=r,c[1]=a+e,u[1]=n,this}},Object.assign(t.AnimationMixer.prototype,{_bindAction:function(e,r){var n=e._localRoot||this._root,i=e._clip.tracks,a=i.length,s=e._propertyBindings,c=e._interpolants,u=n.uuid,f=this._bindingsByRootAndName,h=f[u];h===void 0&&(h={},f[u]=h);for(var d=0;d!==a;++d){var m=i[d],p=m.name,v=h[p];if(v!==void 0)s[d]=v;else{if(v=s[d],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,u,p));continue}var g=r&&r._propertyBindings[d].binding.parsedPath;v=new t.PropertyMixer(t.PropertyBinding.create(n,p,g),m.ValueTypeName,m.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,u,p),s[d]=v}c[d].resultBuffer=v.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){var r=(e._localRoot||this._root).uuid,n=e._clip.name,i=this._actionsByClip[n];this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,n,r)}for(var a=e._propertyBindings,s=0,c=a.length;s!==c;++s){var u=a[s];u.useCount++===0&&(this._lendBinding(u),u.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var r=e._propertyBindings,n=0,i=r.length;n!==i;++n){var a=r[n];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var r=e._cacheIndex;return r!==null&&r<this._nActiveActions},_addInactiveAction:function(e,r,n){var i=this._actions,a=this._actionsByClip,s=a[r];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[r]=s;else{var c=s.knownActions;e._byClipCacheIndex=c.length,c.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[n]=e},_removeInactiveAction:function(e){var r=this._actions,n=r[r.length-1],i=e._cacheIndex;n._cacheIndex=i,r[i]=n,r.pop(),e._cacheIndex=null;var a=e._clip.name,s=this._actionsByClip,c=s[a],u=c.knownActions,f=u[u.length-1],h=e._byClipCacheIndex;f._byClipCacheIndex=h,u[h]=f,u.pop(),e._byClipCacheIndex=null;var d=c.actionByRoot,m=(r._localRoot||this._root).uuid;delete d[m],u.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var r=e._propertyBindings,n=0,i=r.length;n!==i;++n){var a=r[n];--a.referenceCount===0&&this._removeInactiveBinding(a)}},_lendAction:function(e){var r=this._actions,n=e._cacheIndex,i=this._nActiveActions++,a=r[i];e._cacheIndex=i,r[i]=e,a._cacheIndex=n,r[n]=a},_takeBackAction:function(e){var r=this._actions,n=e._cacheIndex,i=--this._nActiveActions,a=r[i];e._cacheIndex=i,r[i]=e,a._cacheIndex=n,r[n]=a},_addInactiveBinding:function(e,r,n){var i=this._bindingsByRootAndName,a=i[r],s=this._bindings;a===void 0&&(a={},i[r]=a),a[n]=e,e._cacheIndex=s.length,s.push(e)},_removeInactiveBinding:function(e){var r=this._bindings,n=e.binding,i=n.rootNode.uuid,a=n.path,s=this._bindingsByRootAndName,c=s[i],u=r[r.length-1],f=e._cacheIndex;u._cacheIndex=f,r[f]=u,r.pop(),delete c[a];e:{for(var h in c)break e;delete s[i]}},_lendBinding:function(e){var r=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,a=r[i];e._cacheIndex=i,r[i]=e,a._cacheIndex=n,r[n]=a},_takeBackBinding:function(e){var r=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,a=r[i];e._cacheIndex=i,r[i]=e,a._cacheIndex=n,r[n]=a},_lendControlInterpolant:function(){var e=this._controlInterpolants,r=this._nActiveControlInterpolants++,n=e[r];return n===void 0&&(n=new t.LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=r,e[r]=n),n},_takeBackControlInterpolant:function(e){var r=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=r[i];e.__cacheIndex=i,r[i]=e,a.__cacheIndex=n,r[n]=a},_controlInterpolantsResultBuffer:new Float32Array(1)}),t.AnimationObjectGroup=function(e){this.uuid=t.Math.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var r={};this._indicesByUUID=r;for(var n=0,i=arguments.length;n!==i;++n)r[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var a=this;this.stats={objects:{get total(){return a._objects.length},get inUse(){return this.total-a.nCachedObjects_}},get bindingsPerObject(){return a._bindings.length}}},t.AnimationObjectGroup.prototype={constructor:t.AnimationObjectGroup,add:function(e){for(var r=this._objects,n=r.length,i=this.nCachedObjects_,a=this._indicesByUUID,s=this._paths,c=this._parsedPaths,u=this._bindings,f=u.length,h=0,d=arguments.length;h!==d;++h){var m=arguments[h],p=m.uuid,v=a[p];if(v===void 0){v=n++,a[p]=v,r.push(m);for(var g=0,y=f;g!==y;++g)u[g].push(new t.PropertyBinding(m,s[g],c[g]))}else if(v<i){var x=r[v],w=--i,M=r[w];a[M.uuid]=v,r[v]=M,a[p]=w,r[w]=m;for(var g=0,y=f;g!==y;++g){var E=u[g],T=E[w],S=E[v];E[v]=T,S===void 0&&(S=new t.PropertyBinding(m,s[g],c[g])),E[w]=S}}else r[v]!==x&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=i},remove:function(e){var r=this._objects;r.length;for(var n=this.nCachedObjects_,i=this._indicesByUUID,a=this._bindings,s=a.length,c=0,u=arguments.length;c!==u;++c){var f=arguments[c],h=f.uuid,d=i[h];if(d!==void 0&&d>=n){var m=n++,p=r[m];i[p.uuid]=d,r[d]=p,i[h]=m,r[m]=f;for(var v=0,g=s;v!==g;++v){var y=a[v],x=y[m],w=y[d];y[d]=x,y[m]=w}}}this.nCachedObjects_=n},uncache:function(e){for(var r=this._objects,n=r.length,i=this.nCachedObjects_,a=this._indicesByUUID,s=this._bindings,c=s.length,u=0,f=arguments.length;u!==f;++u){var h=arguments[u],d=h.uuid,m=a[d];if(m!==void 0)if(delete a[d],m<i){var p=--i,v=r[p],g=--n,y=r[g];a[v.uuid]=m,r[m]=v,a[y.uuid]=p,r[p]=y,r.pop();for(var x=0,w=c;x!==w;++x){var M=s[x],E=M[p],T=M[g];M[m]=E,M[p]=T,M.pop()}}else{var g=--n,y=r[g];a[y.uuid]=m,r[m]=y,r.pop();for(var x=0,w=c;x!==w;++x){var M=s[x];M[m]=M[g],M.pop()}}}this.nCachedObjects_=i},subscribe_:function(e,r){var n=this._bindingsIndicesByPath,i=n[e],a=this._bindings;if(i!==void 0)return a[i];var s=this._paths,c=this._parsedPaths,u=this._objects,f=u.length,h=this.nCachedObjects_,d=new Array(f);i=a.length,n[e]=i,s.push(e),c.push(r),a.push(d);for(var m=h,p=u.length;m!==p;++m){var v=u[m];d[m]=new t.PropertyBinding(v,e,r)}return d},unsubscribe_:function(e){var r=this._bindingsIndicesByPath,n=r[e];if(n!==void 0){var i=this._paths,a=this._parsedPaths,s=this._bindings,c=s.length-1,u=s[c],f=e[c];r[f]=n,s[n]=u,s.pop(),a[n]=a[c],a.pop(),i[n]=i[c],i.pop()}}},t.AnimationUtils={arraySlice:function(e,r,n){return t.AnimationUtils.isTypedArray(e)?new e.constructor(e.subarray(r,n)):e.slice(r,n)},convertArray:function(e,r,n){return!e||!n&&e.constructor===r?e:typeof r.BYTES_PER_ELEMENT=="number"?new r(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function r(s,c){return e[s]-e[c]}for(var n=e.length,i=new Array(n),a=0;a!==n;++a)i[a]=a;return i.sort(r),i},sortedArray:function(e,r,n){for(var i=e.length,a=new e.constructor(i),s=0,c=0;c!==i;++s)for(var u=n[s]*r,f=0;f!==r;++f)a[c++]=e[u+f];return a},flattenJSON:function(e,r,n,i){for(var a=1,s=e[0];s!==void 0&&s[i]===void 0;)s=e[a++];if(s!==void 0){var c=s[i];if(c!==void 0)if(Array.isArray(c))do c=s[i],c!==void 0&&(r.push(s.time),n.push.apply(n,c)),s=e[a++];while(s!==void 0);else if(c.toArray!==void 0)do c=s[i],c!==void 0&&(r.push(s.time),c.toArray(n,n.length)),s=e[a++];while(s!==void 0);else do c=s[i],c!==void 0&&(r.push(s.time),n.push(c)),s=e[a++];while(s!==void 0)}}},t.KeyframeTrack=function(e,r,n,i){if(e===void 0)throw new Error("track name is undefined");if(r===void 0||r.length===0)throw new Error("no keyframes in track named "+e);this.name=e,this.times=t.AnimationUtils.convertArray(r,this.TimeBufferType),this.values=t.AnimationUtils.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation),this.validate(),this.optimize()},t.KeyframeTrack.prototype={constructor:t.KeyframeTrack,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:t.InterpolateLinear,InterpolantFactoryMethodDiscrete:function(e){return new t.DiscreteInterpolant(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new t.LinearInterpolant(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new t.CubicInterpolant(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var r=void 0;switch(e){case t.InterpolateDiscrete:r=this.InterpolantFactoryMethodDiscrete;break;case t.InterpolateLinear:r=this.InterpolantFactoryMethodLinear;break;case t.InterpolateSmooth:r=this.InterpolantFactoryMethodSmooth;break}if(r===void 0){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);console.warn(n);return}this.createInterpolant=r},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return t.InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return t.InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return t.InterpolateSmooth}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(e!==0)for(var r=this.times,n=0,i=r.length;n!==i;++n)r[n]+=e;return this},scale:function(e){if(e!==1)for(var r=this.times,n=0,i=r.length;n!==i;++n)r[n]*=e;return this},trim:function(e,r){for(var n=this.times,i=n.length,a=0,s=i-1;a!==i&&n[a]<e;)++a;for(;s!==-1&&n[s]>r;)--s;if(++s,a!==0||s!==i){a>=s&&(s=Math.max(s,1),a=s-1);var c=this.getValueSize();this.times=t.AnimationUtils.arraySlice(n,a,s),this.values=t.AnimationUtils.arraySlice(this.values,a*c,s*c)}return this},validate:function(){var e=!0,r=this.getValueSize();r-Math.floor(r)!==0&&(console.error("invalid value size in track",this),e=!1);var n=this.times,i=this.values,a=n.length;a===0&&(console.error("track is empty",this),e=!1);for(var s=null,c=0;c!==a;c++){var u=n[c];if(typeof u=="number"&&isNaN(u)){console.error("time is not a valid number",this,c,u),e=!1;break}if(s!==null&&s>u){console.error("out of order keys",this,c,u,s),e=!1;break}s=u}if(i!==void 0&&t.AnimationUtils.isTypedArray(i))for(var c=0,f=i.length;c!==f;++c){var h=i[c];if(isNaN(h)){console.error("value is not a valid number",this,c,h),e=!1;break}}return e},optimize:function(){for(var e=this.times,r=this.values,n=this.getValueSize(),i=1,a=1,s=e.length-1;a<=s;++a){var c=!1,u=e[a],f=e[a+1];if(u!==f&&(a!==1||u!==u[0]))for(var h=a*n,d=h-n,m=h+n,p=0;p!==n;++p){var v=r[h+p];if(v!==r[d+p]||v!==r[m+p]){c=!0;break}}if(c){if(a!==i){e[i]=e[a];for(var g=a*n,y=i*n,p=0;p!==n;++p)r[y+p]=r[g+p]}++i}}return i!==e.length&&(this.times=t.AnimationUtils.arraySlice(e,0,i),this.values=t.AnimationUtils.arraySlice(r,0,i*n)),this}},Object.assign(t.KeyframeTrack,{parse:function(e){if(e.type===void 0)throw new Error("track type undefined, can not parse");var r=t.KeyframeTrack._getTrackTypeForValueTypeName(e.type);if(e.times===void 0){console.warn("legacy JSON format detected, converting");var n=[],i=[];t.AnimationUtils.flattenJSON(e.keys,n,i,"value"),e.times=n,e.values=i}return r.parse!==void 0?r.parse(e):new r(e.name,e.times,e.values,e.interpolation)},toJSON:function(e){var r=e.constructor,n;if(r.toJSON!==void 0)n=r.toJSON(e);else{n={name:e.name,times:t.AnimationUtils.convertArray(e.times,Array),values:t.AnimationUtils.convertArray(e.values,Array)};var i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n},_getTrackTypeForValueTypeName:function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return t.NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return t.VectorKeyframeTrack;case"color":return t.ColorKeyframeTrack;case"quaternion":return t.QuaternionKeyframeTrack;case"bool":case"boolean":return t.BooleanKeyframeTrack;case"string":return t.StringKeyframeTrack}throw new Error("Unsupported typeName: "+e)}}),t.PropertyBinding=function(e,r,n){this.path=r,this.parsedPath=n||t.PropertyBinding.parseTrackName(r),this.node=t.PropertyBinding.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e},t.PropertyBinding.prototype={constructor:t.PropertyBinding,getValue:function(r,n){this.bind(),this.getValue(r,n)},setValue:function(r,n){this.bind(),this.setValue(r,n)},bind:function(){var e=this.node,r=this.parsedPath,n=r.objectName,i=r.propertyName,a=r.propertyIndex;if(e||(e=t.PropertyBinding.findNode(this.rootNode,r.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("  trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){var s=r.objectIndex;switch(n){case"materials":if(!e.material){console.error("  can not bind to material as node does not have a material",this);return}if(!e.material.materials){console.error("  can not bind to material.materials as node.material does not have a materials array",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("  can not bind to bones as node does not have a skeleton",this);return}e=e.skeleton.bones;for(var c=0;c<e.length;c++)if(e[c].name===s){s=c;break}break;default:if(e[n]===void 0){console.error("  can not bind to objectName of node, undefined",this);return}e=e[n]}if(s!==void 0){if(e[s]===void 0){console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,e);return}e=e[s]}}var u=e[i];if(!u){var f=r.nodeName;console.error("  trying to update property for track: "+f+"."+i+" but it wasn't found.",e);return}var h=this.Versioning.None;e.needsUpdate!==void 0?(h=this.Versioning.NeedsUpdate,this.targetObject=e):e.matrixWorldNeedsUpdate!==void 0&&(h=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=e);var d=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this);return}if(!e.geometry.morphTargets){console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);return}for(var c=0;c<this.node.geometry.morphTargets.length;c++)if(e.geometry.morphTargets[c].name===a){a=c;break}}d=this.BindingType.ArrayElement,this.resolvedProperty=u,this.propertyIndex=a}else u.fromArray!==void 0&&u.toArray!==void 0?(d=this.BindingType.HasFromToArray,this.resolvedProperty=u):u.length!==void 0?(d=this.BindingType.EntireArray,this.resolvedProperty=u):this.propertyName=i;this.getValue=this.GetterByBindingType[d],this.setValue=this.SetterByBindingTypeAndVersioning[d][h]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}},Object.assign(t.PropertyBinding.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:t.PropertyBinding.prototype.getValue,_setValue_unbound:t.PropertyBinding.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(r,n){r[n]=this.node[this.propertyName]},function(r,n){for(var i=this.resolvedProperty,a=0,s=i.length;a!==s;++a)r[n++]=i[a]},function(r,n){r[n]=this.resolvedProperty[this.propertyIndex]},function(r,n){this.resolvedProperty.toArray(r,n)}],SetterByBindingTypeAndVersioning:[[function(r,n){this.node[this.propertyName]=r[n]},function(r,n){this.node[this.propertyName]=r[n],this.targetObject.needsUpdate=!0},function(r,n){this.node[this.propertyName]=r[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(r,n){for(var i=this.resolvedProperty,a=0,s=i.length;a!==s;++a)i[a]=r[n++]},function(r,n){for(var i=this.resolvedProperty,a=0,s=i.length;a!==s;++a)i[a]=r[n++];this.targetObject.needsUpdate=!0},function(r,n){for(var i=this.resolvedProperty,a=0,s=i.length;a!==s;++a)i[a]=r[n++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(r,n){this.resolvedProperty[this.propertyIndex]=r[n]},function(r,n){this.resolvedProperty[this.propertyIndex]=r[n],this.targetObject.needsUpdate=!0},function(r,n){this.resolvedProperty[this.propertyIndex]=r[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(r,n){this.resolvedProperty.fromArray(r,n)},function(r,n){this.resolvedProperty.fromArray(r,n),this.targetObject.needsUpdate=!0},function(r,n){this.resolvedProperty.fromArray(r,n),this.targetObject.matrixWorldNeedsUpdate=!0}]]}),t.PropertyBinding.Composite=function(e,r,n){var i=n||t.PropertyBinding.parseTrackName(r);this._targetGroup=e,this._bindings=e.subscribe_(r,i)},t.PropertyBinding.Composite.prototype={constructor:t.PropertyBinding.Composite,getValue:function(e,r){this.bind();var n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(e,r)},setValue:function(e,r){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,a=n.length;i!==a;++i)n[i].setValue(e,r)},bind:function(){for(var e=this._bindings,r=this._targetGroup.nCachedObjects_,n=e.length;r!==n;++r)e[r].bind()},unbind:function(){for(var e=this._bindings,r=this._targetGroup.nCachedObjects_,n=e.length;r!==n;++r)e[r].unbind()}},t.PropertyBinding.create=function(e,r,n){return e instanceof t.AnimationObjectGroup?new t.PropertyBinding.Composite(e,r,n):new t.PropertyBinding(e,r,n)},t.PropertyBinding.parseTrackName=function(e){var r=/^(([\w]+\/)*)([\w-\d]+)?(\.([\w]+)(\[([\w\d\[\]\_.:\- ]+)\])?)?(\.([\w.]+)(\[([\w\d\[\]\_. ]+)\])?)$/,n=r.exec(e);if(!n)throw new Error("cannot parse trackName at all: "+e);n.index===r.lastIndex&&r.lastIndex++;var i={nodeName:n[3],objectName:n[5],objectIndex:n[7],propertyName:n[9],propertyIndex:n[11]};if(i.propertyName===null||i.propertyName.length===0)throw new Error("can not parse propertyName from trackName: "+e);return i},t.PropertyBinding.findNode=function(e,r){if(!r||r===""||r==="root"||r==="."||r===-1||r===e.name||r===e.uuid)return e;if(e.skeleton){var n=function(c){for(var u=0;u<c.bones.length;u++){var f=c.bones[u];if(f.name===r)return f}return null},i=n(e.skeleton);if(i)return i}if(e.children){var a=function(c){for(var u=0;u<c.length;u++){var f=c[u];if(f.name===r||f.uuid===r)return f;var h=a(f.children);if(h)return h}return null},s=a(e.children);if(s)return s}return null},t.PropertyMixer=function(e,r,n){this.binding=e,this.valueSize=n;var i=Float64Array,a;switch(r){case"quaternion":a=this._slerp;break;case"string":case"bool":i=Array,a=this._select;break;default:a=this._lerp}this.buffer=new i(n*4),this._mixBufferRegion=a,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0},t.PropertyMixer.prototype={constructor:t.PropertyMixer,accumulate:function(e,r){var n=this.buffer,i=this.valueSize,a=e*i+i,s=this.cumulativeWeight;if(s===0){for(var c=0;c!==i;++c)n[a+c]=n[c];s=r}else{s+=r;var u=r/s;this._mixBufferRegion(n,a,0,u,i)}this.cumulativeWeight=s},apply:function(e){var r=this.valueSize,n=this.buffer,i=e*r+r,a=this.cumulativeWeight,s=this.binding;if(this.cumulativeWeight=0,a<1){var c=r*3;this._mixBufferRegion(n,i,c,1-a,r)}for(var u=r,f=r+r;u!==f;++u)if(n[u]!==n[u+r]){s.setValue(n,i);break}},saveOriginalState:function(){var e=this.binding,r=this.buffer,n=this.valueSize,i=n*3;e.getValue(r,i);for(var a=n,s=i;a!==s;++a)r[a]=r[i+a%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=this.valueSize*3;this.binding.setValue(this.buffer,e)},_select:function(e,r,n,i,a){if(i>=.5)for(var s=0;s!==a;++s)e[r+s]=e[n+s]},_slerp:function(e,r,n,i,a){t.Quaternion.slerpFlat(e,r,e,r,e,n,i)},_lerp:function(e,r,n,i,a){for(var s=1-i,c=0;c!==a;++c){var u=r+c;e[u]=e[u]*s+e[n+c]*i}}},t.BooleanKeyframeTrack=function(e,r,n){t.KeyframeTrack.call(this,e,r,n)},t.BooleanKeyframeTrack.prototype=Object.assign(Object.create(t.KeyframeTrack.prototype),{constructor:t.BooleanKeyframeTrack,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:t.IntepolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),t.NumberKeyframeTrack=function(e,r,n,i){t.KeyframeTrack.call(this,e,r,n,i)},t.NumberKeyframeTrack.prototype=Object.assign(Object.create(t.KeyframeTrack.prototype),{constructor:t.NumberKeyframeTrack,ValueTypeName:"number"}),t.QuaternionKeyframeTrack=function(e,r,n,i){t.KeyframeTrack.call(this,e,r,n,i)},t.QuaternionKeyframeTrack.prototype=Object.assign(Object.create(t.KeyframeTrack.prototype),{constructor:t.QuaternionKeyframeTrack,ValueTypeName:"quaternion",DefaultInterpolation:t.InterpolateLinear,InterpolantFactoryMethodLinear:function(e){return new t.QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),t.StringKeyframeTrack=function(e,r,n,i){t.KeyframeTrack.call(this,e,r,n,i)},t.StringKeyframeTrack.prototype=Object.assign(Object.create(t.KeyframeTrack.prototype),{constructor:t.StringKeyframeTrack,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:t.IntepolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),t.VectorKeyframeTrack=function(e,r,n,i){t.KeyframeTrack.call(this,e,r,n,i)},t.VectorKeyframeTrack.prototype=Object.assign(Object.create(t.KeyframeTrack.prototype),{constructor:t.VectorKeyframeTrack,ValueTypeName:"vector"}),t.Audio=function(e){t.Object3D.call(this),this.type="Audio",this.context=e.context,this.source=this.context.createBufferSource(),this.source.onended=this.onEnded.bind(this),this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filter=null},t.Audio.prototype=Object.create(t.Object3D.prototype),t.Audio.prototype.constructor=t.Audio,t.Audio.prototype.getOutput=function(){return this.gain},t.Audio.prototype.load=function(e){var r=new t.AudioBuffer(this.context);return r.load(e),this.setBuffer(r),this},t.Audio.prototype.setNodeSource=function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},t.Audio.prototype.setBuffer=function(e){var r=this;return e.onReady(function(n){r.source.buffer=n,r.sourceType="buffer",r.autoplay&&r.play()}),this},t.Audio.prototype.play=function(){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}var e=this.context.createBufferSource();e.buffer=this.source.buffer,e.loop=this.source.loop,e.onended=this.source.onended,e.start(0,this.startTime),e.playbackRate.value=this.playbackRate,this.isPlaying=!0,this.source=e,this.connect()},t.Audio.prototype.pause=function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this.source.stop(),this.startTime=this.context.currentTime},t.Audio.prototype.stop=function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this.source.stop(),this.startTime=0},t.Audio.prototype.connect=function(){this.filter!==null?(this.source.connect(this.filter),this.filter.connect(this.getOutput())):this.source.connect(this.getOutput())},t.Audio.prototype.disconnect=function(){this.filter!==null?(this.source.disconnect(this.filter),this.filter.disconnect(this.getOutput())):this.source.disconnect(this.getOutput())},t.Audio.prototype.getFilter=function(){return this.filter},t.Audio.prototype.setFilter=function(e){e===void 0&&(e=null),this.isPlaying===!0?(this.disconnect(),this.filter=e,this.connect()):this.filter=e},t.Audio.prototype.setPlaybackRate=function(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this.playbackRate=e,this.isPlaying===!0&&(this.source.playbackRate.value=this.playbackRate)},t.Audio.prototype.getPlaybackRate=function(){return this.playbackRate},t.Audio.prototype.onEnded=function(){this.isPlaying=!1},t.Audio.prototype.setLoop=function(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this.source.loop=e},t.Audio.prototype.getLoop=function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.source.loop},t.Audio.prototype.setVolume=function(e){this.gain.gain.value=e},t.Audio.prototype.getVolume=function(){return this.gain.gain.value},t.AudioAnalyser=function(e,r){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=r!==void 0?r:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)},t.AudioAnalyser.prototype={constructor:t.AudioAnalyser,getData:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},t.AudioBuffer=function(e){this.context=e,this.ready=!1,this.readyCallbacks=[]},t.AudioBuffer.prototype.load=function(e){var r=this,n=new XMLHttpRequest;return n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(i){r.context.decodeAudioData(this.response,function(a){r.buffer=a,r.ready=!0;for(var s=0;s<r.readyCallbacks.length;s++)r.readyCallbacks[s](r.buffer);r.readyCallbacks=[]})},n.send(),this},t.AudioBuffer.prototype.onReady=function(e){this.ready?e(this.buffer):this.readyCallbacks.push(e)},t.PositionalAudio=function(e){t.Audio.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)},t.PositionalAudio.prototype=Object.create(t.Audio.prototype),t.PositionalAudio.prototype.constructor=t.PositionalAudio,t.PositionalAudio.prototype.getOutput=function(){return this.panner},t.PositionalAudio.prototype.setRefDistance=function(e){this.panner.refDistance=e},t.PositionalAudio.prototype.getRefDistance=function(){return this.panner.refDistance},t.PositionalAudio.prototype.setRolloffFactor=function(e){this.panner.rolloffFactor=e},t.PositionalAudio.prototype.getRolloffFactor=function(){return this.panner.rolloffFactor},t.PositionalAudio.prototype.setDistanceModel=function(e){this.panner.distanceModel=e},t.PositionalAudio.prototype.getDistanceModel=function(){return this.panner.distanceModel},t.PositionalAudio.prototype.setMaxDistance=function(e){this.panner.maxDistance=e},t.PositionalAudio.prototype.getMaxDistance=function(){return this.panner.maxDistance},t.PositionalAudio.prototype.updateMatrixWorld=function(){var e=new t.Vector3;return function(n){t.Object3D.prototype.updateMatrixWorld.call(this,n),e.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(e.x,e.y,e.z)}}(),t.AudioListener=function(){t.Object3D.call(this),this.type="AudioListener",this.context=new(window.AudioContext||window.webkitAudioContext),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null},t.AudioListener.prototype=Object.create(t.Object3D.prototype),t.AudioListener.prototype.constructor=t.AudioListener,t.AudioListener.prototype.getInput=function(){return this.gain},t.AudioListener.prototype.removeFilter=function(){this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},t.AudioListener.prototype.setFilter=function(e){this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},t.AudioListener.prototype.getFilter=function(){return this.filter},t.AudioListener.prototype.setMasterVolume=function(e){this.gain.gain.value=e},t.AudioListener.prototype.getMasterVolume=function(){return this.gain.gain.value},t.AudioListener.prototype.updateMatrixWorld=function(){var e=new t.Vector3,r=new t.Quaternion,n=new t.Vector3,i=new t.Vector3;return function(s){t.Object3D.prototype.updateMatrixWorld.call(this,s);var c=this.context.listener,u=this.up;this.matrixWorld.decompose(e,r,n),i.set(0,0,-1).applyQuaternion(r),c.setPosition(e.x,e.y,e.z),c.setOrientation(i.x,i.y,i.z,u.x,u.y,u.z)}}(),t.Camera=function(){t.Object3D.call(this),this.type="Camera",this.matrixWorldInverse=new t.Matrix4,this.projectionMatrix=new t.Matrix4},t.Camera.prototype=Object.create(t.Object3D.prototype),t.Camera.prototype.constructor=t.Camera,t.Camera.prototype.getWorldDirection=function(){var e=new t.Quaternion;return function(r){var n=r||new t.Vector3;return this.getWorldQuaternion(e),n.set(0,0,-1).applyQuaternion(e)}}(),t.Camera.prototype.lookAt=function(){var e=new t.Matrix4;return function(r){e.lookAt(this.position,r,this.up),this.quaternion.setFromRotationMatrix(e)}}(),t.Camera.prototype.clone=function(){return new this.constructor().copy(this)},t.Camera.prototype.copy=function(e){return t.Object3D.prototype.copy.call(this,e),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this},t.CubeCamera=function(e,r,n){t.Object3D.call(this),this.type="CubeCamera";var i=90,a=1,s=new t.PerspectiveCamera(i,a,e,r);s.up.set(0,-1,0),s.lookAt(new t.Vector3(1,0,0)),this.add(s);var c=new t.PerspectiveCamera(i,a,e,r);c.up.set(0,-1,0),c.lookAt(new t.Vector3(-1,0,0)),this.add(c);var u=new t.PerspectiveCamera(i,a,e,r);u.up.set(0,0,1),u.lookAt(new t.Vector3(0,1,0)),this.add(u);var f=new t.PerspectiveCamera(i,a,e,r);f.up.set(0,0,-1),f.lookAt(new t.Vector3(0,-1,0)),this.add(f);var h=new t.PerspectiveCamera(i,a,e,r);h.up.set(0,-1,0),h.lookAt(new t.Vector3(0,0,1)),this.add(h);var d=new t.PerspectiveCamera(i,a,e,r);d.up.set(0,-1,0),d.lookAt(new t.Vector3(0,0,-1)),this.add(d);var m={format:t.RGBFormat,magFilter:t.LinearFilter,minFilter:t.LinearFilter};this.renderTarget=new t.WebGLRenderTargetCube(n,n,m),this.updateCubeMap=function(p,v){this.parent===null&&this.updateMatrixWorld();var g=this.renderTarget,y=g.texture.generateMipmaps;g.texture.generateMipmaps=!1,g.activeCubeFace=0,p.render(v,s,g),g.activeCubeFace=1,p.render(v,c,g),g.activeCubeFace=2,p.render(v,u,g),g.activeCubeFace=3,p.render(v,f,g),g.activeCubeFace=4,p.render(v,h,g),g.texture.generateMipmaps=y,g.activeCubeFace=5,p.render(v,d,g),p.setRenderTarget(null)}},t.CubeCamera.prototype=Object.create(t.Object3D.prototype),t.CubeCamera.prototype.constructor=t.CubeCamera,t.OrthographicCamera=function(e,r,n,i,a,s){t.Camera.call(this),this.type="OrthographicCamera",this.zoom=1,this.left=e,this.right=r,this.top=n,this.bottom=i,this.near=a!==void 0?a:.1,this.far=s!==void 0?s:2e3,this.updateProjectionMatrix()},t.OrthographicCamera.prototype=Object.create(t.Camera.prototype),t.OrthographicCamera.prototype.constructor=t.OrthographicCamera,t.OrthographicCamera.prototype.updateProjectionMatrix=function(){var e=(this.right-this.left)/(2*this.zoom),r=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;this.projectionMatrix.makeOrthographic(n-e,n+e,i+r,i-r,this.near,this.far)},t.OrthographicCamera.prototype.copy=function(e){return t.Camera.prototype.copy.call(this,e),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this},t.OrthographicCamera.prototype.toJSON=function(e){var r=t.Object3D.prototype.toJSON.call(this,e);return r.object.zoom=this.zoom,r.object.left=this.left,r.object.right=this.right,r.object.top=this.top,r.object.bottom=this.bottom,r.object.near=this.near,r.object.far=this.far,r},t.PerspectiveCamera=function(e,r,n,i){t.Camera.call(this),this.type="PerspectiveCamera",this.focalLength=10,this.zoom=1,this.fov=e!==void 0?e:50,this.aspect=r!==void 0?r:1,this.near=n!==void 0?n:.1,this.far=i!==void 0?i:2e3,this.updateProjectionMatrix()},t.PerspectiveCamera.prototype=Object.create(t.Camera.prototype),t.PerspectiveCamera.prototype.constructor=t.PerspectiveCamera,t.PerspectiveCamera.prototype.setLens=function(e,r){r===void 0&&(r=24),this.fov=2*t.Math.radToDeg(Math.atan(r/(e*2))),this.updateProjectionMatrix()},t.PerspectiveCamera.prototype.setViewOffset=function(e,r,n,i,a,s){this.fullWidth=e,this.fullHeight=r,this.x=n,this.y=i,this.width=a,this.height=s,this.updateProjectionMatrix()},t.PerspectiveCamera.prototype.updateProjectionMatrix=function(){var e=t.Math.radToDeg(2*Math.atan(Math.tan(t.Math.degToRad(this.fov)*.5)/this.zoom));if(this.fullWidth){var r=this.fullWidth/this.fullHeight,n=Math.tan(t.Math.degToRad(e*.5))*this.near,i=-n,a=r*i,s=r*n,c=Math.abs(s-a),u=Math.abs(n-i);this.projectionMatrix.makeFrustum(a+this.x*c/this.fullWidth,a+(this.x+this.width)*c/this.fullWidth,n-(this.y+this.height)*u/this.fullHeight,n-this.y*u/this.fullHeight,this.near,this.far)}else this.projectionMatrix.makePerspective(e,this.aspect,this.near,this.far)},t.PerspectiveCamera.prototype.copy=function(e){return t.Camera.prototype.copy.call(this,e),this.focalLength=e.focalLength,this.zoom=e.zoom,this.fov=e.fov,this.aspect=e.aspect,this.near=e.near,this.far=e.far,this},t.PerspectiveCamera.prototype.toJSON=function(e){var r=t.Object3D.prototype.toJSON.call(this,e);return r.object.focalLength=this.focalLength,r.object.zoom=this.zoom,r.object.fov=this.fov,r.object.aspect=this.aspect,r.object.near=this.near,r.object.far=this.far,r},t.StereoCamera=function(){this.type="StereoCamera",this.aspect=1,this.cameraL=new t.PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new t.PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1},t.StereoCamera.prototype={constructor:t.StereoCamera,update:function(){var e,r,n,i,a,s=new t.Matrix4,c=new t.Matrix4;return function(f){var h=e!==f.focalLength||r!==f.fov||n!==f.aspect*this.aspect||i!==f.near||a!==f.far;if(h){e=f.focalLength,r=f.fov,n=f.aspect*this.aspect,i=f.near,a=f.far;var d=f.projectionMatrix.clone(),m=.064/2,p=m*i/e,v=i*Math.tan(t.Math.degToRad(r*.5)),g,y;c.elements[12]=-m,s.elements[12]=m,g=-v*n+p,y=v*n+p,d.elements[0]=2*i/(y-g),d.elements[8]=(y+g)/(y-g),this.cameraL.projectionMatrix.copy(d),g=-v*n-p,y=v*n-p,d.elements[0]=2*i/(y-g),d.elements[8]=(y+g)/(y-g),this.cameraR.projectionMatrix.copy(d)}this.cameraL.matrixWorld.copy(f.matrixWorld).multiply(c),this.cameraR.matrixWorld.copy(f.matrixWorld).multiply(s)}}()},t.Light=function(e,r){t.Object3D.call(this),this.type="Light",this.color=new t.Color(e),this.intensity=r!==void 0?r:1,this.receiveShadow=void 0},t.Light.prototype=Object.create(t.Object3D.prototype),t.Light.prototype.constructor=t.Light,t.Light.prototype.copy=function(e){return t.Object3D.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},t.Light.prototype.toJSON=function(e){var r=t.Object3D.prototype.toJSON.call(this,e);return r.object.color=this.color.getHex(),r.object.intensity=this.intensity,this.groundColor!==void 0&&(r.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(r.object.distance=this.distance),this.angle!==void 0&&(r.object.angle=this.angle),this.decay!==void 0&&(r.object.decay=this.decay),this.penumbra!==void 0&&(r.object.penumbra=this.penumbra),r},t.LightShadow=function(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new t.Vector2(512,512),this.map=null,this.matrix=new t.Matrix4},t.LightShadow.prototype={constructor:t.LightShadow,copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return new this.constructor().copy(this)}},t.AmbientLight=function(e,r){t.Light.call(this,e,r),this.type="AmbientLight",this.castShadow=void 0},t.AmbientLight.prototype=Object.create(t.Light.prototype),t.AmbientLight.prototype.constructor=t.AmbientLight,t.DirectionalLight=function(e,r){t.Light.call(this,e,r),this.type="DirectionalLight",this.position.set(0,1,0),this.updateMatrix(),this.target=new t.Object3D,this.shadow=new t.LightShadow(new t.OrthographicCamera(-5,5,5,-5,.5,500))},t.DirectionalLight.prototype=Object.create(t.Light.prototype),t.DirectionalLight.prototype.constructor=t.DirectionalLight,t.DirectionalLight.prototype.copy=function(e){return t.Light.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this},t.HemisphereLight=function(e,r,n){t.Light.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.set(0,1,0),this.updateMatrix(),this.groundColor=new t.Color(r)},t.HemisphereLight.prototype=Object.create(t.Light.prototype),t.HemisphereLight.prototype.constructor=t.HemisphereLight,t.HemisphereLight.prototype.copy=function(e){return t.Light.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this},t.PointLight=function(e,r,n,i){t.Light.call(this,e,r),this.type="PointLight",this.distance=n!==void 0?n:0,this.decay=i!==void 0?i:1,this.shadow=new t.LightShadow(new t.PerspectiveCamera(90,1,.5,500))},t.PointLight.prototype=Object.create(t.Light.prototype),t.PointLight.prototype.constructor=t.PointLight,Object.defineProperty(t.PointLight.prototype,"power",{get:function(){return this.intensity*4*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),t.PointLight.prototype.copy=function(e){return t.Light.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this},t.SpotLight=function(e,r,n,i,a,s){t.Light.call(this,e,r),this.type="SpotLight",this.position.set(0,1,0),this.updateMatrix(),this.target=new t.Object3D,this.distance=n!==void 0?n:0,this.angle=i!==void 0?i:Math.PI/3,this.penumbra=a!==void 0?a:0,this.decay=s!==void 0?s:1,this.shadow=new t.LightShadow(new t.PerspectiveCamera(50,1,.5,500))},t.SpotLight.prototype=Object.create(t.Light.prototype),t.SpotLight.prototype.constructor=t.SpotLight,Object.defineProperty(t.SpotLight.prototype,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),t.SpotLight.prototype.copy=function(e){return t.Light.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this},t.Cache={enabled:!1,files:{},add:function(e,r){this.enabled!==!1&&(this.files[e]=r)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},t.Loader=function(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}},t.Loader.prototype={constructor:t.Loader,crossOrigin:void 0,extractUrlBase:function(e){var r=e.split("/");return r.length===1?"./":(r.pop(),r.join("/")+"/")},initMaterials:function(e,r,n){for(var i=[],a=0;a<e.length;++a)i[a]=this.createMaterial(e[a],r,n);return i},createMaterial:function(){var e,r,n;return function(i,a,s){e===void 0&&(e=new t.Color),r===void 0&&(r=new t.TextureLoader),n===void 0&&(n=new t.MaterialLoader);var c={};function u(m,p,v,g,y){var x=a+m,w=t.Loader.Handlers.get(x),M;w!==null?M=w.load(x):(r.setCrossOrigin(s),M=r.load(x)),p!==void 0&&(M.repeat.fromArray(p),p[0]!==1&&(M.wrapS=t.RepeatWrapping),p[1]!==1&&(M.wrapT=t.RepeatWrapping)),v!==void 0&&M.offset.fromArray(v),g!==void 0&&(g[0]==="repeat"&&(M.wrapS=t.RepeatWrapping),g[0]==="mirror"&&(M.wrapS=t.MirroredRepeatWrapping),g[1]==="repeat"&&(M.wrapT=t.RepeatWrapping),g[1]==="mirror"&&(M.wrapT=t.MirroredRepeatWrapping)),y!==void 0&&(M.anisotropy=y);var E=t.Math.generateUUID();return c[E]=M,E}var f={uuid:t.Math.generateUUID(),type:"MeshLambertMaterial"};for(var h in i){var d=i[h];switch(h){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":f.name=d;break;case"blending":f.blending=t[d];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",h,"is no longer supported.");break;case"colorDiffuse":f.color=e.fromArray(d).getHex();break;case"colorSpecular":f.specular=e.fromArray(d).getHex();break;case"colorEmissive":f.emissive=e.fromArray(d).getHex();break;case"specularCoef":f.shininess=d;break;case"shading":d.toLowerCase()==="basic"&&(f.type="MeshBasicMaterial"),d.toLowerCase()==="phong"&&(f.type="MeshPhongMaterial");break;case"mapDiffuse":f.map=u(d,i.mapDiffuseRepeat,i.mapDiffuseOffset,i.mapDiffuseWrap,i.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapLight":f.lightMap=u(d,i.mapLightRepeat,i.mapLightOffset,i.mapLightWrap,i.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":f.aoMap=u(d,i.mapAORepeat,i.mapAOOffset,i.mapAOWrap,i.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":f.bumpMap=u(d,i.mapBumpRepeat,i.mapBumpOffset,i.mapBumpWrap,i.mapBumpAnisotropy);break;case"mapBumpScale":f.bumpScale=d;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":f.normalMap=u(d,i.mapNormalRepeat,i.mapNormalOffset,i.mapNormalWrap,i.mapNormalAnisotropy);break;case"mapNormalFactor":f.normalScale=[d,d];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":f.specularMap=u(d,i.mapSpecularRepeat,i.mapSpecularOffset,i.mapSpecularWrap,i.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapAlpha":f.alphaMap=u(d,i.mapAlphaRepeat,i.mapAlphaOffset,i.mapAlphaWrap,i.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":f.side=t.BackSide;break;case"doubleSided":f.side=t.DoubleSide;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),f.opacity=d;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":f[h]=d;break;case"vertexColors":d===!0&&(f.vertexColors=t.VertexColors),d==="face"&&(f.vertexColors=t.FaceColors);break;default:console.error("THREE.Loader.createMaterial: Unsupported",h,d);break}}return f.type==="MeshBasicMaterial"&&delete f.emissive,f.type!=="MeshPhongMaterial"&&delete f.specular,f.opacity<1&&(f.transparent=!0),n.setTextures(c),n.parse(f)}}()},t.Loader.Handlers={handlers:[],add:function(e,r){this.handlers.push(e,r)},get:function(e){for(var r=this.handlers,n=0,i=r.length;n<i;n+=2){var a=r[n],s=r[n+1];if(a.test(e))return s}return null}},t.XHRLoader=function(e){this.manager=e!==void 0?e:t.DefaultLoadingManager},t.XHRLoader.prototype={constructor:t.XHRLoader,load:function(e,r,n,i){this.path!==void 0&&(e=this.path+e);var a=this,s=t.Cache.get(e);if(s!==void 0)return r&&setTimeout(function(){r(s)},0),s;var c=new XMLHttpRequest;return c.overrideMimeType("text/plain"),c.open("GET",e,!0),c.addEventListener("load",function(u){var f=u.target.response;t.Cache.add(e,f),this.status===200?(r&&r(f),a.manager.itemEnd(e)):this.status===0?(console.warn("THREE.XHRLoader: HTTP Status 0 received."),r&&r(f),a.manager.itemEnd(e)):(i&&i(u),a.manager.itemError(e))},!1),n!==void 0&&c.addEventListener("progress",function(u){n(u)},!1),c.addEventListener("error",function(u){i&&i(u),a.manager.itemError(e)},!1),this.responseType!==void 0&&(c.responseType=this.responseType),this.withCredentials!==void 0&&(c.withCredentials=this.withCredentials),c.send(null),a.manager.itemStart(e),c},setPath:function(e){this.path=e},setResponseType:function(e){this.responseType=e},setWithCredentials:function(e){this.withCredentials=e}},t.FontLoader=function(e){this.manager=e!==void 0?e:t.DefaultLoadingManager},t.FontLoader.prototype={constructor:t.FontLoader,load:function(e,r,n,i){var a=new t.XHRLoader(this.manager);a.load(e,function(s){r(new t.Font(JSON.parse(s.substring(65,s.length-2))))},n,i)}},t.ImageLoader=function(e){this.manager=e!==void 0?e:t.DefaultLoadingManager},t.ImageLoader.prototype={constructor:t.ImageLoader,load:function(e,r,n,i){this.path!==void 0&&(e=this.path+e);var a=this,s=t.Cache.get(e);if(s!==void 0)return a.manager.itemStart(e),r?setTimeout(function(){r(s),a.manager.itemEnd(e)},0):a.manager.itemEnd(e),s;var c=document.createElement("img");return c.addEventListener("load",function(u){t.Cache.add(e,this),r&&r(this),a.manager.itemEnd(e)},!1),n!==void 0&&c.addEventListener("progress",function(u){n(u)},!1),c.addEventListener("error",function(u){i&&i(u),a.manager.itemError(e)},!1),this.crossOrigin!==void 0&&(c.crossOrigin=this.crossOrigin),a.manager.itemStart(e),c.src=e,c},setCrossOrigin:function(e){this.crossOrigin=e},setPath:function(e){this.path=e}},t.JSONLoader=function(e){typeof e=="boolean"&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),e=void 0),this.manager=e!==void 0?e:t.DefaultLoadingManager,this.withCredentials=!1},t.JSONLoader.prototype={constructor:t.JSONLoader,get statusDomElement(){return this._statusDomElement===void 0&&(this._statusDomElement=document.createElement("div")),console.warn("THREE.JSONLoader: .statusDomElement has been removed."),this._statusDomElement},load:function(e,r,n,i){var a=this,s=this.texturePath&&typeof this.texturePath=="string"?this.texturePath:t.Loader.prototype.extractUrlBase(e),c=new t.XHRLoader(this.manager);c.setWithCredentials(this.withCredentials),c.load(e,function(u){var f=JSON.parse(u),h=f.metadata;if(h!==void 0){var d=h.type;if(d!==void 0){if(d.toLowerCase()==="object"){console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.ObjectLoader instead.");return}if(d.toLowerCase()==="scene"){console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.SceneLoader instead.");return}}}var m=a.parse(f,s);r(m.geometry,m.materials)},n,i)},setTexturePath:function(e){this.texturePath=e},parse:function(e,r){var n=new t.Geometry,i=e.scale!==void 0?1/e.scale:1;a(i),s(),c(i),u(),n.computeFaceNormals(),n.computeBoundingSphere();function a(h){function d(ae,J){return ae&1<<J}var m,p,v,g,y,x,w,M,E,T,S,L,P,R,B,V,z,X,G,k,j,$,Z,K,oe,ie,fe,O=e.faces,I=e.vertices,H=e.normals,q=e.colors,_=0;if(e.uvs!==void 0){for(m=0;m<e.uvs.length;m++)e.uvs[m].length&&_++;for(m=0;m<_;m++)n.faceVertexUvs[m]=[]}for(g=0,y=I.length;g<y;)X=new t.Vector3,X.x=I[g++]*h,X.y=I[g++]*h,X.z=I[g++]*h,n.vertices.push(X);for(g=0,y=O.length;g<y;)if(T=O[g++],S=d(T,0),L=d(T,1),P=d(T,3),R=d(T,4),B=d(T,5),V=d(T,6),z=d(T,7),S){if(k=new t.Face3,k.a=O[g],k.b=O[g+1],k.c=O[g+3],j=new t.Face3,j.a=O[g+1],j.b=O[g+2],j.c=O[g+3],g+=4,L&&(E=O[g++],k.materialIndex=E,j.materialIndex=E),v=n.faces.length,P)for(m=0;m<_;m++)for(K=e.uvs[m],n.faceVertexUvs[m][v]=[],n.faceVertexUvs[m][v+1]=[],p=0;p<4;p++)M=O[g++],ie=K[M*2],fe=K[M*2+1],oe=new t.Vector2(ie,fe),p!==2&&n.faceVertexUvs[m][v].push(oe),p!==0&&n.faceVertexUvs[m][v+1].push(oe);if(R&&(w=O[g++]*3,k.normal.set(H[w++],H[w++],H[w]),j.normal.copy(k.normal)),B)for(m=0;m<4;m++)w=O[g++]*3,Z=new t.Vector3(H[w++],H[w++],H[w]),m!==2&&k.vertexNormals.push(Z),m!==0&&j.vertexNormals.push(Z);if(V&&(x=O[g++],$=q[x],k.color.setHex($),j.color.setHex($)),z)for(m=0;m<4;m++)x=O[g++],$=q[x],m!==2&&k.vertexColors.push(new t.Color($)),m!==0&&j.vertexColors.push(new t.Color($));n.faces.push(k),n.faces.push(j)}else{if(G=new t.Face3,G.a=O[g++],G.b=O[g++],G.c=O[g++],L&&(E=O[g++],G.materialIndex=E),v=n.faces.length,P)for(m=0;m<_;m++)for(K=e.uvs[m],n.faceVertexUvs[m][v]=[],p=0;p<3;p++)M=O[g++],ie=K[M*2],fe=K[M*2+1],oe=new t.Vector2(ie,fe),n.faceVertexUvs[m][v].push(oe);if(R&&(w=O[g++]*3,G.normal.set(H[w++],H[w++],H[w])),B)for(m=0;m<3;m++)w=O[g++]*3,Z=new t.Vector3(H[w++],H[w++],H[w]),G.vertexNormals.push(Z);if(V&&(x=O[g++],G.color.setHex(q[x])),z)for(m=0;m<3;m++)x=O[g++],G.vertexColors.push(new t.Color(q[x]));n.faces.push(G)}}function s(){var h=e.influencesPerVertex!==void 0?e.influencesPerVertex:2;if(e.skinWeights)for(var d=0,m=e.skinWeights.length;d<m;d+=h){var p=e.skinWeights[d],v=h>1?e.skinWeights[d+1]:0,g=h>2?e.skinWeights[d+2]:0,y=h>3?e.skinWeights[d+3]:0;n.skinWeights.push(new t.Vector4(p,v,g,y))}if(e.skinIndices)for(var d=0,m=e.skinIndices.length;d<m;d+=h){var x=e.skinIndices[d],w=h>1?e.skinIndices[d+1]:0,M=h>2?e.skinIndices[d+2]:0,E=h>3?e.skinIndices[d+3]:0;n.skinIndices.push(new t.Vector4(x,w,M,E))}n.bones=e.bones,n.bones&&n.bones.length>0&&(n.skinWeights.length!==n.skinIndices.length||n.skinIndices.length!==n.vertices.length)&&console.warn("When skinning, number of vertices ("+n.vertices.length+"), skinIndices ("+n.skinIndices.length+"), and skinWeights ("+n.skinWeights.length+") should match.")}function c(h){if(e.morphTargets!==void 0)for(var d=0,m=e.morphTargets.length;d<m;d++){n.morphTargets[d]={},n.morphTargets[d].name=e.morphTargets[d].name,n.morphTargets[d].vertices=[];for(var p=n.morphTargets[d].vertices,v=e.morphTargets[d].vertices,g=0,y=v.length;g<y;g+=3){var x=new t.Vector3;x.x=v[g]*h,x.y=v[g+1]*h,x.z=v[g+2]*h,p.push(x)}}if(e.morphColors!==void 0&&e.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');for(var w=n.faces,M=e.morphColors[0].colors,d=0,m=w.length;d<m;d++)w[d].color.fromArray(M,d*3)}}function u(){var h=[],d=[];e.animation!==void 0&&d.push(e.animation),e.animations!==void 0&&(e.animations.length?d=d.concat(e.animations):d.push(e.animations));for(var m=0;m<d.length;m++){var p=t.AnimationClip.parseAnimation(d[m],n.bones);p&&h.push(p)}if(n.morphTargets){var v=t.AnimationClip.CreateClipsFromMorphTargetSequences(n.morphTargets,10);h=h.concat(v)}h.length>0&&(n.animations=h)}if(e.materials===void 0||e.materials.length===0)return{geometry:n};var f=t.Loader.prototype.initMaterials(e.materials,r,this.crossOrigin);return{geometry:n,materials:f}}},t.LoadingManager=function(e,r,n){var i=this,a=!1,s=0,c=0;this.onStart=void 0,this.onLoad=e,this.onProgress=r,this.onError=n,this.itemStart=function(u){c++,a===!1&&i.onStart!==void 0&&i.onStart(u,s,c),a=!0},this.itemEnd=function(u){s++,i.onProgress!==void 0&&i.onProgress(u,s,c),s===c&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)}},t.DefaultLoadingManager=new t.LoadingManager,t.BufferGeometryLoader=function(e){this.manager=e!==void 0?e:t.DefaultLoadingManager},t.BufferGeometryLoader.prototype={constructor:t.BufferGeometryLoader,load:function(e,r,n,i){var a=this,s=new t.XHRLoader(a.manager);s.load(e,function(c){r(a.parse(JSON.parse(c)))},n,i)},parse:function(e){var r=new t.BufferGeometry,n=e.data.index,i={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};if(n!==void 0){var a=new i[n.type](n.array);r.setIndex(new t.BufferAttribute(a,1))}var s=e.data.attributes;for(var c in s){var u=s[c],a=new i[u.type](u.array);r.addAttribute(c,new t.BufferAttribute(a,u.itemSize))}var f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(var h=0,d=f.length;h!==d;++h){var m=f[h];r.addGroup(m.start,m.count,m.materialIndex)}var p=e.data.boundingSphere;if(p!==void 0){var v=new t.Vector3;p.center!==void 0&&v.fromArray(p.center),r.boundingSphere=new t.Sphere(v,p.radius)}return r}},t.MaterialLoader=function(e){this.manager=e!==void 0?e:t.DefaultLoadingManager,this.textures={}},t.MaterialLoader.prototype={constructor:t.MaterialLoader,load:function(e,r,n,i){var a=this,s=new t.XHRLoader(a.manager);s.load(e,function(c){r(a.parse(JSON.parse(c)))},n,i)},setTextures:function(e){this.textures=e},getTexture:function(e){var r=this.textures;return r[e]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",e),r[e]},parse:function(e){var r=new t[e.type];if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular.setHex(e.specular),e.shininess!==void 0&&(r.shininess=e.shininess),e.uniforms!==void 0&&(r.uniforms=e.uniforms),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.vertexColors!==void 0&&(r.vertexColors=e.vertexColors),e.shading!==void 0&&(r.shading=e.shading),e.blending!==void 0&&(r.blending=e.blending),e.side!==void 0&&(r.side=e.side),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=this.getTexture(e.map)),e.alphaMap!==void 0&&(r.alphaMap=this.getTexture(e.alphaMap),r.transparent=!0),e.bumpMap!==void 0&&(r.bumpMap=this.getTexture(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=this.getTexture(e.normalMap)),e.normalScale!==void 0){var n=e.normalScale;Array.isArray(n)===!1&&(n=[n,n]),r.normalScale=new t.Vector2().fromArray(n)}if(e.displacementMap!==void 0&&(r.displacementMap=this.getTexture(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=this.getTexture(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=this.getTexture(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=this.getTexture(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=this.getTexture(e.specularMap)),e.envMap!==void 0&&(r.envMap=this.getTexture(e.envMap),r.combine=t.MultiplyOperation),e.reflectivity&&(r.reflectivity=e.reflectivity),e.lightMap!==void 0&&(r.lightMap=this.getTexture(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=this.getTexture(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.materials!==void 0)for(var i=0,a=e.materials.length;i<a;i++)r.materials.push(this.parse(e.materials[i]));return r}},t.ObjectLoader=function(e){this.manager=e!==void 0?e:t.DefaultLoadingManager,this.texturePath=""},t.ObjectLoader.prototype={constructor:t.ObjectLoader,load:function(e,r,n,i){this.texturePath===""&&(this.texturePath=e.substring(0,e.lastIndexOf("/")+1));var a=this,s=new t.XHRLoader(a.manager);s.load(e,function(c){a.parse(JSON.parse(c),r)},n,i)},setTexturePath:function(e){this.texturePath=e},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,r){var n=this.parseGeometries(e.geometries),i=this.parseImages(e.images,function(){r!==void 0&&r(c)}),a=this.parseTextures(e.textures,i),s=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,n,s);return e.animations&&(c.animations=this.parseAnimations(e.animations)),(e.images===void 0||e.images.length===0)&&r!==void 0&&r(c),c},parseGeometries:function(e){var r={};if(e!==void 0)for(var n=new t.JSONLoader,i=new t.BufferGeometryLoader,a=0,s=e.length;a<s;a++){var c,u=e[a];switch(u.type){case"PlaneGeometry":case"PlaneBufferGeometry":c=new t[u.type](u.width,u.height,u.widthSegments,u.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":c=new t[u.type](u.width,u.height,u.depth,u.widthSegments,u.heightSegments,u.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":c=new t[u.type](u.radius,u.segments,u.thetaStart,u.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":c=new t[u.type](u.radiusTop,u.radiusBottom,u.height,u.radialSegments,u.heightSegments,u.openEnded,u.thetaStart,u.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":c=new t[u.type](u.radius,u.widthSegments,u.heightSegments,u.phiStart,u.phiLength,u.thetaStart,u.thetaLength);break;case"DodecahedronGeometry":c=new t.DodecahedronGeometry(u.radius,u.detail);break;case"IcosahedronGeometry":c=new t.IcosahedronGeometry(u.radius,u.detail);break;case"OctahedronGeometry":c=new t.OctahedronGeometry(u.radius,u.detail);break;case"TetrahedronGeometry":c=new t.TetrahedronGeometry(u.radius,u.detail);break;case"RingGeometry":case"RingBufferGeometry":c=new t[u.type](u.innerRadius,u.outerRadius,u.thetaSegments,u.phiSegments,u.thetaStart,u.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":c=new t[u.type](u.radius,u.tube,u.radialSegments,u.tubularSegments,u.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":c=new t[u.type](u.radius,u.tube,u.tubularSegments,u.radialSegments,u.p,u.q);break;case"LatheGeometry":c=new t.LatheGeometry(u.points,u.segments,u.phiStart,u.phiLength);break;case"BufferGeometry":c=i.parse(u);break;case"Geometry":c=n.parse(u.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+u.type+'"');continue}c.uuid=u.uuid,u.name!==void 0&&(c.name=u.name),r[u.uuid]=c}return r},parseMaterials:function(e,r){var n={};if(e!==void 0){var i=new t.MaterialLoader;i.setTextures(r);for(var a=0,s=e.length;a<s;a++){var c=i.parse(e[a]);n[c.uuid]=c}}return n},parseAnimations:function(e){for(var r=[],n=0;n<e.length;n++){var i=t.AnimationClip.parse(e[n]);r.push(i)}return r},parseImages:function(e,r){var n=this,i={};function a(m){return n.manager.itemStart(m),c.load(m,function(){n.manager.itemEnd(m)})}if(e!==void 0&&e.length>0){var s=new t.LoadingManager(r),c=new t.ImageLoader(s);c.setCrossOrigin(this.crossOrigin);for(var u=0,f=e.length;u<f;u++){var h=e[u],d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h.url)?h.url:n.texturePath+h.url;i[h.uuid]=a(d)}}return i},parseTextures:function(e,r){function n(f){return typeof f=="number"?f:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",f),t[f])}var i={};if(e!==void 0)for(var a=0,s=e.length;a<s;a++){var c=e[a];c.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',c.uuid),r[c.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",c.image);var u=new t.Texture(r[c.image]);u.needsUpdate=!0,u.uuid=c.uuid,c.name!==void 0&&(u.name=c.name),c.mapping!==void 0&&(u.mapping=n(c.mapping)),c.offset!==void 0&&(u.offset=new t.Vector2(c.offset[0],c.offset[1])),c.repeat!==void 0&&(u.repeat=new t.Vector2(c.repeat[0],c.repeat[1])),c.minFilter!==void 0&&(u.minFilter=n(c.minFilter)),c.magFilter!==void 0&&(u.magFilter=n(c.magFilter)),c.anisotropy!==void 0&&(u.anisotropy=c.anisotropy),Array.isArray(c.wrap)&&(u.wrapS=n(c.wrap[0]),u.wrapT=n(c.wrap[1])),i[c.uuid]=u}return i},parseObject:function(){var e=new t.Matrix4;return function(r,n,i){var a;function s(v){return n[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",v),n[v]}function c(v){if(v!==void 0)return i[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),i[v]}switch(r.type){case"Scene":a=new t.Scene;break;case"PerspectiveCamera":a=new t.PerspectiveCamera(r.fov,r.aspect,r.near,r.far);break;case"OrthographicCamera":a=new t.OrthographicCamera(r.left,r.right,r.top,r.bottom,r.near,r.far);break;case"AmbientLight":a=new t.AmbientLight(r.color,r.intensity);break;case"DirectionalLight":a=new t.DirectionalLight(r.color,r.intensity);break;case"PointLight":a=new t.PointLight(r.color,r.intensity,r.distance,r.decay);break;case"SpotLight":a=new t.SpotLight(r.color,r.intensity,r.distance,r.angle,r.penumbra,r.decay);break;case"HemisphereLight":a=new t.HemisphereLight(r.color,r.groundColor,r.intensity);break;case"Mesh":var u=s(r.geometry),f=c(r.material);u.bones&&u.bones.length>0?a=new t.SkinnedMesh(u,f):a=new t.Mesh(u,f);break;case"LOD":a=new t.LOD;break;case"Line":a=new t.Line(s(r.geometry),c(r.material),r.mode);break;case"PointCloud":case"Points":a=new t.Points(s(r.geometry),c(r.material));break;case"Sprite":a=new t.Sprite(c(r.material));break;case"Group":a=new t.Group;break;default:a=new t.Object3D}if(a.uuid=r.uuid,r.name!==void 0&&(a.name=r.name),r.matrix!==void 0?(e.fromArray(r.matrix),e.decompose(a.position,a.quaternion,a.scale)):(r.position!==void 0&&a.position.fromArray(r.position),r.rotation!==void 0&&a.rotation.fromArray(r.rotation),r.scale!==void 0&&a.scale.fromArray(r.scale)),r.castShadow!==void 0&&(a.castShadow=r.castShadow),r.receiveShadow!==void 0&&(a.receiveShadow=r.receiveShadow),r.visible!==void 0&&(a.visible=r.visible),r.userData!==void 0&&(a.userData=r.userData),r.children!==void 0)for(var h in r.children)a.add(this.parseObject(r.children[h],n,i));if(r.type==="LOD")for(var d=r.levels,m=0;m<d.length;m++){var p=d[m],h=a.getObjectByProperty("uuid",p.object);h!==void 0&&a.addLevel(h,p.distance)}return a}}()},t.TextureLoader=function(e){this.manager=e!==void 0?e:t.DefaultLoadingManager},t.TextureLoader.prototype={constructor:t.TextureLoader,load:function(e,r,n,i){var a=new t.Texture,s=new t.ImageLoader(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(c){a.image=c,a.needsUpdate=!0,r!==void 0&&r(a)},n,i),a},setCrossOrigin:function(e){this.crossOrigin=e},setPath:function(e){this.path=e}},t.CubeTextureLoader=function(e){this.manager=e!==void 0?e:t.DefaultLoadingManager},t.CubeTextureLoader.prototype={constructor:t.CubeTextureLoader,load:function(e,r,n,i){var a=new t.CubeTexture,s=new t.ImageLoader(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);var c=0;function u(h){s.load(e[h],function(d){a.images[h]=d,c++,c===6&&(a.needsUpdate=!0,r&&r(a))},void 0,i)}for(var f=0;f<e.length;++f)u(f);return a},setCrossOrigin:function(e){this.crossOrigin=e},setPath:function(e){this.path=e}},t.DataTextureLoader=t.BinaryTextureLoader=function(e){this.manager=e!==void 0?e:t.DefaultLoadingManager,this._parser=null},t.BinaryTextureLoader.prototype={constructor:t.BinaryTextureLoader,load:function(e,r,n,i){var a=this,s=new t.DataTexture,c=new t.XHRLoader(this.manager);return c.setResponseType("arraybuffer"),c.load(e,function(u){var f=a._parser(u);!f||(f.image!==void 0?s.image=f.image:f.data!==void 0&&(s.image.width=f.width,s.image.height=f.height,s.image.data=f.data),s.wrapS=f.wrapS!==void 0?f.wrapS:t.ClampToEdgeWrapping,s.wrapT=f.wrapT!==void 0?f.wrapT:t.ClampToEdgeWrapping,s.magFilter=f.magFilter!==void 0?f.magFilter:t.LinearFilter,s.minFilter=f.minFilter!==void 0?f.minFilter:t.LinearMipMapLinearFilter,s.anisotropy=f.anisotropy!==void 0?f.anisotropy:1,f.format!==void 0&&(s.format=f.format),f.type!==void 0&&(s.type=f.type),f.mipmaps!==void 0&&(s.mipmaps=f.mipmaps),f.mipmapCount===1&&(s.minFilter=t.LinearFilter),s.needsUpdate=!0,r&&r(s,f))},n,i),s}},t.CompressedTextureLoader=function(e){this.manager=e!==void 0?e:t.DefaultLoadingManager,this._parser=null},t.CompressedTextureLoader.prototype={constructor:t.CompressedTextureLoader,load:function(e,r,n,i){var a=this,s=[],c=new t.CompressedTexture;c.image=s;var u=new t.XHRLoader(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer");function f(p){u.load(e[p],function(v){var g=a._parser(v,!0);s[p]={width:g.width,height:g.height,format:g.format,mipmaps:g.mipmaps},h+=1,h===6&&(g.mipmapCount===1&&(c.minFilter=t.LinearFilter),c.format=g.format,c.needsUpdate=!0,r&&r(c))},n,i)}if(Array.isArray(e))for(var h=0,d=0,m=e.length;d<m;++d)f(d);else u.load(e,function(p){var v=a._parser(p,!0);if(v.isCubemap)for(var g=v.mipmaps.length/v.mipmapCount,y=0;y<g;y++){s[y]={mipmaps:[]};for(var x=0;x<v.mipmapCount;x++)s[y].mipmaps.push(v.mipmaps[y*v.mipmapCount+x]),s[y].format=v.format,s[y].width=v.width,s[y].height=v.height}else c.image.width=v.width,c.image.height=v.height,c.mipmaps=v.mipmaps;v.mipmapCount===1&&(c.minFilter=t.LinearFilter),c.format=v.format,c.needsUpdate=!0,r&&r(c)},n,i);return c},setPath:function(e){this.path=e}},t.Material=function(){Object.defineProperty(this,"id",{value:t.MaterialIdCount++}),this.uuid=t.Math.generateUUID(),this.name="",this.type="Material",this.side=t.FrontSide,this.opacity=1,this.transparent=!1,this.blending=t.NormalBlending,this.blendSrc=t.SrcAlphaFactor,this.blendDst=t.OneMinusSrcAlphaFactor,this.blendEquation=t.AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=t.LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this._needsUpdate=!0},t.Material.prototype={constructor:t.Material,get needsUpdate(){return this._needsUpdate},set needsUpdate(e){e===!0&&this.update(),this._needsUpdate=e},setValues:function(e){if(e!==void 0)for(var r in e){var n=e[r];if(n===void 0){console.warn("THREE.Material: '"+r+"' parameter is undefined.");continue}var i=this[r];if(i===void 0){console.warn("THREE."+this.type+": '"+r+"' is not a property of this material.");continue}i instanceof t.Color?i.set(n):i instanceof t.Vector3&&n instanceof t.Vector3?i.copy(n):r==="overdraw"?this[r]=Number(n):this[r]=n}},toJSON:function(e){var r=e===void 0;r&&(e={textures:{},images:{}});var n={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color instanceof t.Color&&(n.color=this.color.getHex()),this.roughness!==.5&&(n.roughness=this.roughness),this.metalness!==.5&&(n.metalness=this.metalness),this.emissive instanceof t.Color&&(n.emissive=this.emissive.getHex()),this.specular instanceof t.Color&&(n.specular=this.specular.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.map instanceof t.Texture&&(n.map=this.map.toJSON(e).uuid),this.alphaMap instanceof t.Texture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap instanceof t.Texture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.bumpMap instanceof t.Texture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap instanceof t.Texture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalScale=this.normalScale.toArray()),this.displacementMap instanceof t.Texture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap instanceof t.Texture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap instanceof t.Texture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap instanceof t.Texture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap instanceof t.Texture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap instanceof t.Texture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity),this.size!==void 0&&(n.size=this.size),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.vertexColors!==void 0&&this.vertexColors!==t.NoColors&&(n.vertexColors=this.vertexColors),this.shading!==void 0&&this.shading!==t.SmoothShading&&(n.shading=this.shading),this.blending!==void 0&&this.blending!==t.NormalBlending&&(n.blending=this.blending),this.side!==void 0&&this.side!==t.FrontSide&&(n.side=this.side),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth);function i(c){var u=[];for(var f in c){var h=c[f];delete h.metadata,u.push(h)}return u}if(r){var a=i(e.textures),s=i(e.images);a.length>0&&(n.textures=a),s.length>0&&(n.images=s)}return n},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.name=e.name,this.side=e.side,this.opacity=e.opacity,this.transparent=e.transparent,this.blending=e.blending,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.overdraw=e.overdraw,this.visible=e.visible,this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},t.EventDispatcher.prototype.apply(t.Material.prototype),t.MaterialIdCount=0,t.LineBasicMaterial=function(e){t.Material.call(this),this.type="LineBasicMaterial",this.color=new t.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.blending=t.NormalBlending,this.vertexColors=t.NoColors,this.fog=!0,this.setValues(e)},t.LineBasicMaterial.prototype=Object.create(t.Material.prototype),t.LineBasicMaterial.prototype.constructor=t.LineBasicMaterial,t.LineBasicMaterial.prototype.copy=function(e){return t.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.vertexColors=e.vertexColors,this.fog=e.fog,this},t.LineDashedMaterial=function(e){t.Material.call(this),this.type="LineDashedMaterial",this.color=new t.Color(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.blending=t.NormalBlending,this.vertexColors=t.NoColors,this.fog=!0,this.setValues(e)},t.LineDashedMaterial.prototype=Object.create(t.Material.prototype),t.LineDashedMaterial.prototype.constructor=t.LineDashedMaterial,t.LineDashedMaterial.prototype.copy=function(e){return t.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this.vertexColors=e.vertexColors,this.fog=e.fog,this},t.MeshBasicMaterial=function(e){t.Material.call(this),this.type="MeshBasicMaterial",this.color=new t.Color(16777215),this.map=null,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=t.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=t.SmoothShading,this.blending=t.NormalBlending,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=t.NoColors,this.skinning=!1,this.morphTargets=!1,this.setValues(e)},t.MeshBasicMaterial.prototype=Object.create(t.Material.prototype),t.MeshBasicMaterial.prototype.constructor=t.MeshBasicMaterial,t.MeshBasicMaterial.prototype.copy=function(e){return t.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.fog=e.fog,this.shading=e.shading,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.vertexColors=e.vertexColors,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},t.MeshLambertMaterial=function(e){t.Material.call(this),this.type="MeshLambertMaterial",this.color=new t.Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new t.Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=t.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.blending=t.NormalBlending,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=t.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)},t.MeshLambertMaterial.prototype=Object.create(t.Material.prototype),t.MeshLambertMaterial.prototype.constructor=t.MeshLambertMaterial,t.MeshLambertMaterial.prototype.copy=function(e){return t.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.fog=e.fog,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.vertexColors=e.vertexColors,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},t.MeshPhongMaterial=function(e){t.Material.call(this),this.type="MeshPhongMaterial",this.color=new t.Color(16777215),this.specular=new t.Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new t.Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new t.Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=t.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=t.SmoothShading,this.blending=t.NormalBlending,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=t.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)},t.MeshPhongMaterial.prototype=Object.create(t.Material.prototype),t.MeshPhongMaterial.prototype.constructor=t.MeshPhongMaterial,t.MeshPhongMaterial.prototype.copy=function(e){return t.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.fog=e.fog,this.shading=e.shading,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.vertexColors=e.vertexColors,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},t.MeshStandardMaterial=function(e){t.Material.call(this),this.type="MeshStandardMaterial",this.color=new t.Color(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new t.Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new t.Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.fog=!0,this.shading=t.SmoothShading,this.blending=t.NormalBlending,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=t.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)},t.MeshStandardMaterial.prototype=Object.create(t.Material.prototype),t.MeshStandardMaterial.prototype.constructor=t.MeshStandardMaterial,t.MeshStandardMaterial.prototype.copy=function(e){return t.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.fog=e.fog,this.shading=e.shading,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.vertexColors=e.vertexColors,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},t.MeshDepthMaterial=function(e){t.Material.call(this),this.type="MeshDepthMaterial",this.morphTargets=!1,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)},t.MeshDepthMaterial.prototype=Object.create(t.Material.prototype),t.MeshDepthMaterial.prototype.constructor=t.MeshDepthMaterial,t.MeshDepthMaterial.prototype.copy=function(e){return t.Material.prototype.copy.call(this,e),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},t.MeshNormalMaterial=function(e){t.Material.call(this,e),this.type="MeshNormalMaterial",this.wireframe=!1,this.wireframeLinewidth=1,this.morphTargets=!1,this.setValues(e)},t.MeshNormalMaterial.prototype=Object.create(t.Material.prototype),t.MeshNormalMaterial.prototype.constructor=t.MeshNormalMaterial,t.MeshNormalMaterial.prototype.copy=function(e){return t.Material.prototype.copy.call(this,e),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},t.MultiMaterial=function(e){this.uuid=t.Math.generateUUID(),this.type="MultiMaterial",this.materials=e instanceof Array?e:[],this.visible=!0},t.MultiMaterial.prototype={constructor:t.MultiMaterial,toJSON:function(e){for(var r={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},n=this.materials,i=0,a=n.length;i<a;i++){var s=n[i].toJSON(e);delete s.metadata,r.materials.push(s)}return r.visible=this.visible,r},clone:function(){for(var e=new this.constructor,r=0;r<this.materials.length;r++)e.materials.push(this.materials[r].clone());return e.visible=this.visible,e}},t.PointsMaterial=function(e){t.Material.call(this),this.type="PointsMaterial",this.color=new t.Color(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.blending=t.NormalBlending,this.vertexColors=t.NoColors,this.fog=!0,this.setValues(e)},t.PointsMaterial.prototype=Object.create(t.Material.prototype),t.PointsMaterial.prototype.constructor=t.PointsMaterial,t.PointsMaterial.prototype.copy=function(e){return t.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.vertexColors=e.vertexColors,this.fog=e.fog,this},t.ShaderMaterial=function(e){t.Material.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,this.fragmentShader=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,this.shading=t.SmoothShading,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.vertexColors=t.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))},t.ShaderMaterial.prototype=Object.create(t.Material.prototype),t.ShaderMaterial.prototype.constructor=t.ShaderMaterial,t.ShaderMaterial.prototype.copy=function(e){return t.Material.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=t.UniformsUtils.clone(e.uniforms),this.defines=e.defines,this.shading=e.shading,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.vertexColors=e.vertexColors,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},t.ShaderMaterial.prototype.toJSON=function(e){var r=t.Material.prototype.toJSON.call(this,e);return r.uniforms=this.uniforms,r.vertexShader=this.vertexShader,r.fragmentShader=this.fragmentShader,r},t.RawShaderMaterial=function(e){t.ShaderMaterial.call(this,e),this.type="RawShaderMaterial"},t.RawShaderMaterial.prototype=Object.create(t.ShaderMaterial.prototype),t.RawShaderMaterial.prototype.constructor=t.RawShaderMaterial,t.SpriteMaterial=function(e){t.Material.call(this),this.type="SpriteMaterial",this.color=new t.Color(16777215),this.map=null,this.rotation=0,this.fog=!1,this.setValues(e)},t.SpriteMaterial.prototype=Object.create(t.Material.prototype),t.SpriteMaterial.prototype.constructor=t.SpriteMaterial,t.SpriteMaterial.prototype.copy=function(e){return t.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this.fog=e.fog,this},t.Texture=function(e,r,n,i,a,s,c,u,f){Object.defineProperty(this,"id",{value:t.TextureIdCount++}),this.uuid=t.Math.generateUUID(),this.name="",this.sourceFile="",this.image=e!==void 0?e:t.Texture.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=r!==void 0?r:t.Texture.DEFAULT_MAPPING,this.wrapS=n!==void 0?n:t.ClampToEdgeWrapping,this.wrapT=i!==void 0?i:t.ClampToEdgeWrapping,this.magFilter=a!==void 0?a:t.LinearFilter,this.minFilter=s!==void 0?s:t.LinearMipMapLinearFilter,this.anisotropy=f!==void 0?f:1,this.format=c!==void 0?c:t.RGBAFormat,this.type=u!==void 0?u:t.UnsignedByteType,this.offset=new t.Vector2(0,0),this.repeat=new t.Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=t.LinearEncoding,this.version=0,this.onUpdate=null},t.Texture.DEFAULT_IMAGE=void 0,t.Texture.DEFAULT_MAPPING=t.UVMapping,t.Texture.prototype={constructor:t.Texture,set needsUpdate(e){e===!0&&this.version++},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){if(e.textures[this.uuid]!==void 0)return e.textures[this.uuid];function r(a){var s;return a.toDataURL!==void 0?s=a:(s=document.createElement("canvas"),s.width=a.width,s.height=a.height,s.getContext("2d").drawImage(a,0,0,a.width,a.height)),s.width>2048||s.height>2048?s.toDataURL("image/jpeg",.6):s.toDataURL("image/png")}var n={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy};if(this.image!==void 0){var i=this.image;i.uuid===void 0&&(i.uuid=t.Math.generateUUID()),e.images[i.uuid]===void 0&&(e.images[i.uuid]={uuid:i.uuid,url:r(i)}),n.image=i.uuid}return e.textures[this.uuid]=n,n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping===t.UVMapping){if(e.multiply(this.repeat),e.add(this.offset),e.x<0||e.x>1)switch(this.wrapS){case t.RepeatWrapping:e.x=e.x-Math.floor(e.x);break;case t.ClampToEdgeWrapping:e.x=e.x<0?0:1;break;case t.MirroredRepeatWrapping:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case t.RepeatWrapping:e.y=e.y-Math.floor(e.y);break;case t.ClampToEdgeWrapping:e.y=e.y<0?0:1;break;case t.MirroredRepeatWrapping:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}this.flipY&&(e.y=1-e.y)}}},t.EventDispatcher.prototype.apply(t.Texture.prototype),t.TextureIdCount=0,t.CanvasTexture=function(e,r,n,i,a,s,c,u,f){t.Texture.call(this,e,r,n,i,a,s,c,u,f),this.needsUpdate=!0},t.CanvasTexture.prototype=Object.create(t.Texture.prototype),t.CanvasTexture.prototype.constructor=t.CanvasTexture,t.CubeTexture=function(e,r,n,i,a,s,c,u,f){e=e!==void 0?e:[],r=r!==void 0?r:t.CubeReflectionMapping,t.Texture.call(this,e,r,n,i,a,s,c,u,f),this.flipY=!1},t.CubeTexture.prototype=Object.create(t.Texture.prototype),t.CubeTexture.prototype.constructor=t.CubeTexture,Object.defineProperty(t.CubeTexture.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),t.CompressedTexture=function(e,r,n,i,a,s,c,u,f,h,d){t.Texture.call(this,null,s,c,u,f,h,i,a,d),this.image={width:r,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1},t.CompressedTexture.prototype=Object.create(t.Texture.prototype),t.CompressedTexture.prototype.constructor=t.CompressedTexture,t.DataTexture=function(e,r,n,i,a,s,c,u,f,h,d){t.Texture.call(this,null,s,c,u,f,h,i,a,d),this.image={data:e,width:r,height:n},this.magFilter=f!==void 0?f:t.NearestFilter,this.minFilter=h!==void 0?h:t.NearestFilter,this.flipY=!1,this.generateMipmaps=!1},t.DataTexture.prototype=Object.create(t.Texture.prototype),t.DataTexture.prototype.constructor=t.DataTexture,t.VideoTexture=function(e,r,n,i,a,s,c,u,f){t.Texture.call(this,e,r,n,i,a,s,c,u,f),this.generateMipmaps=!1;var h=this;function d(){requestAnimationFrame(d),e.readyState===e.HAVE_ENOUGH_DATA&&(h.needsUpdate=!0)}d()},t.VideoTexture.prototype=Object.create(t.Texture.prototype),t.VideoTexture.prototype.constructor=t.VideoTexture,t.Group=function(){t.Object3D.call(this),this.type="Group"},t.Group.prototype=Object.create(t.Object3D.prototype),t.Group.prototype.constructor=t.Group,t.Points=function(e,r){t.Object3D.call(this),this.type="Points",this.geometry=e!==void 0?e:new t.Geometry,this.material=r!==void 0?r:new t.PointsMaterial({color:Math.random()*16777215})},t.Points.prototype=Object.create(t.Object3D.prototype),t.Points.prototype.constructor=t.Points,t.Points.prototype.raycast=function(){var e=new t.Matrix4,r=new t.Ray,n=new t.Sphere;return function(a,s){var c=this,u=this.geometry,f=this.matrixWorld,h=a.params.Points.threshold;if(u.boundingSphere===null&&u.computeBoundingSphere(),n.copy(u.boundingSphere),n.applyMatrix4(f),a.ray.intersectsSphere(n)===!1)return;e.getInverse(f),r.copy(a.ray).applyMatrix4(e);var d=h/((this.scale.x+this.scale.y+this.scale.z)/3),m=d*d,p=new t.Vector3;function v(P,R){var B=r.distanceSqToPoint(P);if(B<m){var V=r.closestPointToPoint(P);V.applyMatrix4(f);var z=a.ray.origin.distanceTo(V);if(z<a.near||z>a.far)return;s.push({distance:z,distanceToRay:Math.sqrt(B),point:V.clone(),index:R,face:null,object:c})}}if(u instanceof t.BufferGeometry){var g=u.index,y=u.attributes,x=y.position.array;if(g!==null)for(var w=g.array,M=0,E=w.length;M<E;M++){var T=w[M];p.fromArray(x,T*3),v(p,T)}else for(var M=0,S=x.length/3;M<S;M++)p.fromArray(x,M*3),v(p,M)}else for(var L=u.vertices,M=0,S=L.length;M<S;M++)v(L[M],M)}}(),t.Points.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)},t.Line=function(e,r,n){if(n===1)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new t.LineSegments(e,r);t.Object3D.call(this),this.type="Line",this.geometry=e!==void 0?e:new t.Geometry,this.material=r!==void 0?r:new t.LineBasicMaterial({color:Math.random()*16777215})},t.Line.prototype=Object.create(t.Object3D.prototype),t.Line.prototype.constructor=t.Line,t.Line.prototype.raycast=function(){var e=new t.Matrix4,r=new t.Ray,n=new t.Sphere;return function(a,s){var c=a.linePrecision,u=c*c,f=this.geometry,h=this.matrixWorld;if(f.boundingSphere===null&&f.computeBoundingSphere(),n.copy(f.boundingSphere),n.applyMatrix4(h),a.ray.intersectsSphere(n)!==!1){e.getInverse(h),r.copy(a.ray).applyMatrix4(e);var d=new t.Vector3,m=new t.Vector3,p=new t.Vector3,v=new t.Vector3,g=this instanceof t.LineSegments?2:1;if(f instanceof t.BufferGeometry){var y=f.index,x=f.attributes,w=x.position.array;if(y!==null)for(var M=y.array,E=0,T=M.length-1;E<T;E+=g){var S=M[E],L=M[E+1];d.fromArray(w,S*3),m.fromArray(w,L*3);var P=r.distanceSqToSegment(d,m,v,p);if(!(P>u)){v.applyMatrix4(this.matrixWorld);var R=a.ray.origin.distanceTo(v);R<a.near||R>a.far||s.push({distance:R,point:p.clone().applyMatrix4(this.matrixWorld),index:E,face:null,faceIndex:null,object:this})}}else for(var E=0,T=w.length/3-1;E<T;E+=g){d.fromArray(w,3*E),m.fromArray(w,3*E+3);var P=r.distanceSqToSegment(d,m,v,p);if(!(P>u)){v.applyMatrix4(this.matrixWorld);var R=a.ray.origin.distanceTo(v);R<a.near||R>a.far||s.push({distance:R,point:p.clone().applyMatrix4(this.matrixWorld),index:E,face:null,faceIndex:null,object:this})}}}else if(f instanceof t.Geometry)for(var B=f.vertices,V=B.length,E=0;E<V-1;E+=g){var P=r.distanceSqToSegment(B[E],B[E+1],v,p);if(!(P>u)){v.applyMatrix4(this.matrixWorld);var R=a.ray.origin.distanceTo(v);R<a.near||R>a.far||s.push({distance:R,point:p.clone().applyMatrix4(this.matrixWorld),index:E,face:null,faceIndex:null,object:this})}}}}}(),t.Line.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)},t.LineStrip=0,t.LinePieces=1,t.LineSegments=function(e,r){t.Line.call(this,e,r),this.type="LineSegments"},t.LineSegments.prototype=Object.create(t.Line.prototype),t.LineSegments.prototype.constructor=t.LineSegments,t.Mesh=function(e,r){t.Object3D.call(this),this.type="Mesh",this.geometry=e!==void 0?e:new t.Geometry,this.material=r!==void 0?r:new t.MeshBasicMaterial({color:Math.random()*16777215}),this.drawMode=t.TrianglesDrawMode,this.updateMorphTargets()},t.Mesh.prototype=Object.create(t.Object3D.prototype),t.Mesh.prototype.constructor=t.Mesh,t.Mesh.prototype.setDrawMode=function(e){this.drawMode=e},t.Mesh.prototype.updateMorphTargets=function(){if(this.geometry.morphTargets!==void 0&&this.geometry.morphTargets.length>0){this.morphTargetBase=-1,this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,r=this.geometry.morphTargets.length;e<r;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[e].name]=e}},t.Mesh.prototype.getMorphTargetIndexByName=function(e){return this.morphTargetDictionary[e]!==void 0?this.morphTargetDictionary[e]:(console.warn("THREE.Mesh.getMorphTargetIndexByName: morph target "+e+" does not exist. Returning 0."),0)},t.Mesh.prototype.raycast=function(){var e=new t.Matrix4,r=new t.Ray,n=new t.Sphere,i=new t.Vector3,a=new t.Vector3,s=new t.Vector3,c=new t.Vector3,u=new t.Vector3,f=new t.Vector3,h=new t.Vector2,d=new t.Vector2,m=new t.Vector2,p=new t.Vector3,v=new t.Vector3,g=new t.Vector3;function y(M,E,T,S,L,P,R){return t.Triangle.barycoordFromPoint(M,E,T,S,p),L.multiplyScalar(p.x),P.multiplyScalar(p.y),R.multiplyScalar(p.z),L.add(P).add(R),L.clone()}function x(M,E,T,S,L,P,R){var B,V=M.material;if(V.side===t.BackSide?B=T.intersectTriangle(P,L,S,!0,R):B=T.intersectTriangle(S,L,P,V.side!==t.DoubleSide,R),B===null)return null;g.copy(R),g.applyMatrix4(M.matrixWorld);var z=E.ray.origin.distanceTo(g);return z<E.near||z>E.far?null:{distance:z,point:g.clone(),object:M}}function w(M,E,T,S,L,P,R,B){i.fromArray(S,P*3),a.fromArray(S,R*3),s.fromArray(S,B*3);var V=x(M,E,T,i,a,s,v);return V&&(L&&(h.fromArray(L,P*2),d.fromArray(L,R*2),m.fromArray(L,B*2),V.uv=y(v,i,a,s,h,d,m)),V.face=new t.Face3(P,R,B,t.Triangle.normal(i,a,s)),V.faceIndex=P),V}return function(E,T){var S=this.geometry,L=this.material,P=this.matrixWorld;if(L!==void 0&&(S.boundingSphere===null&&S.computeBoundingSphere(),n.copy(S.boundingSphere),n.applyMatrix4(P),E.ray.intersectsSphere(n)!==!1&&(e.getInverse(P),r.copy(E.ray).applyMatrix4(e),!(S.boundingBox!==null&&r.intersectsBox(S.boundingBox)===!1)))){var R,B;if(S instanceof t.BufferGeometry){var V,z,X,G=S.index,k=S.attributes,j=k.position.array;if(k.uv!==void 0&&(R=k.uv.array),G!==null)for(var $=G.array,Z=0,K=$.length;Z<K;Z+=3)V=$[Z],z=$[Z+1],X=$[Z+2],B=w(this,E,r,j,R,V,z,X),B&&(B.faceIndex=Math.floor(Z/3),T.push(B));else for(var Z=0,K=j.length;Z<K;Z+=9)V=Z/3,z=V+1,X=V+2,B=w(this,E,r,j,R,V,z,X),B&&(B.index=V,T.push(B))}else if(S instanceof t.Geometry){var oe,ie,fe,O=L instanceof t.MultiMaterial,I=O===!0?L.materials:null,H=S.vertices,q=S.faces,_=S.faceVertexUvs[0];_.length>0&&(R=_);for(var ae=0,J=q.length;ae<J;ae++){var ce=q[ae],C=O===!0?I[ce.materialIndex]:L;if(C!==void 0){if(oe=H[ce.a],ie=H[ce.b],fe=H[ce.c],C.morphTargets===!0){var F=S.morphTargets,Y=this.morphTargetInfluences;i.set(0,0,0),a.set(0,0,0),s.set(0,0,0);for(var ee=0,Q=F.length;ee<Q;ee++){var le=Y[ee];if(le!==0){var me=F[ee].vertices;i.addScaledVector(c.subVectors(me[ce.a],oe),le),a.addScaledVector(u.subVectors(me[ce.b],ie),le),s.addScaledVector(f.subVectors(me[ce.c],fe),le)}}i.add(oe),a.add(ie),s.add(fe),oe=i,ie=a,fe=s}if(B=x(this,E,r,oe,ie,fe,v),B){if(R){var te=R[ae];h.copy(te[0]),d.copy(te[1]),m.copy(te[2]),B.uv=y(v,oe,ie,fe,h,d,m)}B.face=ce,B.faceIndex=ae,T.push(B)}}}}}}}(),t.Mesh.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)},t.Bone=function(e){t.Object3D.call(this),this.type="Bone",this.skin=e},t.Bone.prototype=Object.create(t.Object3D.prototype),t.Bone.prototype.constructor=t.Bone,t.Bone.prototype.copy=function(e){return t.Object3D.prototype.copy.call(this,e),this.skin=e.skin,this},t.Skeleton=function(e,r,n){if(this.useVertexTexture=n!==void 0?n:!0,this.identityMatrix=new t.Matrix4,e=e||[],this.bones=e.slice(0),this.useVertexTexture){var i=Math.sqrt(this.bones.length*4);i=t.Math.nextPowerOfTwo(Math.ceil(i)),i=Math.max(i,4),this.boneTextureWidth=i,this.boneTextureHeight=i,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new t.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,t.RGBAFormat,t.FloatType)}else this.boneMatrices=new Float32Array(16*this.bones.length);if(r===void 0)this.calculateInverses();else if(this.bones.length===r.length)this.boneInverses=r.slice(0);else{console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[];for(var a=0,s=this.bones.length;a<s;a++)this.boneInverses.push(new t.Matrix4)}},t.Skeleton.prototype.calculateInverses=function(){this.boneInverses=[];for(var e=0,r=this.bones.length;e<r;e++){var n=new t.Matrix4;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},t.Skeleton.prototype.pose=function(){for(var e,r=0,n=this.bones.length;r<n;r++)e=this.bones[r],e&&e.matrixWorld.getInverse(this.boneInverses[r]);for(var r=0,n=this.bones.length;r<n;r++)e=this.bones[r],e&&(e.parent?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},t.Skeleton.prototype.update=function(){var e=new t.Matrix4;return function(){for(var n=0,i=this.bones.length;n<i;n++){var a=this.bones[n]?this.bones[n].matrixWorld:this.identityMatrix;e.multiplyMatrices(a,this.boneInverses[n]),e.flattenToArrayOffset(this.boneMatrices,n*16)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),t.Skeleton.prototype.clone=function(){return new t.Skeleton(this.bones,this.boneInverses,this.useVertexTexture)},t.SkinnedMesh=function(e,r,n){t.Mesh.call(this,e,r),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new t.Matrix4,this.bindMatrixInverse=new t.Matrix4;var i=[];if(this.geometry&&this.geometry.bones!==void 0){for(var a,s,c=0,u=this.geometry.bones.length;c<u;++c)s=this.geometry.bones[c],a=new t.Bone(this),i.push(a),a.name=s.name,a.position.fromArray(s.pos),a.quaternion.fromArray(s.rotq),s.scl!==void 0&&a.scale.fromArray(s.scl);for(var c=0,u=this.geometry.bones.length;c<u;++c)s=this.geometry.bones[c],s.parent!==-1&&s.parent!==null?i[s.parent].add(i[c]):this.add(i[c])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new t.Skeleton(i,void 0,n),this.matrixWorld)},t.SkinnedMesh.prototype=Object.create(t.Mesh.prototype),t.SkinnedMesh.prototype.constructor=t.SkinnedMesh,t.SkinnedMesh.prototype.bind=function(e,r){this.skeleton=e,r===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),r=this.matrixWorld),this.bindMatrix.copy(r),this.bindMatrixInverse.getInverse(r)},t.SkinnedMesh.prototype.pose=function(){this.skeleton.pose()},t.SkinnedMesh.prototype.normalizeSkinWeights=function(){if(this.geometry instanceof t.Geometry)for(var e=0;e<this.geometry.skinWeights.length;e++){var r=this.geometry.skinWeights[e],n=1/r.lengthManhattan();n!==1/0?r.multiplyScalar(n):r.set(1,0,0,0)}else if(this.geometry instanceof t.BufferGeometry)for(var i=new t.Vector4,a=this.geometry.attributes.skinWeight,e=0;e<a.count;e++){i.x=a.getX(e),i.y=a.getY(e),i.z=a.getZ(e),i.w=a.getW(e);var n=1/i.lengthManhattan();n!==1/0?i.multiplyScalar(n):i.set(1,0,0,0),a.setXYZW(e,i.x,i.y,i.z,i.w)}},t.SkinnedMesh.prototype.updateMatrixWorld=function(e){t.Mesh.prototype.updateMatrixWorld.call(this,!0),this.bindMode==="attached"?this.bindMatrixInverse.getInverse(this.matrixWorld):this.bindMode==="detached"?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)},t.SkinnedMesh.prototype.clone=function(){return new this.constructor(this.geometry,this.material,this.useVertexTexture).copy(this)},t.LOD=function(){t.Object3D.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}})},t.LOD.prototype=Object.create(t.Object3D.prototype),t.LOD.prototype.constructor=t.LOD,t.LOD.prototype.addLevel=function(e,r){r===void 0&&(r=0),r=Math.abs(r);for(var n=this.levels,i=0;i<n.length&&!(r<n[i].distance);i++);n.splice(i,0,{distance:r,object:e}),this.add(e)},t.LOD.prototype.getObjectForDistance=function(e){for(var r=this.levels,n=1,i=r.length;n<i&&!(e<r[n].distance);n++);return r[n-1].object},t.LOD.prototype.raycast=function(){var e=new t.Vector3;return function(n,i){e.setFromMatrixPosition(this.matrixWorld);var a=n.ray.origin.distanceTo(e);this.getObjectForDistance(a).raycast(n,i)}}(),t.LOD.prototype.update=function(){var e=new t.Vector3,r=new t.Vector3;return function(i){var a=this.levels;if(a.length>1){e.setFromMatrixPosition(i.matrixWorld),r.setFromMatrixPosition(this.matrixWorld);var s=e.distanceTo(r);a[0].object.visible=!0;for(var c=1,u=a.length;c<u&&s>=a[c].distance;c++)a[c-1].object.visible=!1,a[c].object.visible=!0;for(;c<u;c++)a[c].object.visible=!1}}}(),t.LOD.prototype.copy=function(e){t.Object3D.prototype.copy.call(this,e,!1);for(var r=e.levels,n=0,i=r.length;n<i;n++){var a=r[n];this.addLevel(a.object.clone(),a.distance)}return this},t.LOD.prototype.toJSON=function(e){var r=t.Object3D.prototype.toJSON.call(this,e);r.object.levels=[];for(var n=this.levels,i=0,a=n.length;i<a;i++){var s=n[i];r.object.levels.push({object:s.object.uuid,distance:s.distance})}return r},t.Sprite=function(){var e=new Uint16Array([0,1,2,0,2,3]),r=new Float32Array([-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0]),n=new Float32Array([0,0,1,0,1,1,0,1]),i=new t.BufferGeometry;return i.setIndex(new t.BufferAttribute(e,1)),i.addAttribute("position",new t.BufferAttribute(r,3)),i.addAttribute("uv",new t.BufferAttribute(n,2)),function(s){t.Object3D.call(this),this.type="Sprite",this.geometry=i,this.material=s!==void 0?s:new t.SpriteMaterial}}(),t.Sprite.prototype=Object.create(t.Object3D.prototype),t.Sprite.prototype.constructor=t.Sprite,t.Sprite.prototype.raycast=function(){var e=new t.Vector3;return function(n,i){e.setFromMatrixPosition(this.matrixWorld);var a=n.ray.distanceSqToPoint(e),s=this.scale.x*this.scale.y;a>s||i.push({distance:Math.sqrt(a),point:this.position,face:null,object:this})}}(),t.Sprite.prototype.clone=function(){return new this.constructor(this.material).copy(this)},t.Particle=t.Sprite,t.LensFlare=function(e,r,n,i,a){t.Object3D.call(this),this.lensFlares=[],this.positionScreen=new t.Vector3,this.customUpdateCallback=void 0,e!==void 0&&this.add(e,r,n,i,a)},t.LensFlare.prototype=Object.create(t.Object3D.prototype),t.LensFlare.prototype.constructor=t.LensFlare,t.LensFlare.prototype.add=function(e,r,n,i,a,s){r===void 0&&(r=-1),n===void 0&&(n=0),s===void 0&&(s=1),a===void 0&&(a=new t.Color(16777215)),i===void 0&&(i=t.NormalBlending),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:e,size:r,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:s,color:a,blending:i})},t.LensFlare.prototype.updateLensFlares=function(){var e,r=this.lensFlares.length,n,i=-this.positionScreen.x*2,a=-this.positionScreen.y*2;for(e=0;e<r;e++)n=this.lensFlares[e],n.x=this.positionScreen.x+i*n.distance,n.y=this.positionScreen.y+a*n.distance,n.wantedRotation=n.x*Math.PI*.25,n.rotation+=(n.wantedRotation-n.rotation)*.25},t.LensFlare.prototype.copy=function(e){t.Object3D.prototype.copy.call(this,e),this.positionScreen.copy(e.positionScreen),this.customUpdateCallback=e.customUpdateCallback;for(var r=0,n=e.lensFlares.length;r<n;r++)this.lensFlares.push(e.lensFlares[r]);return this},t.Scene=function(){t.Object3D.call(this),this.type="Scene",this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0},t.Scene.prototype=Object.create(t.Object3D.prototype),t.Scene.prototype.constructor=t.Scene,t.Scene.prototype.copy=function(e,r){return t.Object3D.prototype.copy.call(this,e,r),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},t.Fog=function(e,r,n){this.name="",this.color=new t.Color(e),this.near=r!==void 0?r:1,this.far=n!==void 0?n:1e3},t.Fog.prototype.clone=function(){return new t.Fog(this.color.getHex(),this.near,this.far)},t.FogExp2=function(e,r){this.name="",this.color=new t.Color(e),this.density=r!==void 0?r:25e-5},t.FogExp2.prototype.clone=function(){return new t.FogExp2(this.color.getHex(),this.density)},t.ShaderChunk={},t.ShaderChunk.alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif
`,t.ShaderChunk.alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif
`,t.ShaderChunk.alphatest_fragment=`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif
`,t.ShaderChunk.aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif
`,t.ShaderChunk.aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,t.ShaderChunk.begin_vertex=`
vec3 transformed = vec3( position );
`,t.ShaderChunk.beginnormal_vertex=`
vec3 objectNormal = vec3( normal );
`,t.ShaderChunk.bsdfs=`bool testLightInRange( const in float lightDistance, const in float cutoffDistance ) {
	return any( bvec2( cutoffDistance == 0.0, lightDistance < cutoffDistance ) );
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
		if( decayExponent > 0.0 ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
			float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
			float maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
			return distanceFalloff * maxDistanceCutoffFactor;
#else
			return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
#endif
		}
		return 1.0;
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_Smith( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;
	return specularColor * AB.x + AB.y;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
`,t.ShaderChunk.bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = dFdx( surf_pos );
		vec3 vSigmaY = dFdy( surf_pos );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif
`,t.ShaderChunk.color_fragment=`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,t.ShaderChunk.color_pars_fragment=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif
`,t.ShaderChunk.color_pars_vertex=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,t.ShaderChunk.color_vertex=`#ifdef USE_COLOR
	vColor.xyz = color.xyz;
#endif`,t.ShaderChunk.common=`#define PI 3.14159
#define PI2 6.28318
#define RECIPROCAL_PI 0.31830988618
#define RECIPROCAL_PI2 0.15915494
#define LOG2 1.442695
#define EPSILON 1e-6
#define saturate(a) clamp( a, 0.0, 1.0 )
#define whiteCompliment(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
`,t.ShaderChunk.cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
const float cubeUV_textureSize = 1024.0;
int getFaceFromDirection(vec3 direction) {
    vec3 absDirection = abs(direction);
    int face = -1;
    if( absDirection.x > absDirection.z ) {
        if(absDirection.x > absDirection.y )
            face = direction.x > 0.0 ? 0 : 3;
        else
            face = direction.y > 0.0 ? 1 : 4;
    }
    else {
        if(absDirection.z > absDirection.y )
            face = direction.z > 0.0 ? 2 : 5;
        else
            face = direction.y > 0.0 ? 1 : 4;
    }
    return face;
}
const float cubeUV_maxLods1 = log2(cubeUV_textureSize*0.25) - 1.0;
const float cubeUV_rangeClamp = exp2((6.0 - 1.0) * 2.0);
vec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {
    float scale = exp2(cubeUV_maxLods1 - roughnessLevel);
    float dxRoughness = dFdx(roughness);
    float dyRoughness = dFdy(roughness);
    vec3 dx = dFdx( vec * scale * dxRoughness );
    vec3 dy = dFdy( vec * scale * dyRoughness );
    float d = max( dot( dx, dx ), dot( dy, dy ) );
    d = clamp(d, 1.0, cubeUV_rangeClamp);
    float mipLevel = 0.5 * log2(d);
    return vec2(floor(mipLevel), fract(mipLevel));
}
const float cubeUV_maxLods2 = log2(cubeUV_textureSize*0.25) - 2.0;
const float cubeUV_rcpTextureSize = 1.0 / cubeUV_textureSize;
vec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {
    mipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;
    float a = 16.0 * cubeUV_rcpTextureSize;
    vec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );
    vec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;
    float powScale = exp2_packed.x * exp2_packed.y;
    float scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;
    float mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;
    bool bRes = mipLevel == 0.0;
    scale =  bRes && (scale < a) ? a : scale;
    vec3 r;
    vec2 offset;
    int face = getFaceFromDirection(direction);
    float rcpPowScale = 1.0 / powScale;
    if( face == 0) {
        r = vec3(direction.x, -direction.z, direction.y);
        offset = vec2(0.0+mipOffset,0.75 * rcpPowScale);
        offset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;
    }
    else if( face == 1) {
        r = vec3(direction.y, direction.x, direction.z);
        offset = vec2(scale+mipOffset, 0.75 * rcpPowScale);
        offset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;
    }
    else if( face == 2) {
        r = vec3(direction.z, direction.x, direction.y);
        offset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);
        offset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;
    }
    else if( face == 3) {
        r = vec3(direction.x, direction.z, direction.y);
        offset = vec2(0.0+mipOffset,0.5 * rcpPowScale);
        offset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;
    }
    else if( face == 4) {
        r = vec3(direction.y, direction.x, -direction.z);
        offset = vec2(scale+mipOffset, 0.5 * rcpPowScale);
        offset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;
    }
    else {
        r = vec3(direction.z, -direction.x, direction.y);
        offset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);
        offset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;
    }
    r = normalize(r);
    float texelOffset = 0.5 * cubeUV_rcpTextureSize;
    vec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;
    vec2 base = offset + vec2( texelOffset );
    return base + s * ( scale - 2.0 * texelOffset );
}
const float cubeUV_maxLods3 = log2(cubeUV_textureSize*0.25) - 3.0;
vec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {
    float roughnessVal = roughness* cubeUV_maxLods3;
    float r1 = floor(roughnessVal);
    float r2 = r1 + 1.0;
    float t = fract(roughnessVal);
    vec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);
    float s = mipInfo.y;
    float level0 = mipInfo.x;
    float level1 = level0 + 1.0;
    level1 = level1 > 5.0 ? 5.0 : level1;
    level0 += min( floor( s + 0.5 ), 5.0 );
    vec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);
    vec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));
    vec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);
    vec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));
    vec4 result = mix(color10, color20, t);
    return vec4(result.rgb, 1.0);
}
#endif
`,t.ShaderChunk.defaultnormal_vertex=`#ifdef FLIP_SIDED
	objectNormal = -objectNormal;
#endif
vec3 transformedNormal = normalMatrix * objectNormal;
`,t.ShaderChunk.displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );
#endif
`,t.ShaderChunk.displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif
`,t.ShaderChunk.emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif
`,t.ShaderChunk.emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif
`,t.ShaderChunk.encodings_pars_fragment=`
vec4 LinearToLinear( in vec4 value ) {
  return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );
}
vec4 sRGBToLinear( in vec4 value ) {
  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );
}
vec4 LinearTosRGB( in vec4 value ) {
  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );
}
vec4 RGBEToLinear( in vec4 value ) {
  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
  float maxComponent = max( max( value.r, value.g ), value.b );
  float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
  return vec4( value.xyz * value.w * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
  float maxRGB = max( value.x, max( value.g, value.b ) );
  float M      = clamp( maxRGB / maxRange, 0.0, 1.0 );
  M            = ceil( M * 255.0 ) / 255.0;
  return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
    float maxRGB = max( value.x, max( value.g, value.b ) );
    float D      = max( maxRange / maxRGB, 1.0 );
    D            = min( floor( D ) / 255.0, 1.0 );
    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value )  {
  vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;
  Xp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));
  vec4 vResult;
  vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
  float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
  vResult.w = fract(Le);
  vResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;
  return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
  float Le = value.z * 255.0 + value.w;
  vec3 Xp_Y_XYZp;
  Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);
  Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
  Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
  vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;
  return vec4( max(vRGB, 0.0), 1.0 );
}
`,t.ShaderChunk.encodings_fragment=`  gl_FragColor = linearToOutputTexel( gl_FragColor );
`,t.ShaderChunk.envmap_fragment=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToVertex, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef DOUBLE_SIDED
		float flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#else
		float flipNormal = 1.0;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_EQUIREC )
		vec2 sampleUV;
		sampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );
		sampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;
		vec4 envColor = texture2D( envMap, sampleUV );
	#elif defined( ENVMAP_TYPE_SPHERE )
		vec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));
		vec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );
	#endif
	envColor = envMapTexelToLinear( envColor );
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif
`,t.ShaderChunk.envmap_pars_fragment=`#if defined( USE_ENVMAP ) || defined( STANDARD )
	uniform float reflectivity;
	uniform float envMapIntenstiy;
#endif
#ifdef USE_ENVMAP
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	uniform float flipEnvMap;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( STANDARD )
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif
`,t.ShaderChunk.envmap_pars_vertex=`#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG ) && ! defined( STANDARD )
	varying vec3 vReflect;
	uniform float refractionRatio;
#endif
`,t.ShaderChunk.envmap_vertex=`#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG ) && ! defined( STANDARD )
	vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
	vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	#ifdef ENVMAP_MODE_REFLECTION
		vReflect = reflect( cameraToVertex, worldNormal );
	#else
		vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
	#endif
#endif
`,t.ShaderChunk.fog_fragment=`#ifdef USE_FOG
	#ifdef USE_LOGDEPTHBUF_EXT
		float depth = gl_FragDepthEXT / gl_FragCoord.w;
	#else
		float depth = gl_FragCoord.z / gl_FragCoord.w;
	#endif
	#ifdef FOG_EXP2
		float fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, depth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif
`,t.ShaderChunk.fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,t.ShaderChunk.lightmap_fragment=`#ifdef USE_LIGHTMAP
	reflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;
#endif
`,t.ShaderChunk.lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,t.ShaderChunk.lights_lambert_vertex=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
#if NUM_POINT_LIGHTS > 0
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		directLight = getPointDirectLightIrradiance( pointLights[ i ], geometry );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		directLight = getSpotDirectLightIrradiance( spotLights[ i ], geometry );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
#endif
#if NUM_DIR_LIGHTS > 0
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directLight = getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
#endif
#if NUM_HEMI_LIGHTS > 0
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
#endif
`,t.ShaderChunk.lights_pars=`uniform vec3 ambientLightColor;
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
		int shadow;
		float shadowBias;
		float shadowRadius;
		vec2 shadowMapSize;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	IncidentLight getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry ) {
		IncidentLight directLight;
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
		return directLight;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
		int shadow;
		float shadowBias;
		float shadowRadius;
		vec2 shadowMapSize;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	IncidentLight getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry ) {
		IncidentLight directLight;
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		if ( testLightInRange( lightDistance, pointLight.distance ) ) {
			directLight.color = pointLight.color;
			directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
		return directLight;
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
		int shadow;
		float shadowBias;
		float shadowRadius;
		vec2 shadowMapSize;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	IncidentLight getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry ) {
		IncidentLight directLight;
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( all( bvec2( angleCos > spotLight.coneCos, testLightInRange( lightDistance, spotLight.distance ) ) ) ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
		return directLight;
	}
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif
#if defined( USE_ENVMAP ) && defined( STANDARD )
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		#ifdef DOUBLE_SIDED
			float flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#else
			float flipNormal = 1.0;
		#endif
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			vec4 envMapColor = textureCubeUV( queryVec, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );
		#else
			vec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );
		#endif
		#ifdef DOUBLE_SIDED
			float flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#else
			float flipNormal = 1.0;
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			vec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));
		#elif defined( ENVMAP_TYPE_EQUIREC )
			vec2 sampleUV;
			sampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );
			sampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );
			#endif
		#elif defined( ENVMAP_TYPE_SPHERE )
			vec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );
			#endif
		#endif
		envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		return envMapColor.rgb * envMapIntensity;
	}
#endif
`,t.ShaderChunk.lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;
`,t.ShaderChunk.lights_phong_pars_fragment=`#ifdef USE_ENVMAP
	varying vec3 vWorldPosition;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3	diffuseColor;
	vec3	specularColor;
	float	specularShininess;
	float	specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)
`,t.ShaderChunk.lights_phong_pars_vertex=`#ifdef USE_ENVMAP
	varying vec3 vWorldPosition;
#endif
`,t.ShaderChunk.lights_phong_vertex=`#ifdef USE_ENVMAP
	vWorldPosition = worldPosition.xyz;
#endif
`,t.ShaderChunk.lights_standard_fragment=`StandardMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );
material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
`,t.ShaderChunk.lights_standard_pars_fragment=`struct StandardMaterial {
	vec3	diffuseColor;
	float	specularRoughness;
	vec3	specularColor;
};
void RE_Direct_Standard( const in IncidentLight directLight, const in GeometricContext geometry, const in StandardMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );
}
void RE_IndirectDiffuse_Standard( const in vec3 irradiance, const in GeometricContext geometry, const in StandardMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Standard( const in vec3 radiance, const in GeometricContext geometry, const in StandardMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectSpecular += radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );
}
#define RE_Direct				RE_Direct_Standard
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Standard
#define RE_IndirectSpecular		RE_IndirectSpecular_Standard
#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}
`,t.ShaderChunk.lights_template=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = normalize( vViewPosition );
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		directLight = getPointDirectLightIrradiance( pointLight, geometry );
		#ifdef USE_SHADOWMAP
		directLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		directLight = getSpotDirectLightIrradiance( spotLight, geometry );
		#ifdef USE_SHADOWMAP
		directLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		directLight = getDirectionalDirectLightIrradiance( directionalLight, geometry );
		#ifdef USE_SHADOWMAP
		directLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
#endif
#if defined( RE_IndirectDiffuse )
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#ifdef USE_LIGHTMAP
		vec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
	 	irradiance += getLightProbeIndirectIrradiance( geometry, 8 );
	#endif
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	vec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );
	RE_IndirectSpecular( radiance, geometry, material, reflectedLight );
#endif
`,t.ShaderChunk.logdepthbuf_fragment=`#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)
	gl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;
#endif`,t.ShaderChunk.logdepthbuf_pars_fragment=`#ifdef USE_LOGDEPTHBUF
	uniform float logDepthBufFC;
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
	#endif
#endif
`,t.ShaderChunk.logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
	#endif
	uniform float logDepthBufFC;
#endif`,t.ShaderChunk.logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	gl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
	#else
		gl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;
	#endif
#endif
`,t.ShaderChunk.map_fragment=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif
`,t.ShaderChunk.map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif
`,t.ShaderChunk.map_particle_fragment=`#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
`,t.ShaderChunk.map_particle_pars_fragment=`#ifdef USE_MAP
	uniform vec4 offsetRepeat;
	uniform sampler2D map;
#endif
`,t.ShaderChunk.metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.r;
#endif
`,t.ShaderChunk.metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,t.ShaderChunk.morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];
	objectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];
	objectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];
	objectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];
#endif
`,t.ShaderChunk.morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	#ifndef USE_MORPHNORMALS
	uniform float morphTargetInfluences[ 8 ];
	#else
	uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,t.ShaderChunk.morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];
	transformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];
	transformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];
	transformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
	transformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];
	transformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];
	transformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];
	transformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];
	#endif
#endif
`,t.ShaderChunk.normal_fragment=`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );
	#endif
#endif
#ifdef USE_NORMALMAP
	normal = perturbNormal2Arb( -vViewPosition, normal );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif
`,t.ShaderChunk.normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 S = normalize( q0 * st1.t - q1 * st0.t );
		vec3 T = normalize( -q0 * st1.s + q1 * st0.s );
		vec3 N = normalize( surf_norm );
		vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
		mapN.xy = normalScale * mapN.xy;
		mat3 tsn = mat3( S, T, N );
		return normalize( tsn * mapN );
	}
#endif
`,t.ShaderChunk.premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif
`,t.ShaderChunk.project_vertex=`#ifdef USE_SKINNING
	vec4 mvPosition = modelViewMatrix * skinned;
#else
	vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );
#endif
gl_Position = projectionMatrix * mvPosition;
`,t.ShaderChunk.roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.r;
#endif
`,t.ShaderChunk.roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,t.ShaderChunk.shadowmap_pars_fragment=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHTS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];
	#endif
	#if NUM_SPOT_LIGHTS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];
	#endif
	#if NUM_POINT_LIGHTS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];
	#endif
	float unpackDepth( const in vec4 rgba_depth ) {
		const vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );
		return dot( rgba_depth, bit_shift );
	}
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackDepth( texture2D( depths, uv ) ) );
	}
	float texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {
		const vec2 offset = vec2( 0.0, 1.0 );
		vec2 texelSize = vec2( 1.0 ) / size;
		vec2 centroidUV = floor( uv * size + 0.5 ) / size;
		float lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );
		float lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );
		float rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );
		float rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );
		vec2 f = fract( uv * size + 0.5 );
		float a = mix( lb, lt, f.y );
		float b = mix( rb, rt, f.y );
		float c = mix( a, b, f.x );
		return c;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			return (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			return (
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return 1.0;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		float dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif
`,t.ShaderChunk.shadowmap_pars_vertex=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHTS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];
	#endif
	#if NUM_SPOT_LIGHTS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];
	#endif
	#if NUM_POINT_LIGHTS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];
	#endif
#endif
`,t.ShaderChunk.shadowmap_vertex=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHTS > 0
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;
	}
	#endif
	#if NUM_SPOT_LIGHTS > 0
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;
	}
	#endif
	#if NUM_POINT_LIGHTS > 0
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;
	}
	#endif
#endif
`,t.ShaderChunk.shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHTS > 0
	DirectionalLight directionalLight;
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		shadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#endif
	#if NUM_SPOT_LIGHTS > 0
	SpotLight spotLight;
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		shadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#endif
	#if NUM_POINT_LIGHTS > 0
	PointLight pointLight;
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		shadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;
	}
	#endif
	#endif
	return shadow;
}
`,t.ShaderChunk.skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,t.ShaderChunk.skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform sampler2D boneTexture;
		uniform int boneTextureWidth;
		uniform int boneTextureHeight;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureWidth ) );
			float y = floor( j / float( boneTextureWidth ) );
			float dx = 1.0 / float( boneTextureWidth );
			float dy = 1.0 / float( boneTextureHeight );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneGlobalMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneGlobalMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif
`,t.ShaderChunk.skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	skinned  = bindMatrixInverse * skinned;
#endif
`,t.ShaderChunk.skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
#endif
`,t.ShaderChunk.specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,t.ShaderChunk.specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,t.ShaderChunk.tonemapping_fragment=`#if defined( TONE_MAPPING )
  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif
`,t.ShaderChunk.tonemapping_pars_fragment=`#define saturate(a) clamp( a, 0.0, 1.0 )
uniform float toneMappingExposure;
uniform float toneMappingWhitePoint;
vec3 LinearToneMapping( vec3 color ) {
  return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
  color *= toneMappingExposure;
  return saturate( color / ( vec3( 1.0 ) + color ) );
}
#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )
vec3 Uncharted2ToneMapping( vec3 color ) {
  color *= toneMappingExposure;
  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
  color *= toneMappingExposure;
  color = max( vec3( 0.0 ), color - 0.004 );
  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
`,t.ShaderChunk.uv2_pars_fragment=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,t.ShaderChunk.uv2_pars_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
#endif`,t.ShaderChunk.uv2_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = uv2;
#endif`,t.ShaderChunk.uv_pars_fragment=`#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )
	varying vec2 vUv;
#endif`,t.ShaderChunk.uv_pars_vertex=`#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )
	varying vec2 vUv;
	uniform vec4 offsetRepeat;
#endif
`,t.ShaderChunk.uv_vertex=`#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )
	vUv = uv * offsetRepeat.zw + offsetRepeat.xy;
#endif`,t.ShaderChunk.worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( STANDARD ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )
	#ifdef USE_SKINNING
		vec4 worldPosition = modelMatrix * skinned;
	#else
		vec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );
	#endif
#endif
`,t.UniformsUtils={merge:function(e){for(var r={},n=0;n<e.length;n++){var i=this.clone(e[n]);for(var a in i)r[a]=i[a]}return r},clone:function(e){var r={};for(var n in e){r[n]={};for(var i in e[n]){var a=e[n][i];a instanceof t.Color||a instanceof t.Vector2||a instanceof t.Vector3||a instanceof t.Vector4||a instanceof t.Matrix3||a instanceof t.Matrix4||a instanceof t.Texture?r[n][i]=a.clone():Array.isArray(a)?r[n][i]=a.slice():r[n][i]=a}}return r}},t.UniformsLib={common:{diffuse:{type:"c",value:new t.Color(15658734)},opacity:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new t.Vector4(0,0,1,1)},specularMap:{type:"t",value:null},alphaMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"f",value:-1},reflectivity:{type:"f",value:1},refractionRatio:{type:"f",value:.98}},aomap:{aoMap:{type:"t",value:null},aoMapIntensity:{type:"f",value:1}},lightmap:{lightMap:{type:"t",value:null},lightMapIntensity:{type:"f",value:1}},emissivemap:{emissiveMap:{type:"t",value:null}},bumpmap:{bumpMap:{type:"t",value:null},bumpScale:{type:"f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new t.Vector2(1,1)}},displacementmap:{displacementMap:{type:"t",value:null},displacementScale:{type:"f",value:1},displacementBias:{type:"f",value:0}},roughnessmap:{roughnessMap:{type:"t",value:null}},metalnessmap:{metalnessMap:{type:"t",value:null}},fog:{fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new t.Color(16777215)}},lights:{ambientLightColor:{type:"fv",value:[]},directionalLights:{type:"sa",value:[],properties:{direction:{type:"v3"},color:{type:"c"},shadow:{type:"i"},shadowBias:{type:"f"},shadowRadius:{type:"f"},shadowMapSize:{type:"v2"}}},directionalShadowMap:{type:"tv",value:[]},directionalShadowMatrix:{type:"m4v",value:[]},spotLights:{type:"sa",value:[],properties:{color:{type:"c"},position:{type:"v3"},direction:{type:"v3"},distance:{type:"f"},coneCos:{type:"f"},penumbraCos:{type:"f"},decay:{type:"f"},shadow:{type:"i"},shadowBias:{type:"f"},shadowRadius:{type:"f"},shadowMapSize:{type:"v2"}}},spotShadowMap:{type:"tv",value:[]},spotShadowMatrix:{type:"m4v",value:[]},pointLights:{type:"sa",value:[],properties:{color:{type:"c"},position:{type:"v3"},decay:{type:"f"},distance:{type:"f"},shadow:{type:"i"},shadowBias:{type:"f"},shadowRadius:{type:"f"},shadowMapSize:{type:"v2"}}},pointShadowMap:{type:"tv",value:[]},pointShadowMatrix:{type:"m4v",value:[]},hemisphereLights:{type:"sa",value:[],properties:{direction:{type:"v3"},skyColor:{type:"c"},groundColor:{type:"c"}}}},points:{diffuse:{type:"c",value:new t.Color(15658734)},opacity:{type:"f",value:1},size:{type:"f",value:1},scale:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new t.Vector4(0,0,1,1)}}},t.ShaderChunk.cube_frag=`uniform samplerCube tCube;
uniform float tFlip;
varying vec3 vWorldPosition;
#include <common>
#include <logdepthbuf_pars_fragment>
void main() {
	gl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );
	#include <logdepthbuf_fragment>
}
`,t.ShaderChunk.cube_vert=`varying vec3 vWorldPosition;
#include <common>
#include <logdepthbuf_pars_vertex>
void main() {
	vWorldPosition = transformDirection( position, modelMatrix );
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
	#include <logdepthbuf_vertex>
}
`,t.ShaderChunk.depth_frag=`uniform float mNear;
uniform float mFar;
uniform float opacity;
#include <common>
#include <logdepthbuf_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	#ifdef USE_LOGDEPTHBUF_EXT
		float depth = gl_FragDepthEXT / gl_FragCoord.w;
	#else
		float depth = gl_FragCoord.z / gl_FragCoord.w;
	#endif
	float color = 1.0 - smoothstep( mNear, mFar, depth );
	gl_FragColor = vec4( vec3( color ), opacity );
}
`,t.ShaderChunk.depth_vert=`#include <common>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
}
`,t.ShaderChunk.depthRGBA_frag=`#include <common>
#include <logdepthbuf_pars_fragment>
vec4 pack_depth( const in float depth ) {
	const vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );
	const vec4 bit_mask = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );
	vec4 res = mod( depth * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );
	res -= res.xxyz * bit_mask;
	return res;
}
void main() {
	#include <logdepthbuf_fragment>
	#ifdef USE_LOGDEPTHBUF_EXT
		gl_FragData[ 0 ] = pack_depth( gl_FragDepthEXT );
	#else
		gl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );
	#endif
}
`,t.ShaderChunk.depthRGBA_vert=`#include <common>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
void main() {
	#include <skinbase_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
}
`,t.ShaderChunk.distanceRGBA_frag=`uniform vec3 lightPos;
varying vec4 vWorldPosition;
#include <common>
vec4 pack1K ( float depth ) {
	depth /= 1000.0;
	const vec4 bitSh = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );
	const vec4 bitMsk = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );
	vec4 res = mod( depth * bitSh * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );
	res -= res.xxyz * bitMsk;
	return res;
}
float unpack1K ( vec4 color ) {
	const vec4 bitSh = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );
	return dot( color, bitSh ) * 1000.0;
}
void main () {
	gl_FragColor = pack1K( length( vWorldPosition.xyz - lightPos.xyz ) );
}
`,t.ShaderChunk.distanceRGBA_vert=`varying vec4 vWorldPosition;
#include <common>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
void main() {
	#include <skinbase_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	vWorldPosition = worldPosition;
}
`,t.ShaderChunk.equirect_frag=`uniform sampler2D tEquirect;
uniform float tFlip;
varying vec3 vWorldPosition;
#include <common>
#include <logdepthbuf_pars_fragment>
void main() {
	vec3 direction = normalize( vWorldPosition );
	vec2 sampleUV;
	sampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );
	sampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <logdepthbuf_fragment>
}
`,t.ShaderChunk.equirect_vert=`varying vec3 vWorldPosition;
#include <common>
#include <logdepthbuf_pars_vertex>
void main() {
	vWorldPosition = transformDirection( position, modelMatrix );
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
	#include <logdepthbuf_vertex>
}
`,t.ShaderChunk.linedashed_frag=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
void main() {
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <premultiplied_alpha_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}
`,t.ShaderChunk.linedashed_vert=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <logdepthbuf_pars_vertex>
void main() {
	#include <color_vertex>
	vLineDistance = scale * lineDistance;
	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
}
`,t.ShaderChunk.meshbasic_frag=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight;
	reflectedLight.directDiffuse = vec3( 0.0 );
	reflectedLight.directSpecular = vec3( 0.0 );
	reflectedLight.indirectDiffuse = diffuseColor.rgb;
	reflectedLight.indirectSpecular = vec3( 0.0 );
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <premultiplied_alpha_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}
`,t.ShaderChunk.meshbasic_vert=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
}
`,t.ShaderChunk.meshlambert_frag=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
#endif
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_pars_fragment>
#include <bsdfs>
#include <lights_pars>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	reflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <premultiplied_alpha_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}
`,t.ShaderChunk.meshlambert_vert=`#define LAMBERT
varying vec3 vLightFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars>
#include <color_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
}
`,t.ShaderChunk.meshphong_frag=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_template>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <premultiplied_alpha_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}
`,t.ShaderChunk.meshphong_vert=`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <lights_phong_pars_vertex>
#include <color_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <displacementmap_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_phong_vertex>
	#include <shadowmap_vertex>
}
`,t.ShaderChunk.meshstandard_frag=`#define STANDARD
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
uniform float envMapIntensity;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <lights_pars>
#include <lights_standard_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment>
	#include <emissivemap_fragment>
	#include <lights_standard_fragment>
	#include <lights_template>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <premultiplied_alpha_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}
`,t.ShaderChunk.meshstandard_vert=`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <displacementmap_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
}
`,t.ShaderChunk.normal_frag=`uniform float opacity;
varying vec3 vNormal;
#include <common>
#include <logdepthbuf_pars_fragment>
void main() {
	gl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );
	#include <logdepthbuf_fragment>
}
`,t.ShaderChunk.normal_vert=`varying vec3 vNormal;
#include <common>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
void main() {
	vNormal = normalize( normalMatrix * normal );
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
}
`,t.ShaderChunk.points_frag=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
void main() {
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <premultiplied_alpha_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}
`,t.ShaderChunk.points_vert=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <project_vertex>
	#ifdef USE_SIZEATTENUATION
		gl_PointSize = size * ( scale / - mvPosition.z );
	#else
		gl_PointSize = size;
	#endif
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
}
`,t.ShaderLib={basic:{uniforms:t.UniformsUtils.merge([t.UniformsLib.common,t.UniformsLib.aomap,t.UniformsLib.fog]),vertexShader:t.ShaderChunk.meshbasic_vert,fragmentShader:t.ShaderChunk.meshbasic_frag},lambert:{uniforms:t.UniformsUtils.merge([t.UniformsLib.common,t.UniformsLib.aomap,t.UniformsLib.lightmap,t.UniformsLib.emissivemap,t.UniformsLib.fog,t.UniformsLib.lights,{emissive:{type:"c",value:new t.Color(0)}}]),vertexShader:t.ShaderChunk.meshlambert_vert,fragmentShader:t.ShaderChunk.meshlambert_frag},phong:{uniforms:t.UniformsUtils.merge([t.UniformsLib.common,t.UniformsLib.aomap,t.UniformsLib.lightmap,t.UniformsLib.emissivemap,t.UniformsLib.bumpmap,t.UniformsLib.normalmap,t.UniformsLib.displacementmap,t.UniformsLib.fog,t.UniformsLib.lights,{emissive:{type:"c",value:new t.Color(0)},specular:{type:"c",value:new t.Color(1118481)},shininess:{type:"f",value:30}}]),vertexShader:t.ShaderChunk.meshphong_vert,fragmentShader:t.ShaderChunk.meshphong_frag},standard:{uniforms:t.UniformsUtils.merge([t.UniformsLib.common,t.UniformsLib.aomap,t.UniformsLib.lightmap,t.UniformsLib.emissivemap,t.UniformsLib.bumpmap,t.UniformsLib.normalmap,t.UniformsLib.displacementmap,t.UniformsLib.roughnessmap,t.UniformsLib.metalnessmap,t.UniformsLib.fog,t.UniformsLib.lights,{emissive:{type:"c",value:new t.Color(0)},roughness:{type:"f",value:.5},metalness:{type:"f",value:0},envMapIntensity:{type:"f",value:1}}]),vertexShader:t.ShaderChunk.meshstandard_vert,fragmentShader:t.ShaderChunk.meshstandard_frag},points:{uniforms:t.UniformsUtils.merge([t.UniformsLib.points,t.UniformsLib.fog]),vertexShader:t.ShaderChunk.points_vert,fragmentShader:t.ShaderChunk.points_frag},dashed:{uniforms:t.UniformsUtils.merge([t.UniformsLib.common,t.UniformsLib.fog,{scale:{type:"f",value:1},dashSize:{type:"f",value:1},totalSize:{type:"f",value:2}}]),vertexShader:t.ShaderChunk.linedashed_vert,fragmentShader:t.ShaderChunk.linedashed_frag},depth:{uniforms:{mNear:{type:"f",value:1},mFar:{type:"f",value:2e3},opacity:{type:"f",value:1}},vertexShader:t.ShaderChunk.depth_vert,fragmentShader:t.ShaderChunk.depth_frag},normal:{uniforms:{opacity:{type:"f",value:1}},vertexShader:t.ShaderChunk.normal_vert,fragmentShader:t.ShaderChunk.normal_frag},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:t.ShaderChunk.cube_vert,fragmentShader:t.ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:t.ShaderChunk.equirect_vert,fragmentShader:t.ShaderChunk.equirect_frag},depthRGBA:{uniforms:{},vertexShader:t.ShaderChunk.depthRGBA_vert,fragmentShader:t.ShaderChunk.depthRGBA_frag},distanceRGBA:{uniforms:{lightPos:{type:"v3",value:new t.Vector3(0,0,0)}},vertexShader:t.ShaderChunk.distanceRGBA_vert,fragmentShader:t.ShaderChunk.distanceRGBA_frag}},t.WebGLRenderer=function(e){console.log("THREE.WebGLRenderer",t.REVISION),e=e||{};var r=e.canvas!==void 0?e.canvas:document.createElement("canvas"),n=e.context!==void 0?e.context:null,i=e.alpha!==void 0?e.alpha:!1,a=e.depth!==void 0?e.depth:!0,s=e.stencil!==void 0?e.stencil:!0,c=e.antialias!==void 0?e.antialias:!1,u=e.premultipliedAlpha!==void 0?e.premultipliedAlpha:!0,f=e.preserveDrawingBuffer!==void 0?e.preserveDrawingBuffer:!1,h=[],d=[],m=-1,p=[],v=-1,g=new Float32Array(8),y=[],x=[];this.domElement=r,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=t.LinearToneMapping,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4,this.autoScaleCubemaps=!0;var w=this,M=null,E=null,T=null,S=-1,L="",P=null,R=new t.Vector4,B=null,V=new t.Vector4,z=0,X=new t.Color(0),G=0,k=r.width,j=r.height,$=1,Z=new t.Vector4(0,0,k,j),K=!1,oe=new t.Vector4(0,0,k,j),ie=new t.Frustum,fe=new t.Matrix4,O=new t.Vector3,I={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[],shadowsPointLight:0},H={geometries:0,textures:0},q={calls:0,vertices:0,faces:0,points:0};this.info={render:q,memory:H,programs:null};var _;try{var ae={alpha:i,depth:a,stencil:s,antialias:c,premultipliedAlpha:u,preserveDrawingBuffer:f};if(_=n||r.getContext("webgl",ae)||r.getContext("experimental-webgl",ae),_===null)throw r.getContext("webgl")!==null?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";_.getShaderPrecisionFormat===void 0&&(_.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),r.addEventListener("webglcontextlost",Ee,!1)}catch(b){console.error("THREE.WebGLRenderer: "+b)}var J=new t.WebGLExtensions(_);J.get("OES_texture_float"),J.get("OES_texture_float_linear"),J.get("OES_texture_half_float"),J.get("OES_texture_half_float_linear"),J.get("OES_standard_derivatives"),J.get("ANGLE_instanced_arrays"),J.get("OES_element_index_uint")&&(t.BufferGeometry.MaxIndex=4294967296);var ce=new t.WebGLCapabilities(_,J,e),C=new t.WebGLState(_,J,st),F=new t.WebGLProperties,Y=new t.WebGLObjects(_,F,this.info),ee=new t.WebGLPrograms(this,ce),Q=new t.WebGLLights;this.info.programs=ee.programs;var le=new t.WebGLBufferRenderer(_,J,q),me=new t.WebGLIndexedBufferRenderer(_,J,q);function te(){return E===null?$:1}function ne(b,A,N,U){u===!0&&(b*=U,A*=U,N*=U),C.clearColor(b,A,N,U)}function re(){C.init(),C.scissor(R.copy(Z).multiplyScalar($)),C.viewport(V.copy(oe).multiplyScalar($)),ne(X.r,X.g,X.b,G)}function ge(){M=null,P=null,L="",S=-1,C.reset()}re(),this.context=_,this.capabilities=ce,this.extensions=J,this.properties=F,this.state=C;var ve=new t.WebGLShadowMap(this,I,Y);this.shadowMap=ve;var _e=new t.SpritePlugin(this,y),be=new t.LensFlarePlugin(this,x);this.getContext=function(){return _},this.getContextAttributes=function(){return _.getContextAttributes()},this.forceContextLoss=function(){J.get("WEBGL_lose_context").loseContext()},this.getMaxAnisotropy=function(){var b;return function(){if(b!==void 0)return b;var N=J.get("EXT_texture_filter_anisotropic");return N!==null?b=_.getParameter(N.MAX_TEXTURE_MAX_ANISOTROPY_EXT):b=0,b}}(),this.getPrecision=function(){return ce.precision},this.getPixelRatio=function(){return $},this.setPixelRatio=function(b){b!==void 0&&($=b,this.setSize(oe.z,oe.w,!1))},this.getSize=function(){return{width:k,height:j}},this.setSize=function(b,A,N){k=b,j=A,r.width=b*$,r.height=A*$,N!==!1&&(r.style.width=b+"px",r.style.height=A+"px"),this.setViewport(0,0,b,A)},this.setViewport=function(b,A,N,U){C.viewport(oe.set(b,A,N,U))},this.setScissor=function(b,A,N,U){C.scissor(Z.set(b,A,N,U))},this.setScissorTest=function(b){C.setScissorTest(K=b)},this.getClearColor=function(){return X},this.setClearColor=function(b,A){X.set(b),G=A!==void 0?A:1,ne(X.r,X.g,X.b,G)},this.getClearAlpha=function(){return G},this.setClearAlpha=function(b){G=b,ne(X.r,X.g,X.b,G)},this.clear=function(b,A,N){var U=0;(b===void 0||b)&&(U|=_.COLOR_BUFFER_BIT),(A===void 0||A)&&(U|=_.DEPTH_BUFFER_BIT),(N===void 0||N)&&(U|=_.STENCIL_BUFFER_BIT),_.clear(U)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(b,A,N,U){this.setRenderTarget(b),this.clear(A,N,U)},this.resetGLState=ge,this.dispose=function(){r.removeEventListener("webglcontextlost",Ee,!1)};function Ee(b){b.preventDefault(),ge(),re(),F.clear()}function Ae(b){var A=b.target;A.removeEventListener("dispose",Ae),Ze(A),H.textures--}function Se(b){var A=b.target;A.removeEventListener("dispose",Se),Ft(A),H.textures--}function Re(b){var A=b.target;A.removeEventListener("dispose",Re),Er(A)}function Ze(b){var A=F.get(b);if(b.image&&A.__image__webglTextureCube)_.deleteTexture(A.__image__webglTextureCube);else{if(A.__webglInit===void 0)return;_.deleteTexture(A.__webglTexture)}F.delete(b)}function Ft(b){var A=F.get(b),N=F.get(b.texture);if(!(!b||N.__webglTexture===void 0)){if(_.deleteTexture(N.__webglTexture),b instanceof t.WebGLRenderTargetCube)for(var U=0;U<6;U++)_.deleteFramebuffer(A.__webglFramebuffer[U]),_.deleteRenderbuffer(A.__webglDepthbuffer[U]);else _.deleteFramebuffer(A.__webglFramebuffer),_.deleteRenderbuffer(A.__webglDepthbuffer);F.delete(b.texture),F.delete(b)}}function Er(b){Bt(b),F.delete(b)}function Bt(b){var A=F.get(b).program;b.program=void 0,A!==void 0&&ee.releaseProgram(A)}this.renderBufferImmediate=function(b,A,N){C.initAttributes();var U=F.get(b);b.hasPositions&&!U.position&&(U.position=_.createBuffer()),b.hasNormals&&!U.normal&&(U.normal=_.createBuffer()),b.hasUvs&&!U.uv&&(U.uv=_.createBuffer()),b.hasColors&&!U.color&&(U.color=_.createBuffer());var W=A.getAttributes();if(b.hasPositions&&(_.bindBuffer(_.ARRAY_BUFFER,U.position),_.bufferData(_.ARRAY_BUFFER,b.positionArray,_.DYNAMIC_DRAW),C.enableAttribute(W.position),_.vertexAttribPointer(W.position,3,_.FLOAT,!1,0,0)),b.hasNormals){if(_.bindBuffer(_.ARRAY_BUFFER,U.normal),N.type!=="MeshPhongMaterial"&&N.type!=="MeshStandardMaterial"&&N.shading===t.FlatShading)for(var se=0,pe=b.count*3;se<pe;se+=9){var de=b.normalArray,we=(de[se+0]+de[se+3]+de[se+6])/3,ue=(de[se+1]+de[se+4]+de[se+7])/3,xe=(de[se+2]+de[se+5]+de[se+8])/3;de[se+0]=we,de[se+1]=ue,de[se+2]=xe,de[se+3]=we,de[se+4]=ue,de[se+5]=xe,de[se+6]=we,de[se+7]=ue,de[se+8]=xe}_.bufferData(_.ARRAY_BUFFER,b.normalArray,_.DYNAMIC_DRAW),C.enableAttribute(W.normal),_.vertexAttribPointer(W.normal,3,_.FLOAT,!1,0,0)}b.hasUvs&&N.map&&(_.bindBuffer(_.ARRAY_BUFFER,U.uv),_.bufferData(_.ARRAY_BUFFER,b.uvArray,_.DYNAMIC_DRAW),C.enableAttribute(W.uv),_.vertexAttribPointer(W.uv,2,_.FLOAT,!1,0,0)),b.hasColors&&N.vertexColors!==t.NoColors&&(_.bindBuffer(_.ARRAY_BUFFER,U.color),_.bufferData(_.ARRAY_BUFFER,b.colorArray,_.DYNAMIC_DRAW),C.enableAttribute(W.color),_.vertexAttribPointer(W.color,3,_.FLOAT,!1,0,0)),C.disableUnusedAttributes(),_.drawArrays(_.TRIANGLES,0,b.count),b.count=0},this.renderBufferDirect=function(b,A,N,U,W,se){La(U);var pe=Pa(b,A,U,W),de=!1,we=N.id+"_"+pe.id+"_"+U.wireframe;we!==L&&(L=we,de=!0);var ue=W.morphTargetInfluences;if(ue!==void 0){for(var xe=[],he=0,ze=ue.length;he<ze;he++){var Fe=ue[he];xe.push([Fe,he])}xe.sort($e),xe.length>8&&(xe.length=8);for(var De=N.morphAttributes,he=0,ze=xe.length;he<ze;he++){var Fe=xe[he];if(g[he]=Fe[0],Fe[0]!==0){var Ie=Fe[1];U.morphTargets===!0&&De.position&&N.addAttribute("morphTarget"+he,De.position[Ie]),U.morphNormals===!0&&De.normal&&N.addAttribute("morphNormal"+he,De.normal[Ie])}else U.morphTargets===!0&&N.removeAttribute("morphTarget"+he),U.morphNormals===!0&&N.removeAttribute("morphNormal"+he)}var Ke=pe.getUniforms();Ke.morphTargetInfluences!==null&&_.uniform1fv(Ke.morphTargetInfluences,g),de=!0}var Ie=N.index,Te=N.attributes.position;U.wireframe===!0&&(Ie=Y.getWireframeAttribute(N));var Mt;Ie!==null?(Mt=me,Mt.setIndex(Ie)):Mt=le,de&&(Tr(U,pe,N),Ie!==null&&_.bindBuffer(_.ELEMENT_ARRAY_BUFFER,Y.getAttributeBuffer(Ie)));var Va=0,Hi=1/0;Ie!==null?Hi=Ie.count:Te!==void 0&&(Hi=Te.count);var ka=N.drawRange.start,Cu=N.drawRange.count,Ga=se!==null?se.start:0,Lu=se!==null?se.count:1/0,Wi=Math.max(Va,ka,Ga),Pu=Math.min(Va+Hi,ka+Cu,Ga+Lu)-1,za=Math.max(0,Pu-Wi+1);if(W instanceof t.Mesh)if(U.wireframe===!0)C.setLineWidth(U.wireframeLinewidth*te()),Mt.setMode(_.LINES);else switch(W.drawMode){case t.TrianglesDrawMode:Mt.setMode(_.TRIANGLES);break;case t.TriangleStripDrawMode:Mt.setMode(_.TRIANGLE_STRIP);break;case t.TriangleFanDrawMode:Mt.setMode(_.TRIANGLE_FAN);break}else if(W instanceof t.Line){var Xi=U.linewidth;Xi===void 0&&(Xi=1),C.setLineWidth(Xi*te()),W instanceof t.LineSegments?Mt.setMode(_.LINES):Mt.setMode(_.LINE_STRIP)}else W instanceof t.Points&&Mt.setMode(_.POINTS);N instanceof t.InstancedBufferGeometry?N.maxInstancedCount>0&&Mt.renderInstances(N,Wi,za):Mt.render(Wi,za)};function Tr(b,A,N,U){var W;if(N instanceof t.InstancedBufferGeometry&&(W=J.get("ANGLE_instanced_arrays"),W===null)){console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}U===void 0&&(U=0),C.initAttributes();var se=N.attributes,pe=A.getAttributes(),de=b.defaultAttributeValues;for(var we in pe){var ue=pe[we];if(ue>=0){var xe=se[we];if(xe!==void 0){var he=xe.itemSize,ze=Y.getAttributeBuffer(xe);if(xe instanceof t.InterleavedBufferAttribute){var Fe=xe.data,De=Fe.stride,Ke=xe.offset;Fe instanceof t.InstancedInterleavedBuffer?(C.enableAttributeAndDivisor(ue,Fe.meshPerAttribute,W),N.maxInstancedCount===void 0&&(N.maxInstancedCount=Fe.meshPerAttribute*Fe.count)):C.enableAttribute(ue),_.bindBuffer(_.ARRAY_BUFFER,ze),_.vertexAttribPointer(ue,he,_.FLOAT,!1,De*Fe.array.BYTES_PER_ELEMENT,(U*De+Ke)*Fe.array.BYTES_PER_ELEMENT)}else xe instanceof t.InstancedBufferAttribute?(C.enableAttributeAndDivisor(ue,xe.meshPerAttribute,W),N.maxInstancedCount===void 0&&(N.maxInstancedCount=xe.meshPerAttribute*xe.count)):C.enableAttribute(ue),_.bindBuffer(_.ARRAY_BUFFER,ze),_.vertexAttribPointer(ue,he,_.FLOAT,!1,0,U*he*4)}else if(de!==void 0){var Ie=de[we];if(Ie!==void 0)switch(Ie.length){case 2:_.vertexAttrib2fv(ue,Ie);break;case 3:_.vertexAttrib3fv(ue,Ie);break;case 4:_.vertexAttrib4fv(ue,Ie);break;default:_.vertexAttrib1fv(ue,Ie)}}}}C.disableUnusedAttributes()}function $e(b,A){return Math.abs(A[0])-Math.abs(b[0])}function ut(b,A){return b.object.renderOrder!==A.object.renderOrder?b.object.renderOrder-A.object.renderOrder:b.material.id!==A.material.id?b.material.id-A.material.id:b.z!==A.z?b.z-A.z:b.id-A.id}function Sr(b,A){return b.object.renderOrder!==A.object.renderOrder?b.object.renderOrder-A.object.renderOrder:b.z!==A.z?A.z-b.z:b.id-A.id}this.render=function(b,A,N,U){if(!(A instanceof t.Camera)){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}var W=b.fog;if(L="",S=-1,P=null,b.autoUpdate===!0&&b.updateMatrixWorld(),A.parent===null&&A.updateMatrixWorld(),A.matrixWorldInverse.getInverse(A.matrixWorld),fe.multiplyMatrices(A.projectionMatrix,A.matrixWorldInverse),ie.setFromMatrix(fe),h.length=0,m=-1,v=-1,y.length=0,x.length=0,Ar(b,A),d.length=m+1,p.length=v+1,w.sortObjects===!0&&(d.sort(ut),p.sort(Sr)),bu(h,A),ve.render(b,A),q.calls=0,q.vertices=0,q.faces=0,q.points=0,N===void 0&&(N=null),this.setRenderTarget(N),(this.autoClear||U)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),b.overrideMaterial){var se=b.overrideMaterial;Zn(d,A,W,se),Zn(p,A,W,se)}else C.setBlending(t.NoBlending),Zn(d,A,W),Zn(p,A,W);if(_e.render(b,A),be.render(b,A,V),N){var pe=N.texture;pe.generateMipmaps&&Kn(N)&&pe.minFilter!==t.NearestFilter&&pe.minFilter!==t.LinearFilter&&Au(N)}C.setDepthTest(!0),C.setDepthWrite(!0),C.setColorWrite(!0)};function Xr(b,A,N,U,W){var se,pe;N.transparent?(se=p,pe=++v):(se=d,pe=++m);var de=se[pe];de!==void 0?(de.id=b.id,de.object=b,de.geometry=A,de.material=N,de.z=O.z,de.group=W):(de={id:b.id,object:b,geometry:A,material:N,z:O.z,group:W},se.push(de))}function Ar(b,A){if(b.visible!==!1){if(b.layers.test(A.layers)){if(b instanceof t.Light)h.push(b);else if(b instanceof t.Sprite)(b.frustumCulled===!1||ie.intersectsObject(b)===!0)&&y.push(b);else if(b instanceof t.LensFlare)x.push(b);else if(b instanceof t.ImmediateRenderObject)w.sortObjects===!0&&(O.setFromMatrixPosition(b.matrixWorld),O.applyProjection(fe)),Xr(b,null,b.material,O.z,null);else if((b instanceof t.Mesh||b instanceof t.Line||b instanceof t.Points)&&(b instanceof t.SkinnedMesh&&b.skeleton.update(),b.frustumCulled===!1||ie.intersectsObject(b)===!0)){var N=b.material;if(N.visible===!0){w.sortObjects===!0&&(O.setFromMatrixPosition(b.matrixWorld),O.applyProjection(fe));var U=Y.update(b);if(N instanceof t.MultiMaterial)for(var W=U.groups,se=N.materials,pe=0,de=W.length;pe<de;pe++){var we=W[pe],ue=se[we.materialIndex];ue.visible===!0&&Xr(b,U,ue,O.z,we)}else Xr(b,U,N,O.z,null)}}}for(var xe=b.children,pe=0,de=xe.length;pe<de;pe++)Ar(xe[pe],A)}}function Zn(b,A,N,U){for(var W=0,se=b.length;W<se;W++){var pe=b[W],de=pe.object,we=pe.geometry,ue=U===void 0?pe.material:U,xe=pe.group;if(de.modelViewMatrix.multiplyMatrices(A.matrixWorldInverse,de.matrixWorld),de.normalMatrix.getNormalMatrix(de.modelViewMatrix),de instanceof t.ImmediateRenderObject){La(ue);var he=Pa(A,N,ue,de);L="",de.render(function(ze){w.renderBufferImmediate(ze,he,ue)})}else w.renderBufferDirect(A,N,we,ue,de,xe)}}function cu(b,A,N){var U=F.get(b),W=ee.getParameters(b,I,A,N),se=ee.getProgramCode(b,W),pe=U.program,de=!0;if(pe===void 0)b.addEventListener("dispose",Re);else if(pe.code!==se)Bt(b);else{if(W.shaderID!==void 0)return;de=!1}if(de){if(W.shaderID){var we=t.ShaderLib[W.shaderID];U.__webglShader={name:b.type,uniforms:t.UniformsUtils.clone(we.uniforms),vertexShader:we.vertexShader,fragmentShader:we.fragmentShader}}else U.__webglShader={name:b.type,uniforms:b.uniforms,vertexShader:b.vertexShader,fragmentShader:b.fragmentShader};b.__webglShader=U.__webglShader,pe=ee.acquireProgram(b,W,se),U.program=pe,b.program=pe}var ue=pe.getAttributes();if(b.morphTargets){b.numSupportedMorphTargets=0;for(var xe=0;xe<w.maxMorphTargets;xe++)ue["morphTarget"+xe]>=0&&b.numSupportedMorphTargets++}if(b.morphNormals){b.numSupportedMorphNormals=0;for(var xe=0;xe<w.maxMorphNormals;xe++)ue["morphNormal"+xe]>=0&&b.numSupportedMorphNormals++}U.uniformsList=[];var he=U.__webglShader.uniforms,ze=U.program.getUniforms();for(var Fe in he){var De=ze[Fe];De&&U.uniformsList.push([U.__webglShader.uniforms[Fe],De])}(b instanceof t.MeshPhongMaterial||b instanceof t.MeshLambertMaterial||b instanceof t.MeshStandardMaterial||b.lights)&&(U.lightsHash=I.hash,he.ambientLightColor.value=I.ambient,he.directionalLights.value=I.directional,he.spotLights.value=I.spot,he.pointLights.value=I.point,he.hemisphereLights.value=I.hemi,he.directionalShadowMap.value=I.directionalShadowMap,he.directionalShadowMatrix.value=I.directionalShadowMatrix,he.spotShadowMap.value=I.spotShadowMap,he.spotShadowMatrix.value=I.spotShadowMatrix,he.pointShadowMap.value=I.pointShadowMap,he.pointShadowMatrix.value=I.pointShadowMatrix),U.hasDynamicUniforms=!1;for(var Ke=0,Ie=U.uniformsList.length;Ke<Ie;Ke++){var Te=U.uniformsList[Ke][0];if(Te.dynamic===!0){U.hasDynamicUniforms=!0;break}}}function La(b){uu(b),b.transparent===!0?C.setBlending(b.blending,b.blendEquation,b.blendSrc,b.blendDst,b.blendEquationAlpha,b.blendSrcAlpha,b.blendDstAlpha,b.premultipliedAlpha):C.setBlending(t.NoBlending),C.setDepthFunc(b.depthFunc),C.setDepthTest(b.depthTest),C.setDepthWrite(b.depthWrite),C.setColorWrite(b.colorWrite),C.setPolygonOffset(b.polygonOffset,b.polygonOffsetFactor,b.polygonOffsetUnits)}function uu(b){b.side!==t.DoubleSide?C.enable(_.CULL_FACE):C.disable(_.CULL_FACE),C.setFlipSided(b.side===t.BackSide)}function Pa(b,A,N,U){z=0;var W=F.get(N);W.program===void 0&&(N.needsUpdate=!0),W.lightsHash!==void 0&&W.lightsHash!==I.hash&&(N.needsUpdate=!0),N.needsUpdate&&(cu(N,A,U),N.needsUpdate=!1);var se=!1,pe=!1,de=!1,we=W.program,ue=we.getUniforms(),xe=W.__webglShader.uniforms;if(we.id!==M&&(_.useProgram(we.program),M=we.id,se=!0,pe=!0,de=!0),N.id!==S&&(S=N.id,pe=!0),(se||b!==P)&&(_.uniformMatrix4fv(ue.projectionMatrix,!1,b.projectionMatrix.elements),ce.logarithmicDepthBuffer&&_.uniform1f(ue.logDepthBufFC,2/(Math.log(b.far+1)/Math.LN2)),b!==P&&(P=b,pe=!0,de=!0),(N instanceof t.ShaderMaterial||N instanceof t.MeshPhongMaterial||N instanceof t.MeshStandardMaterial||N.envMap)&&ue.cameraPosition!==void 0&&(O.setFromMatrixPosition(b.matrixWorld),_.uniform3f(ue.cameraPosition,O.x,O.y,O.z)),(N instanceof t.MeshPhongMaterial||N instanceof t.MeshLambertMaterial||N instanceof t.MeshBasicMaterial||N instanceof t.MeshStandardMaterial||N instanceof t.ShaderMaterial||N.skinning)&&ue.viewMatrix!==void 0&&_.uniformMatrix4fv(ue.viewMatrix,!1,b.matrixWorldInverse.elements),ue.toneMappingExposure!==void 0&&_.uniform1f(ue.toneMappingExposure,w.toneMappingExposure),ue.toneMappingWhitePoint!==void 0&&_.uniform1f(ue.toneMappingWhitePoint,w.toneMappingWhitePoint)),N.skinning)if(U.bindMatrix&&ue.bindMatrix!==void 0&&_.uniformMatrix4fv(ue.bindMatrix,!1,U.bindMatrix.elements),U.bindMatrixInverse&&ue.bindMatrixInverse!==void 0&&_.uniformMatrix4fv(ue.bindMatrixInverse,!1,U.bindMatrixInverse.elements),ce.floatVertexTextures&&U.skeleton&&U.skeleton.useVertexTexture){if(ue.boneTexture!==void 0){var he=Gi();_.uniform1i(ue.boneTexture,he),w.setTexture(U.skeleton.boneTexture,he)}ue.boneTextureWidth!==void 0&&_.uniform1i(ue.boneTextureWidth,U.skeleton.boneTextureWidth),ue.boneTextureHeight!==void 0&&_.uniform1i(ue.boneTextureHeight,U.skeleton.boneTextureHeight)}else U.skeleton&&U.skeleton.boneMatrices&&ue.boneGlobalMatrices!==void 0&&_.uniformMatrix4fv(ue.boneGlobalMatrices,!1,U.skeleton.boneMatrices);return pe&&((N instanceof t.MeshPhongMaterial||N instanceof t.MeshLambertMaterial||N instanceof t.MeshStandardMaterial||N.lights)&&_u(xe,de),A&&N.fog&&mu(xe,A),(N instanceof t.MeshBasicMaterial||N instanceof t.MeshLambertMaterial||N instanceof t.MeshPhongMaterial||N instanceof t.MeshStandardMaterial)&&hu(xe,N),N instanceof t.LineBasicMaterial?Ra(xe,N):N instanceof t.LineDashedMaterial?(Ra(xe,N),du(xe,N)):N instanceof t.PointsMaterial?pu(xe,N):N instanceof t.MeshLambertMaterial?vu(xe,N):N instanceof t.MeshPhongMaterial?gu(xe,N):N instanceof t.MeshStandardMaterial?yu(xe,N):N instanceof t.MeshDepthMaterial?(xe.mNear.value=b.near,xe.mFar.value=b.far,xe.opacity.value=N.opacity):N instanceof t.MeshNormalMaterial&&(xe.opacity.value=N.opacity),Fa(W.uniformsList)),xu(ue,U),ue.modelMatrix!==void 0&&_.uniformMatrix4fv(ue.modelMatrix,!1,U.matrixWorld.elements),W.hasDynamicUniforms===!0&&fu(W.uniformsList,U,b),we}function fu(b,A,N){for(var U=[],W=0,se=b.length;W<se;W++){var pe=b[W][0],de=pe.onUpdateCallback;de!==void 0&&(de.bind(pe)(A,N),U.push(b[W]))}Fa(U)}function hu(b,A){b.opacity.value=A.opacity,b.diffuse.value=A.color,A.emissive&&b.emissive.value.copy(A.emissive).multiplyScalar(A.emissiveIntensity),b.map.value=A.map,b.specularMap.value=A.specularMap,b.alphaMap.value=A.alphaMap,A.aoMap&&(b.aoMap.value=A.aoMap,b.aoMapIntensity.value=A.aoMapIntensity);var N;if(A.map?N=A.map:A.specularMap?N=A.specularMap:A.displacementMap?N=A.displacementMap:A.normalMap?N=A.normalMap:A.bumpMap?N=A.bumpMap:A.roughnessMap?N=A.roughnessMap:A.metalnessMap?N=A.metalnessMap:A.alphaMap?N=A.alphaMap:A.emissiveMap&&(N=A.emissiveMap),N!==void 0){N instanceof t.WebGLRenderTarget&&(N=N.texture);var U=N.offset,W=N.repeat;b.offsetRepeat.value.set(U.x,U.y,W.x,W.y)}b.envMap.value=A.envMap,b.flipEnvMap.value=A.envMap instanceof t.WebGLRenderTargetCube?1:-1,b.reflectivity.value=A.reflectivity,b.refractionRatio.value=A.refractionRatio}function Ra(b,A){b.diffuse.value=A.color,b.opacity.value=A.opacity}function du(b,A){b.dashSize.value=A.dashSize,b.totalSize.value=A.dashSize+A.gapSize,b.scale.value=A.scale}function pu(b,A){if(b.diffuse.value=A.color,b.opacity.value=A.opacity,b.size.value=A.size*$,b.scale.value=r.clientHeight/2,b.map.value=A.map,A.map!==null){var N=A.map.offset,U=A.map.repeat;b.offsetRepeat.value.set(N.x,N.y,U.x,U.y)}}function mu(b,A){b.fogColor.value=A.color,A instanceof t.Fog?(b.fogNear.value=A.near,b.fogFar.value=A.far):A instanceof t.FogExp2&&(b.fogDensity.value=A.density)}function vu(b,A){A.lightMap&&(b.lightMap.value=A.lightMap,b.lightMapIntensity.value=A.lightMapIntensity),A.emissiveMap&&(b.emissiveMap.value=A.emissiveMap)}function gu(b,A){b.specular.value=A.specular,b.shininess.value=Math.max(A.shininess,1e-4),A.lightMap&&(b.lightMap.value=A.lightMap,b.lightMapIntensity.value=A.lightMapIntensity),A.emissiveMap&&(b.emissiveMap.value=A.emissiveMap),A.bumpMap&&(b.bumpMap.value=A.bumpMap,b.bumpScale.value=A.bumpScale),A.normalMap&&(b.normalMap.value=A.normalMap,b.normalScale.value.copy(A.normalScale)),A.displacementMap&&(b.displacementMap.value=A.displacementMap,b.displacementScale.value=A.displacementScale,b.displacementBias.value=A.displacementBias)}function yu(b,A){b.roughness.value=A.roughness,b.metalness.value=A.metalness,A.roughnessMap&&(b.roughnessMap.value=A.roughnessMap),A.metalnessMap&&(b.metalnessMap.value=A.metalnessMap),A.lightMap&&(b.lightMap.value=A.lightMap,b.lightMapIntensity.value=A.lightMapIntensity),A.emissiveMap&&(b.emissiveMap.value=A.emissiveMap),A.bumpMap&&(b.bumpMap.value=A.bumpMap,b.bumpScale.value=A.bumpScale),A.normalMap&&(b.normalMap.value=A.normalMap,b.normalScale.value.copy(A.normalScale)),A.displacementMap&&(b.displacementMap.value=A.displacementMap,b.displacementScale.value=A.displacementScale,b.displacementBias.value=A.displacementBias),A.envMap&&(b.envMapIntensity.value=A.envMapIntensity)}function _u(b,A){b.ambientLightColor.needsUpdate=A,b.directionalLights.needsUpdate=A,b.pointLights.needsUpdate=A,b.spotLights.needsUpdate=A,b.hemisphereLights.needsUpdate=A}function xu(b,A){_.uniformMatrix4fv(b.modelViewMatrix,!1,A.modelViewMatrix.elements),b.normalMatrix&&_.uniformMatrix3fv(b.normalMatrix,!1,A.normalMatrix.elements)}function Gi(){var b=z;return b>=ce.maxTextures&&console.warn("WebGLRenderer: trying to use "+b+" texture units while this GPU supports only "+ce.maxTextures),z+=1,b}function zi(b,A,N,U){var W,se;if(A==="1i")_.uniform1i(N,U);else if(A==="1f")_.uniform1f(N,U);else if(A==="2f")_.uniform2f(N,U[0],U[1]);else if(A==="3f")_.uniform3f(N,U[0],U[1],U[2]);else if(A==="4f")_.uniform4f(N,U[0],U[1],U[2],U[3]);else if(A==="1iv")_.uniform1iv(N,U);else if(A==="3iv")_.uniform3iv(N,U);else if(A==="1fv")_.uniform1fv(N,U);else if(A==="2fv")_.uniform2fv(N,U);else if(A==="3fv")_.uniform3fv(N,U);else if(A==="4fv")_.uniform4fv(N,U);else if(A==="Matrix2fv")_.uniformMatrix2fv(N,!1,U);else if(A==="Matrix3fv")_.uniformMatrix3fv(N,!1,U);else if(A==="Matrix4fv")_.uniformMatrix4fv(N,!1,U);else if(A==="i")_.uniform1i(N,U);else if(A==="f")_.uniform1f(N,U);else if(A==="v2")_.uniform2f(N,U.x,U.y);else if(A==="v3")_.uniform3f(N,U.x,U.y,U.z);else if(A==="v4")_.uniform4f(N,U.x,U.y,U.z,U.w);else if(A==="c")_.uniform3f(N,U.r,U.g,U.b);else if(A==="s"){var pe=b.properties;for(var de in pe){var we=pe[de],ue=N[de],xe=U[de];zi(we,we.type,ue,xe)}}else if(A==="sa")for(var pe=b.properties,he=0,ze=U.length;he<ze;he++)for(var de in pe){var we=pe[de],ue=N[he][de],xe=U[he][de];zi(we,we.type,ue,xe)}else if(A==="iv1")_.uniform1iv(N,U);else if(A==="iv")_.uniform3iv(N,U);else if(A==="fv1")_.uniform1fv(N,U);else if(A==="fv")_.uniform3fv(N,U);else if(A==="v2v"){b._array===void 0&&(b._array=new Float32Array(2*U.length));for(var he=0,Fe=0,De=U.length;he<De;he++,Fe+=2)b._array[Fe+0]=U[he].x,b._array[Fe+1]=U[he].y;_.uniform2fv(N,b._array)}else if(A==="v3v"){b._array===void 0&&(b._array=new Float32Array(3*U.length));for(var he=0,Ke=0,De=U.length;he<De;he++,Ke+=3)b._array[Ke+0]=U[he].x,b._array[Ke+1]=U[he].y,b._array[Ke+2]=U[he].z;_.uniform3fv(N,b._array)}else if(A==="v4v"){b._array===void 0&&(b._array=new Float32Array(4*U.length));for(var he=0,Ie=0,De=U.length;he<De;he++,Ie+=4)b._array[Ie+0]=U[he].x,b._array[Ie+1]=U[he].y,b._array[Ie+2]=U[he].z,b._array[Ie+3]=U[he].w;_.uniform4fv(N,b._array)}else if(A==="m2")_.uniformMatrix2fv(N,!1,U.elements);else if(A==="m3")_.uniformMatrix3fv(N,!1,U.elements);else if(A==="m3v"){b._array===void 0&&(b._array=new Float32Array(9*U.length));for(var he=0,De=U.length;he<De;he++)U[he].flattenToArrayOffset(b._array,he*9);_.uniformMatrix3fv(N,!1,b._array)}else if(A==="m4")_.uniformMatrix4fv(N,!1,U.elements);else if(A==="m4v"){b._array===void 0&&(b._array=new Float32Array(16*U.length));for(var he=0,De=U.length;he<De;he++)U[he].flattenToArrayOffset(b._array,he*16);_.uniformMatrix4fv(N,!1,b._array)}else if(A==="t"){if(W=U,se=Gi(),_.uniform1i(N,se),!W)return;W instanceof t.CubeTexture||Array.isArray(W.image)&&W.image.length===6?Da(W,se):W instanceof t.WebGLRenderTargetCube?Ia(W.texture,se):W instanceof t.WebGLRenderTarget?w.setTexture(W.texture,se):w.setTexture(W,se)}else if(A==="tv"){b._array===void 0&&(b._array=[]);for(var he=0,De=b.value.length;he<De;he++)b._array[he]=Gi();_.uniform1iv(N,b._array);for(var he=0,De=b.value.length;he<De;he++)W=b.value[he],se=b._array[he],W&&(W instanceof t.CubeTexture||W.image instanceof Array&&W.image.length===6?Da(W,se):W instanceof t.WebGLRenderTarget?w.setTexture(W.texture,se):W instanceof t.WebGLRenderTargetCube?Ia(W.texture,se):w.setTexture(W,se))}else console.warn("THREE.WebGLRenderer: Unknown uniform type: "+A)}function Fa(b){for(var A=0,N=b.length;A<N;A++){var U=b[A][0];if(U.needsUpdate!==!1){var W=U.type,se=b[A][1],pe=U.value;zi(U,W,se,pe)}}}function bu(b,A){var N,U,W,se=0,pe=0,de=0,we,ue,xe,he=A.matrixWorldInverse,ze=0,Fe=0,De=0,Ke=0,Ie=0;for(I.shadowsPointLight=0,N=0,U=b.length;N<U;N++)if(W=b[N],we=W.color,ue=W.intensity,xe=W.distance,W instanceof t.AmbientLight)se+=we.r*ue,pe+=we.g*ue,de+=we.b*ue;else if(W instanceof t.DirectionalLight){var Te=Q.get(W);Te.color.copy(W.color).multiplyScalar(W.intensity),Te.direction.setFromMatrixPosition(W.matrixWorld),O.setFromMatrixPosition(W.target.matrixWorld),Te.direction.sub(O),Te.direction.transformDirection(he),Te.shadow=W.castShadow,W.castShadow&&(Te.shadowBias=W.shadow.bias,Te.shadowRadius=W.shadow.radius,Te.shadowMapSize=W.shadow.mapSize,I.shadows[Ie++]=W),I.directionalShadowMap[ze]=W.shadow.map,I.directionalShadowMatrix[ze]=W.shadow.matrix,I.directional[ze++]=Te}else if(W instanceof t.SpotLight){var Te=Q.get(W);Te.position.setFromMatrixPosition(W.matrixWorld),Te.position.applyMatrix4(he),Te.color.copy(we).multiplyScalar(ue),Te.distance=xe,Te.direction.setFromMatrixPosition(W.matrixWorld),O.setFromMatrixPosition(W.target.matrixWorld),Te.direction.sub(O),Te.direction.transformDirection(he),Te.coneCos=Math.cos(W.angle),Te.penumbraCos=Math.cos(W.angle*(1-W.penumbra)),Te.decay=W.distance===0?0:W.decay,Te.shadow=W.castShadow,W.castShadow&&(Te.shadowBias=W.shadow.bias,Te.shadowRadius=W.shadow.radius,Te.shadowMapSize=W.shadow.mapSize,I.shadows[Ie++]=W),I.spotShadowMap[De]=W.shadow.map,I.spotShadowMatrix[De]=W.shadow.matrix,I.spot[De++]=Te}else if(W instanceof t.PointLight){var Te=Q.get(W);Te.position.setFromMatrixPosition(W.matrixWorld),Te.position.applyMatrix4(he),Te.color.copy(W.color).multiplyScalar(W.intensity),Te.distance=W.distance,Te.decay=W.distance===0?0:W.decay,Te.shadow=W.castShadow,W.castShadow&&(Te.shadowBias=W.shadow.bias,Te.shadowRadius=W.shadow.radius,Te.shadowMapSize=W.shadow.mapSize,I.shadows[Ie++]=W),I.pointShadowMap[Fe]=W.shadow.map,I.pointShadowMatrix[Fe]===void 0&&(I.pointShadowMatrix[Fe]=new t.Matrix4),O.setFromMatrixPosition(W.matrixWorld).negate(),I.pointShadowMatrix[Fe].identity().setPosition(O),I.point[Fe++]=Te}else if(W instanceof t.HemisphereLight){var Te=Q.get(W);Te.direction.setFromMatrixPosition(W.matrixWorld),Te.direction.transformDirection(he),Te.direction.normalize(),Te.skyColor.copy(W.color).multiplyScalar(ue),Te.groundColor.copy(W.groundColor).multiplyScalar(ue),I.hemi[Ke++]=Te}I.ambient[0]=se,I.ambient[1]=pe,I.ambient[2]=de,I.directional.length=ze,I.spot.length=De,I.point.length=Fe,I.hemi.length=Ke,I.shadows.length=Ie,I.hash=ze+","+Fe+","+De+","+Ke+","+Ie}this.setFaceCulling=function(b,A){b===t.CullFaceNone?C.disable(_.CULL_FACE):(A===t.FrontFaceDirectionCW?_.frontFace(_.CW):_.frontFace(_.CCW),b===t.CullFaceBack?_.cullFace(_.BACK):b===t.CullFaceFront?_.cullFace(_.FRONT):_.cullFace(_.FRONT_AND_BACK),C.enable(_.CULL_FACE))};function $n(b,A,N){var U;if(N?(_.texParameteri(b,_.TEXTURE_WRAP_S,st(A.wrapS)),_.texParameteri(b,_.TEXTURE_WRAP_T,st(A.wrapT)),_.texParameteri(b,_.TEXTURE_MAG_FILTER,st(A.magFilter)),_.texParameteri(b,_.TEXTURE_MIN_FILTER,st(A.minFilter))):(_.texParameteri(b,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(b,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),(A.wrapS!==t.ClampToEdgeWrapping||A.wrapT!==t.ClampToEdgeWrapping)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",A),_.texParameteri(b,_.TEXTURE_MAG_FILTER,Na(A.magFilter)),_.texParameteri(b,_.TEXTURE_MIN_FILTER,Na(A.minFilter)),A.minFilter!==t.NearestFilter&&A.minFilter!==t.LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",A)),U=J.get("EXT_texture_filter_anisotropic"),U){if(A.type===t.FloatType&&J.get("OES_texture_float_linear")===null||A.type===t.HalfFloatType&&J.get("OES_texture_half_float_linear")===null)return;(A.anisotropy>1||F.get(A).__currentAnisotropy)&&(_.texParameterf(b,U.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(A.anisotropy,w.getMaxAnisotropy())),F.get(A).__currentAnisotropy=A.anisotropy)}}function Mu(b,A,N){b.__webglInit===void 0&&(b.__webglInit=!0,A.addEventListener("dispose",Ae),b.__webglTexture=_.createTexture(),H.textures++),C.activeTexture(_.TEXTURE0+N),C.bindTexture(_.TEXTURE_2D,b.__webglTexture),_.pixelStorei(_.UNPACK_FLIP_Y_WEBGL,A.flipY),_.pixelStorei(_.UNPACK_PREMULTIPLY_ALPHA_WEBGL,A.premultiplyAlpha),_.pixelStorei(_.UNPACK_ALIGNMENT,A.unpackAlignment);var U=Ba(A.image,ce.maxTextureSize);wu(A)&&Kn(U)===!1&&(U=Eu(U));var W=Kn(U),se=st(A.format),pe=st(A.type);$n(_.TEXTURE_2D,A,W);var de,we=A.mipmaps;if(A instanceof t.DataTexture)if(we.length>0&&W){for(var ue=0,xe=we.length;ue<xe;ue++)de=we[ue],C.texImage2D(_.TEXTURE_2D,ue,se,de.width,de.height,0,se,pe,de.data);A.generateMipmaps=!1}else C.texImage2D(_.TEXTURE_2D,0,se,U.width,U.height,0,se,pe,U.data);else if(A instanceof t.CompressedTexture)for(var ue=0,xe=we.length;ue<xe;ue++)de=we[ue],A.format!==t.RGBAFormat&&A.format!==t.RGBFormat?C.getCompressedTextureFormats().indexOf(se)>-1?C.compressedTexImage2D(_.TEXTURE_2D,ue,se,de.width,de.height,0,de.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):C.texImage2D(_.TEXTURE_2D,ue,se,de.width,de.height,0,se,pe,de.data);else if(we.length>0&&W){for(var ue=0,xe=we.length;ue<xe;ue++)de=we[ue],C.texImage2D(_.TEXTURE_2D,ue,se,se,pe,de);A.generateMipmaps=!1}else C.texImage2D(_.TEXTURE_2D,0,se,se,pe,U);A.generateMipmaps&&W&&_.generateMipmap(_.TEXTURE_2D),b.__version=A.version,A.onUpdate&&A.onUpdate(A)}this.setTexture=function(b,A){var N=F.get(b);if(b.version>0&&N.__version!==b.version){var U=b.image;if(U===void 0){console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",b);return}if(U.complete===!1){console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",b);return}Mu(N,b,A);return}C.activeTexture(_.TEXTURE0+A),C.bindTexture(_.TEXTURE_2D,N.__webglTexture)};function Ba(b,A){if(b.width>A||b.height>A){var N=A/Math.max(b.width,b.height),U=document.createElement("canvas");U.width=Math.floor(b.width*N),U.height=Math.floor(b.height*N);var W=U.getContext("2d");return W.drawImage(b,0,0,b.width,b.height,0,0,U.width,U.height),console.warn("THREE.WebGLRenderer: image is too big ("+b.width+"x"+b.height+"). Resized to "+U.width+"x"+U.height,b),U}return b}function Kn(b){return t.Math.isPowerOfTwo(b.width)&&t.Math.isPowerOfTwo(b.height)}function wu(b){return b.wrapS!==t.ClampToEdgeWrapping||b.wrapT!==t.ClampToEdgeWrapping||b.minFilter!==t.NearestFilter&&b.minFilter!==t.LinearFilter}function Eu(b){if(b instanceof HTMLImageElement||b instanceof HTMLCanvasElement){var A=document.createElement("canvas");A.width=t.Math.nearestPowerOfTwo(b.width),A.height=t.Math.nearestPowerOfTwo(b.height);var N=A.getContext("2d");return N.drawImage(b,0,0,A.width,A.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+b.width+"x"+b.height+"). Resized to "+A.width+"x"+A.height,b),A}return b}function Da(b,A){var N=F.get(b);if(b.image.length===6)if(b.version>0&&N.__version!==b.version){N.__image__webglTextureCube||(b.addEventListener("dispose",Ae),N.__image__webglTextureCube=_.createTexture(),H.textures++),C.activeTexture(_.TEXTURE0+A),C.bindTexture(_.TEXTURE_CUBE_MAP,N.__image__webglTextureCube),_.pixelStorei(_.UNPACK_FLIP_Y_WEBGL,b.flipY);for(var U=b instanceof t.CompressedTexture,W=b.image[0]instanceof t.DataTexture,se=[],pe=0;pe<6;pe++)w.autoScaleCubemaps&&!U&&!W?se[pe]=Ba(b.image[pe],ce.maxCubemapSize):se[pe]=W?b.image[pe].image:b.image[pe];var de=se[0],we=Kn(de),ue=st(b.format),xe=st(b.type);$n(_.TEXTURE_CUBE_MAP,b,we);for(var pe=0;pe<6;pe++)if(!U)W?C.texImage2D(_.TEXTURE_CUBE_MAP_POSITIVE_X+pe,0,ue,se[pe].width,se[pe].height,0,ue,xe,se[pe].data):C.texImage2D(_.TEXTURE_CUBE_MAP_POSITIVE_X+pe,0,ue,ue,xe,se[pe]);else for(var he,ze=se[pe].mipmaps,Fe=0,De=ze.length;Fe<De;Fe++)he=ze[Fe],b.format!==t.RGBAFormat&&b.format!==t.RGBFormat?C.getCompressedTextureFormats().indexOf(ue)>-1?C.compressedTexImage2D(_.TEXTURE_CUBE_MAP_POSITIVE_X+pe,Fe,ue,he.width,he.height,0,he.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setCubeTexture()"):C.texImage2D(_.TEXTURE_CUBE_MAP_POSITIVE_X+pe,Fe,ue,he.width,he.height,0,ue,xe,he.data);b.generateMipmaps&&we&&_.generateMipmap(_.TEXTURE_CUBE_MAP),N.__version=b.version,b.onUpdate&&b.onUpdate(b)}else C.activeTexture(_.TEXTURE0+A),C.bindTexture(_.TEXTURE_CUBE_MAP,N.__image__webglTextureCube)}function Ia(b,A){C.activeTexture(_.TEXTURE0+A),C.bindTexture(_.TEXTURE_CUBE_MAP,F.get(b).__webglTexture)}function Ua(b,A,N,U){var W=st(A.texture.format),se=st(A.texture.type);C.texImage2D(U,0,W,A.width,A.height,0,W,se,null),_.bindFramebuffer(_.FRAMEBUFFER,b),_.framebufferTexture2D(_.FRAMEBUFFER,N,U,F.get(A.texture).__webglTexture,0),_.bindFramebuffer(_.FRAMEBUFFER,null)}function Oa(b,A){_.bindRenderbuffer(_.RENDERBUFFER,b),A.depthBuffer&&!A.stencilBuffer?(_.renderbufferStorage(_.RENDERBUFFER,_.DEPTH_COMPONENT16,A.width,A.height),_.framebufferRenderbuffer(_.FRAMEBUFFER,_.DEPTH_ATTACHMENT,_.RENDERBUFFER,b)):A.depthBuffer&&A.stencilBuffer?(_.renderbufferStorage(_.RENDERBUFFER,_.DEPTH_STENCIL,A.width,A.height),_.framebufferRenderbuffer(_.FRAMEBUFFER,_.DEPTH_STENCIL_ATTACHMENT,_.RENDERBUFFER,b)):_.renderbufferStorage(_.RENDERBUFFER,_.RGBA4,A.width,A.height),_.bindRenderbuffer(_.RENDERBUFFER,null)}function Tu(b){var A=F.get(b),N=b instanceof t.WebGLRenderTargetCube;if(N){A.__webglDepthbuffer=[];for(var U=0;U<6;U++)_.bindFramebuffer(_.FRAMEBUFFER,A.__webglFramebuffer[U]),A.__webglDepthbuffer[U]=_.createRenderbuffer(),Oa(A.__webglDepthbuffer[U],b)}else _.bindFramebuffer(_.FRAMEBUFFER,A.__webglFramebuffer),A.__webglDepthbuffer=_.createRenderbuffer(),Oa(A.__webglDepthbuffer,b);_.bindFramebuffer(_.FRAMEBUFFER,null)}function Su(b){var A=F.get(b),N=F.get(b.texture);b.addEventListener("dispose",Se),N.__webglTexture=_.createTexture(),H.textures++;var U=b instanceof t.WebGLRenderTargetCube,W=t.Math.isPowerOfTwo(b.width)&&t.Math.isPowerOfTwo(b.height);if(U){A.__webglFramebuffer=[];for(var se=0;se<6;se++)A.__webglFramebuffer[se]=_.createFramebuffer()}else A.__webglFramebuffer=_.createFramebuffer();if(U){C.bindTexture(_.TEXTURE_CUBE_MAP,N.__webglTexture),$n(_.TEXTURE_CUBE_MAP,b.texture,W);for(var se=0;se<6;se++)Ua(A.__webglFramebuffer[se],b,_.COLOR_ATTACHMENT0,_.TEXTURE_CUBE_MAP_POSITIVE_X+se);b.texture.generateMipmaps&&W&&_.generateMipmap(_.TEXTURE_CUBE_MAP),C.bindTexture(_.TEXTURE_CUBE_MAP,null)}else C.bindTexture(_.TEXTURE_2D,N.__webglTexture),$n(_.TEXTURE_2D,b.texture,W),Ua(A.__webglFramebuffer,b,_.COLOR_ATTACHMENT0,_.TEXTURE_2D),b.texture.generateMipmaps&&W&&_.generateMipmap(_.TEXTURE_2D),C.bindTexture(_.TEXTURE_2D,null);b.depthBuffer&&Tu(b)}this.getCurrentRenderTarget=function(){return E},this.setRenderTarget=function(b){E=b,b&&F.get(b).__webglFramebuffer===void 0&&Su(b);var A=b instanceof t.WebGLRenderTargetCube,N;if(b){var U=F.get(b);A?N=U.__webglFramebuffer[b.activeCubeFace]:N=U.__webglFramebuffer,R.copy(b.scissor),B=b.scissorTest,V.copy(b.viewport)}else N=null,R.copy(Z).multiplyScalar($),B=K,V.copy(oe).multiplyScalar($);if(T!==N&&(_.bindFramebuffer(_.FRAMEBUFFER,N),T=N),C.scissor(R),C.setScissorTest(B),C.viewport(V),A){var W=F.get(b.texture);_.framebufferTexture2D(_.FRAMEBUFFER,_.COLOR_ATTACHMENT0,_.TEXTURE_CUBE_MAP_POSITIVE_X+b.activeCubeFace,W.__webglTexture,b.activeMipMapLevel)}},this.readRenderTargetPixels=function(b,A,N,U,W,se){if(!(b instanceof t.WebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}var pe=F.get(b).__webglFramebuffer;if(pe){var de=!1;pe!==T&&(_.bindFramebuffer(_.FRAMEBUFFER,pe),de=!0);try{var we=b.texture;if(we.format!==t.RGBAFormat&&st(we.format)!==_.getParameter(_.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(we.type!==t.UnsignedByteType&&st(we.type)!==_.getParameter(_.IMPLEMENTATION_COLOR_READ_TYPE)&&!(we.type===t.FloatType&&J.get("WEBGL_color_buffer_float"))&&!(we.type===t.HalfFloatType&&J.get("EXT_color_buffer_half_float"))){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}_.checkFramebufferStatus(_.FRAMEBUFFER)===_.FRAMEBUFFER_COMPLETE?_.readPixels(A,N,U,W,st(we.format),st(we.type),se):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{de&&_.bindFramebuffer(_.FRAMEBUFFER,T)}}};function Au(b){var A=b instanceof t.WebGLRenderTargetCube?_.TEXTURE_CUBE_MAP:_.TEXTURE_2D,N=F.get(b.texture).__webglTexture;C.bindTexture(A,N),_.generateMipmap(A),C.bindTexture(A,null)}function Na(b){return b===t.NearestFilter||b===t.NearestMipMapNearestFilter||b===t.NearestMipMapLinearFilter?_.NEAREST:_.LINEAR}function st(b){var A;if(b===t.RepeatWrapping)return _.REPEAT;if(b===t.ClampToEdgeWrapping)return _.CLAMP_TO_EDGE;if(b===t.MirroredRepeatWrapping)return _.MIRRORED_REPEAT;if(b===t.NearestFilter)return _.NEAREST;if(b===t.NearestMipMapNearestFilter)return _.NEAREST_MIPMAP_NEAREST;if(b===t.NearestMipMapLinearFilter)return _.NEAREST_MIPMAP_LINEAR;if(b===t.LinearFilter)return _.LINEAR;if(b===t.LinearMipMapNearestFilter)return _.LINEAR_MIPMAP_NEAREST;if(b===t.LinearMipMapLinearFilter)return _.LINEAR_MIPMAP_LINEAR;if(b===t.UnsignedByteType)return _.UNSIGNED_BYTE;if(b===t.UnsignedShort4444Type)return _.UNSIGNED_SHORT_4_4_4_4;if(b===t.UnsignedShort5551Type)return _.UNSIGNED_SHORT_5_5_5_1;if(b===t.UnsignedShort565Type)return _.UNSIGNED_SHORT_5_6_5;if(b===t.ByteType)return _.BYTE;if(b===t.ShortType)return _.SHORT;if(b===t.UnsignedShortType)return _.UNSIGNED_SHORT;if(b===t.IntType)return _.INT;if(b===t.UnsignedIntType)return _.UNSIGNED_INT;if(b===t.FloatType)return _.FLOAT;if(A=J.get("OES_texture_half_float"),A!==null&&b===t.HalfFloatType)return A.HALF_FLOAT_OES;if(b===t.AlphaFormat)return _.ALPHA;if(b===t.RGBFormat)return _.RGB;if(b===t.RGBAFormat)return _.RGBA;if(b===t.LuminanceFormat)return _.LUMINANCE;if(b===t.LuminanceAlphaFormat)return _.LUMINANCE_ALPHA;if(b===t.AddEquation)return _.FUNC_ADD;if(b===t.SubtractEquation)return _.FUNC_SUBTRACT;if(b===t.ReverseSubtractEquation)return _.FUNC_REVERSE_SUBTRACT;if(b===t.ZeroFactor)return _.ZERO;if(b===t.OneFactor)return _.ONE;if(b===t.SrcColorFactor)return _.SRC_COLOR;if(b===t.OneMinusSrcColorFactor)return _.ONE_MINUS_SRC_COLOR;if(b===t.SrcAlphaFactor)return _.SRC_ALPHA;if(b===t.OneMinusSrcAlphaFactor)return _.ONE_MINUS_SRC_ALPHA;if(b===t.DstAlphaFactor)return _.DST_ALPHA;if(b===t.OneMinusDstAlphaFactor)return _.ONE_MINUS_DST_ALPHA;if(b===t.DstColorFactor)return _.DST_COLOR;if(b===t.OneMinusDstColorFactor)return _.ONE_MINUS_DST_COLOR;if(b===t.SrcAlphaSaturateFactor)return _.SRC_ALPHA_SATURATE;if(A=J.get("WEBGL_compressed_texture_s3tc"),A!==null){if(b===t.RGB_S3TC_DXT1_Format)return A.COMPRESSED_RGB_S3TC_DXT1_EXT;if(b===t.RGBA_S3TC_DXT1_Format)return A.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(b===t.RGBA_S3TC_DXT3_Format)return A.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(b===t.RGBA_S3TC_DXT5_Format)return A.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(A=J.get("WEBGL_compressed_texture_pvrtc"),A!==null){if(b===t.RGB_PVRTC_4BPPV1_Format)return A.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(b===t.RGB_PVRTC_2BPPV1_Format)return A.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(b===t.RGBA_PVRTC_4BPPV1_Format)return A.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(b===t.RGBA_PVRTC_2BPPV1_Format)return A.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(A=J.get("WEBGL_compressed_texture_etc1"),A!==null&&b===t.RGB_ETC1_Format)return A.COMPRESSED_RGB_ETC1_WEBGL;if(A=J.get("EXT_blend_minmax"),A!==null){if(b===t.MinEquation)return A.MIN_EXT;if(b===t.MaxEquation)return A.MAX_EXT}return 0}},t.WebGLRenderTarget=function(e,r,n){this.uuid=t.Math.generateUUID(),this.width=e,this.height=r,this.scissor=new t.Vector4(0,0,e,r),this.scissorTest=!1,this.viewport=new t.Vector4(0,0,e,r),n=n||{},n.minFilter===void 0&&(n.minFilter=t.LinearFilter),this.texture=new t.Texture(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy),this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!0},t.WebGLRenderTarget.prototype={constructor:t.WebGLRenderTarget,setSize:function(e,r){(this.width!==e||this.height!==r)&&(this.width=e,this.height=r,this.dispose()),this.viewport.set(0,0,e,r),this.scissor.set(0,0,e,r)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},t.EventDispatcher.prototype.apply(t.WebGLRenderTarget.prototype),t.WebGLRenderTargetCube=function(e,r,n){t.WebGLRenderTarget.call(this,e,r,n),this.activeCubeFace=0,this.activeMipMapLevel=0},t.WebGLRenderTargetCube.prototype=Object.create(t.WebGLRenderTarget.prototype),t.WebGLRenderTargetCube.prototype.constructor=t.WebGLRenderTargetCube,t.WebGLBufferRenderer=function(e,r,n){var i;function a(u){i=u}function s(u,f){e.drawArrays(i,u,f),n.calls++,n.vertices+=f,i===e.TRIANGLES&&(n.faces+=f/3)}function c(u){var f=r.get("ANGLE_instanced_arrays");if(f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}var h=u.attributes.position,d=0;h instanceof t.InterleavedBufferAttribute?(d=h.data.count,f.drawArraysInstancedANGLE(i,0,d,u.maxInstancedCount)):(d=h.count,f.drawArraysInstancedANGLE(i,0,d,u.maxInstancedCount)),n.calls++,n.vertices+=d*u.maxInstancedCount,i===e.TRIANGLES&&(n.faces+=u.maxInstancedCount*d/3)}this.setMode=a,this.render=s,this.renderInstances=c},t.WebGLIndexedBufferRenderer=function(e,r,n){var i;function a(d){i=d}var s,c;function u(d){d.array instanceof Uint32Array&&r.get("OES_element_index_uint")?(s=e.UNSIGNED_INT,c=4):(s=e.UNSIGNED_SHORT,c=2)}function f(d,m){e.drawElements(i,m,s,d*c),n.calls++,n.vertices+=m,i===e.TRIANGLES&&(n.faces+=m/3)}function h(d,m,p){var v=r.get("ANGLE_instanced_arrays");if(v===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v.drawElementsInstancedANGLE(i,p,s,m*c,d.maxInstancedCount),n.calls++,n.vertices+=p*d.maxInstancedCount,i===e.TRIANGLES&&(n.faces+=d.maxInstancedCount*p/3)}this.setMode=a,this.setIndex=u,this.render=f,this.renderInstances=h},t.WebGLExtensions=function(e){var r={};this.get=function(n){if(r[n]!==void 0)return r[n];var i;switch(n){case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":i=e.getExtension("WEBGL_compressed_texture_etc1");break;default:i=e.getExtension(n)}return i===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),r[n]=i,i}},t.WebGLCapabilities=function(e,r,n){function i(s){if(s==="highp"){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";s="mediump"}return s==="mediump"&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}this.getMaxPrecision=i,this.precision=n.precision!==void 0?n.precision:"highp",this.logarithmicDepthBuffer=n.logarithmicDepthBuffer!==void 0?n.logarithmicDepthBuffer:!1,this.maxTextures=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this.maxVertexTextures=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.maxCubemapSize=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),this.maxAttributes=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.maxVertexUniforms=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),this.maxVaryings=e.getParameter(e.MAX_VARYING_VECTORS),this.maxFragmentUniforms=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),this.vertexTextures=this.maxVertexTextures>0,this.floatFragmentTextures=!!r.get("OES_texture_float"),this.floatVertexTextures=this.vertexTextures&&this.floatFragmentTextures;var a=i(this.precision);a!==this.precision&&(console.warn("THREE.WebGLRenderer:",this.precision,"not supported, using",a,"instead."),this.precision=a),this.logarithmicDepthBuffer&&(this.logarithmicDepthBuffer=!!r.get("EXT_frag_depth"))},t.WebGLGeometries=function(e,r,n){var i={};function a(d){var m=d.geometry;if(i[m.id]!==void 0)return i[m.id];m.addEventListener("dispose",s);var p;return m instanceof t.BufferGeometry?p=m:m instanceof t.Geometry&&(m._bufferGeometry===void 0&&(m._bufferGeometry=new t.BufferGeometry().setFromObject(d)),p=m._bufferGeometry),i[m.id]=p,n.memory.geometries++,p}function s(d){var m=d.target,p=i[m.id];p.index!==null&&u(p.index),f(p.attributes),m.removeEventListener("dispose",s),delete i[m.id];var v=r.get(m);v.wireframe&&u(v.wireframe),r.delete(m);var g=r.get(p);g.wireframe&&u(g.wireframe),r.delete(p),n.memory.geometries--}function c(d){return d instanceof t.InterleavedBufferAttribute?r.get(d.data).__webglBuffer:r.get(d).__webglBuffer}function u(d){var m=c(d);m!==void 0&&(e.deleteBuffer(m),h(d))}function f(d){for(var m in d)u(d[m])}function h(d){d instanceof t.InterleavedBufferAttribute?r.delete(d.data):r.delete(d)}this.get=a},t.WebGLLights=function(){var e={};this.get=function(r){if(e[r.id]!==void 0)return e[r.id];var n;switch(r.type){case"DirectionalLight":n={direction:new t.Vector3,color:new t.Color,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new t.Vector2};break;case"SpotLight":n={position:new t.Vector3,direction:new t.Vector3,color:new t.Color,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new t.Vector2};break;case"PointLight":n={position:new t.Vector3,color:new t.Color,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new t.Vector2};break;case"HemisphereLight":n={direction:new t.Vector3,skyColor:new t.Color,groundColor:new t.Color};break}return e[r.id]=n,n}},t.WebGLObjects=function(e,r,n){var i=new t.WebGLGeometries(e,r,n);function a(m){var p=i.get(m);m.geometry instanceof t.Geometry&&p.updateFromObject(m);var v=p.index,g=p.attributes;v!==null&&s(v,e.ELEMENT_ARRAY_BUFFER);for(var y in g)s(g[y],e.ARRAY_BUFFER);var x=p.morphAttributes;for(var y in x)for(var w=x[y],M=0,E=w.length;M<E;M++)s(w[M],e.ARRAY_BUFFER);return p}function s(m,p){var v=m instanceof t.InterleavedBufferAttribute?m.data:m,g=r.get(v);g.__webglBuffer===void 0?c(g,v,p):g.version!==v.version&&u(g,v,p)}function c(m,p,v){m.__webglBuffer=e.createBuffer(),e.bindBuffer(v,m.__webglBuffer);var g=p.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW;e.bufferData(v,p.array,g),m.version=p.version}function u(m,p,v){e.bindBuffer(v,m.__webglBuffer),p.dynamic===!1||p.updateRange.count===-1?e.bufferSubData(v,0,p.array):p.updateRange.count===0?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(v,p.updateRange.offset*p.array.BYTES_PER_ELEMENT,p.array.subarray(p.updateRange.offset,p.updateRange.offset+p.updateRange.count)),p.updateRange.count=0),m.version=p.version}function f(m){return m instanceof t.InterleavedBufferAttribute?r.get(m.data).__webglBuffer:r.get(m).__webglBuffer}function h(m){var p=r.get(m);if(p.wireframe!==void 0)return p.wireframe;var v=[],g=m.index,y=m.attributes,x=y.position;if(g!==null)for(var w={},M=g.array,E=0,T=M.length;E<T;E+=3){var S=M[E+0],L=M[E+1],P=M[E+2];d(w,S,L)&&v.push(S,L),d(w,L,P)&&v.push(L,P),d(w,P,S)&&v.push(P,S)}else for(var M=y.position.array,E=0,T=M.length/3-1;E<T;E+=3){var S=E+0,L=E+1,P=E+2;v.push(S,L,L,P,P,S)}var R=x.count>65535?Uint32Array:Uint16Array,B=new t.BufferAttribute(new R(v),1);return s(B,e.ELEMENT_ARRAY_BUFFER),p.wireframe=B,B}function d(m,p,v){if(p>v){var g=p;p=v,v=g}var y=m[p];return y===void 0?(m[p]=[v],!0):y.indexOf(v)===-1?(y.push(v),!0):!1}this.getAttributeBuffer=f,this.getWireframeAttribute=h,this.update=a},t.WebGLProgram=function(){var e=0,r=/^([\w\d_]+)\.([\w\d_]+)$/,n=/^([\w\d_]+)\[(\d+)\]\.([\w\d_]+)$/,i=/^([\w\d_]+)\[0\]$/;function a(x){switch(x){case t.LinearEncoding:return["Linear","( value )"];case t.sRGBEncoding:return["sRGB","( value )"];case t.RGBEEncoding:return["RGBE","( value )"];case t.RGBM7Encoding:return["RGBM","( value, 7.0 )"];case t.RGBM16Encoding:return["RGBM","( value, 16.0 )"];case t.RGBDEncoding:return["RGBD","( value, 256.0 )"];case t.GammaEncoding:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+x)}}function s(x,w){var M=a(w);return"vec4 "+x+"( vec4 value ) { return "+M[0]+"ToLinear"+M[1]+"; }"}function c(x,w){var M=a(w);return"vec4 "+x+"( vec4 value ) { return LinearTo"+M[0]+M[1]+"; }"}function u(x,w){var M;switch(w){case t.LinearToneMapping:M="Linear";break;case t.ReinhardToneMapping:M="Reinhard";break;case t.Uncharted2ToneMapping:M="Uncharted2";break;case t.CineonToneMapping:M="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+w)}return"vec3 "+x+"( vec3 color ) { return "+M+"ToneMapping( color ); }"}function f(x,w,M){x=x||{};var E=[x.derivatives||w.envMapCubeUV||w.bumpMap||w.normalMap||w.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(x.fragDepth||w.logarithmicDepthBuffer)&&M.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",x.drawBuffers&&M.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(x.shaderTextureLOD||w.envMap)&&M.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""];return E.filter(p).join(`
`)}function h(x){var w=[];for(var M in x){var E=x[M];E!==!1&&w.push("#define "+M+" "+E)}return w.join(`
`)}function d(x,w,M){for(var E={},T=x.getProgramParameter(w,x.ACTIVE_UNIFORMS),S=0;S<T;S++){var L=x.getActiveUniform(w,S),P=L.name,R=x.getUniformLocation(w,P),B=r.exec(P);if(B){var V=B[1],z=B[2],X=E[V];X||(X=E[V]={}),X[z]=R;continue}if(B=n.exec(P),B){var G=B[1],k=B[2],j=B[3],$=E[G];$||($=E[G]=[]);var Z=$[k];Z||(Z=$[k]={}),Z[j]=R;continue}if(B=i.exec(P),B){var G=B[1];E[G]=R;continue}E[P]=R}return E}function m(x,w,M){for(var E={},T=x.getProgramParameter(w,x.ACTIVE_ATTRIBUTES),S=0;S<T;S++){var L=x.getActiveAttrib(w,S),P=L.name;E[P]=x.getAttribLocation(w,P)}return E}function p(x){return x!==""}function v(x,w){return x.replace(/NUM_DIR_LIGHTS/g,w.numDirLights).replace(/NUM_SPOT_LIGHTS/g,w.numSpotLights).replace(/NUM_POINT_LIGHTS/g,w.numPointLights).replace(/NUM_HEMI_LIGHTS/g,w.numHemiLights)}function g(x){var w=/#include +<([\w\d.]+)>/g;function M(E,T){var S=t.ShaderChunk[T];if(S===void 0)throw new Error("Can not resolve #include <"+T+">");return g(S)}return x.replace(w,M)}function y(x){var w=/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function M(E,T,S,L){for(var P="",R=parseInt(T);R<parseInt(S);R++)P+=L.replace(/\[ i \]/g,"[ "+R+" ]");return P}return x.replace(w,M)}return function(w,M,E,T){var S=w.context,L=E.extensions,P=E.defines,R=E.__webglShader.vertexShader,B=E.__webglShader.fragmentShader,V="SHADOWMAP_TYPE_BASIC";T.shadowMapType===t.PCFShadowMap?V="SHADOWMAP_TYPE_PCF":T.shadowMapType===t.PCFSoftShadowMap&&(V="SHADOWMAP_TYPE_PCF_SOFT");var z="ENVMAP_TYPE_CUBE",X="ENVMAP_MODE_REFLECTION",G="ENVMAP_BLENDING_MULTIPLY";if(T.envMap){switch(E.envMap.mapping){case t.CubeReflectionMapping:case t.CubeRefractionMapping:z="ENVMAP_TYPE_CUBE";break;case t.CubeUVReflectionMapping:case t.CubeUVRefractionMapping:z="ENVMAP_TYPE_CUBE_UV";break;case t.EquirectangularReflectionMapping:case t.EquirectangularRefractionMapping:z="ENVMAP_TYPE_EQUIREC";break;case t.SphericalReflectionMapping:z="ENVMAP_TYPE_SPHERE";break}switch(E.envMap.mapping){case t.CubeRefractionMapping:case t.EquirectangularRefractionMapping:X="ENVMAP_MODE_REFRACTION";break}switch(E.combine){case t.MultiplyOperation:G="ENVMAP_BLENDING_MULTIPLY";break;case t.MixOperation:G="ENVMAP_BLENDING_MIX";break;case t.AddOperation:G="ENVMAP_BLENDING_ADD";break}}var k=w.gammaFactor>0?w.gammaFactor:1,j=f(L,T,w.extensions),$=h(P),Z=S.createProgram(),K,oe;E instanceof t.RawShaderMaterial?(K="",oe=""):(K=["precision "+T.precision+" float;","precision "+T.precision+" int;","#define SHADER_NAME "+E.__webglShader.name,$,T.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+k,"#define MAX_BONES "+T.maxBones,T.map?"#define USE_MAP":"",T.envMap?"#define USE_ENVMAP":"",T.envMap?"#define "+X:"",T.lightMap?"#define USE_LIGHTMAP":"",T.aoMap?"#define USE_AOMAP":"",T.emissiveMap?"#define USE_EMISSIVEMAP":"",T.bumpMap?"#define USE_BUMPMAP":"",T.normalMap?"#define USE_NORMALMAP":"",T.displacementMap&&T.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",T.specularMap?"#define USE_SPECULARMAP":"",T.roughnessMap?"#define USE_ROUGHNESSMAP":"",T.metalnessMap?"#define USE_METALNESSMAP":"",T.alphaMap?"#define USE_ALPHAMAP":"",T.vertexColors?"#define USE_COLOR":"",T.flatShading?"#define FLAT_SHADED":"",T.skinning?"#define USE_SKINNING":"",T.useVertexTexture?"#define BONE_TEXTURE":"",T.morphTargets?"#define USE_MORPHTARGETS":"",T.morphNormals&&T.flatShading===!1?"#define USE_MORPHNORMALS":"",T.doubleSided?"#define DOUBLE_SIDED":"",T.flipSided?"#define FLIP_SIDED":"",T.shadowMapEnabled?"#define USE_SHADOWMAP":"",T.shadowMapEnabled?"#define "+V:"",T.pointLightShadows>0?"#define POINT_LIGHT_SHADOWS":"",T.sizeAttenuation?"#define USE_SIZEATTENUATION":"",T.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",T.logarithmicDepthBuffer&&w.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(p).join(`
`),oe=[j,"precision "+T.precision+" float;","precision "+T.precision+" int;","#define SHADER_NAME "+E.__webglShader.name,$,T.alphaTest?"#define ALPHATEST "+T.alphaTest:"","#define GAMMA_FACTOR "+k,T.useFog&&T.fog?"#define USE_FOG":"",T.useFog&&T.fogExp?"#define FOG_EXP2":"",T.map?"#define USE_MAP":"",T.envMap?"#define USE_ENVMAP":"",T.envMap?"#define "+z:"",T.envMap?"#define "+X:"",T.envMap?"#define "+G:"",T.lightMap?"#define USE_LIGHTMAP":"",T.aoMap?"#define USE_AOMAP":"",T.emissiveMap?"#define USE_EMISSIVEMAP":"",T.bumpMap?"#define USE_BUMPMAP":"",T.normalMap?"#define USE_NORMALMAP":"",T.specularMap?"#define USE_SPECULARMAP":"",T.roughnessMap?"#define USE_ROUGHNESSMAP":"",T.metalnessMap?"#define USE_METALNESSMAP":"",T.alphaMap?"#define USE_ALPHAMAP":"",T.vertexColors?"#define USE_COLOR":"",T.flatShading?"#define FLAT_SHADED":"",T.doubleSided?"#define DOUBLE_SIDED":"",T.flipSided?"#define FLIP_SIDED":"",T.shadowMapEnabled?"#define USE_SHADOWMAP":"",T.shadowMapEnabled?"#define "+V:"",T.pointLightShadows>0?"#define POINT_LIGHT_SHADOWS":"",T.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",T.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",T.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",T.logarithmicDepthBuffer&&w.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",T.envMap&&w.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",T.toneMapping!==t.NoToneMapping?"#define TONE_MAPPING":"",T.toneMapping!==t.NoToneMapping?t.ShaderChunk.tonemapping_pars_fragment:"",T.toneMapping!==t.NoToneMapping?u("toneMapping",T.toneMapping):"",T.outputEncoding||T.mapEncoding||T.envMapEncoding||T.emissiveMapEncoding?t.ShaderChunk.encodings_pars_fragment:"",T.mapEncoding?s("mapTexelToLinear",T.mapEncoding):"",T.envMapEncoding?s("envMapTexelToLinear",T.envMapEncoding):"",T.emissiveMapEncoding?s("emissiveMapTexelToLinear",T.emissiveMapEncoding):"",T.outputEncoding?c("linearToOutputTexel",T.outputEncoding):"",`
`].filter(p).join(`
`)),R=g(R),R=v(R,T),B=g(B),B=v(B,T),E instanceof t.ShaderMaterial||(R=y(R),B=y(B));var ie=K+R,fe=oe+B,O=t.WebGLShader(S,S.VERTEX_SHADER,ie),I=t.WebGLShader(S,S.FRAGMENT_SHADER,fe);S.attachShader(Z,O),S.attachShader(Z,I),E.index0AttributeName!==void 0?S.bindAttribLocation(Z,0,E.index0AttributeName):T.morphTargets===!0&&S.bindAttribLocation(Z,0,"position"),S.linkProgram(Z);var H=S.getProgramInfoLog(Z),q=S.getShaderInfoLog(O),_=S.getShaderInfoLog(I),ae=!0,J=!0;S.getProgramParameter(Z,S.LINK_STATUS)===!1?(ae=!1,console.error("THREE.WebGLProgram: shader error: ",S.getError(),"gl.VALIDATE_STATUS",S.getProgramParameter(Z,S.VALIDATE_STATUS),"gl.getProgramInfoLog",H,q,_)):H!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",H):(q===""||_==="")&&(J=!1),J&&(this.diagnostics={runnable:ae,material:E,programLog:H,vertexShader:{log:q,prefix:K},fragmentShader:{log:_,prefix:oe}}),S.deleteShader(O),S.deleteShader(I);var ce;this.getUniforms=function(){return ce===void 0&&(ce=d(S,Z)),ce};var C;return this.getAttributes=function(){return C===void 0&&(C=m(S,Z)),C},this.destroy=function(){S.deleteProgram(Z),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=e++,this.code=M,this.usedTimes=1,this.program=Z,this.vertexShader=O,this.fragmentShader=I,this}}(),t.WebGLPrograms=function(e,r){var n=[],i={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshStandardMaterial:"standard",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},a=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","shadowMapEnabled","pointLightShadows","toneMapping","physicallyCorrectLights","shadowMapType","alphaTest","doubleSided","flipSided"];function s(u){if(r.floatVertexTextures&&u&&u.skeleton&&u.skeleton.useVertexTexture)return 1024;var f=r.maxVertexUniforms,h=Math.floor((f-20)/4),d=h;return u!==void 0&&u instanceof t.SkinnedMesh&&(d=Math.min(u.skeleton.bones.length,d),d<u.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+u.skeleton.bones.length+", this GPU supports just "+d+" (try OpenGL instead of ANGLE)")),d}function c(u,f){var h;return u?u instanceof t.Texture?h=u.encoding:u instanceof t.WebGLRenderTarget&&(h=u.texture.encoding):h=t.LinearEncoding,h===t.LinearEncoding&&f&&(h=t.GammaEncoding),h}this.getParameters=function(u,f,h,d){var m=i[u.type],p=s(d),v=e.getPrecision();u.precision!==null&&(v=r.getMaxPrecision(u.precision),v!==u.precision&&console.warn("THREE.WebGLProgram.getParameters:",u.precision,"not supported, using",v,"instead."));var g={shaderID:m,precision:v,supportsVertexTextures:r.vertexTextures,outputEncoding:c(e.getCurrentRenderTarget(),e.gammaOutput),map:!!u.map,mapEncoding:c(u.map,e.gammaInput),envMap:!!u.envMap,envMapMode:u.envMap&&u.envMap.mapping,envMapEncoding:c(u.envMap,e.gammaInput),envMapCubeUV:!!u.envMap&&(u.envMap.mapping===t.CubeUVReflectionMapping||u.envMap.mapping===t.CubeUVRefractionMapping),lightMap:!!u.lightMap,aoMap:!!u.aoMap,emissiveMap:!!u.emissiveMap,emissiveMapEncoding:c(u.emissiveMap,e.gammaInput),bumpMap:!!u.bumpMap,normalMap:!!u.normalMap,displacementMap:!!u.displacementMap,roughnessMap:!!u.roughnessMap,metalnessMap:!!u.metalnessMap,specularMap:!!u.specularMap,alphaMap:!!u.alphaMap,combine:u.combine,vertexColors:u.vertexColors,fog:h,useFog:u.fog,fogExp:h instanceof t.FogExp2,flatShading:u.shading===t.FlatShading,sizeAttenuation:u.sizeAttenuation,logarithmicDepthBuffer:r.logarithmicDepthBuffer,skinning:u.skinning,maxBones:p,useVertexTexture:r.floatVertexTextures&&d&&d.skeleton&&d.skeleton.useVertexTexture,morphTargets:u.morphTargets,morphNormals:u.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:f.directional.length,numPointLights:f.point.length,numSpotLights:f.spot.length,numHemiLights:f.hemi.length,pointLightShadows:f.shadowsPointLight,shadowMapEnabled:e.shadowMap.enabled&&d.receiveShadow&&f.shadows.length>0,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:u.premultipliedAlpha,alphaTest:u.alphaTest,doubleSided:u.side===t.DoubleSide,flipSided:u.side===t.BackSide};return g},this.getProgramCode=function(u,f){var h=[];if(f.shaderID?h.push(f.shaderID):(h.push(u.fragmentShader),h.push(u.vertexShader)),u.defines!==void 0)for(var d in u.defines)h.push(d),h.push(u.defines[d]);for(var m=0;m<a.length;m++){var p=a[m];h.push(p),h.push(f[p])}return h.join()},this.acquireProgram=function(u,f,h){for(var d,m=0,p=n.length;m<p;m++){var v=n[m];if(v.code===h){d=v,++d.usedTimes;break}}return d===void 0&&(d=new t.WebGLProgram(e,h,u,f),n.push(d)),d},this.releaseProgram=function(u){if(--u.usedTimes===0){var f=n.indexOf(u);n[f]=n[n.length-1],n.pop(),u.destroy()}},this.programs=n},t.WebGLProperties=function(){var e={};this.get=function(r){var n=r.uuid,i=e[n];return i===void 0&&(i={},e[n]=i),i},this.delete=function(r){delete e[r.uuid]},this.clear=function(){e={}}},t.WebGLShader=function(){function e(r){for(var n=r.split(`
`),i=0;i<n.length;i++)n[i]=i+1+": "+n[i];return n.join(`
`)}return function(n,i,a){var s=n.createShader(i);return n.shaderSource(s,a),n.compileShader(s),n.getShaderParameter(s,n.COMPILE_STATUS)===!1&&console.error("THREE.WebGLShader: Shader couldn't compile."),n.getShaderInfoLog(s)!==""&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",i===n.VERTEX_SHADER?"vertex":"fragment",n.getShaderInfoLog(s),e(a)),s}}(),t.WebGLShadowMap=function(e,r,n){for(var i=e.context,a=e.state,s=new t.Frustum,c=new t.Matrix4,u=new t.Vector2,f=new t.Vector3,h=new t.Vector3,d=[],m=1,p=2,v=(m|p)+1,g=new Array(v),y=new Array(v),x=[new t.Vector3(1,0,0),new t.Vector3(-1,0,0),new t.Vector3(0,0,1),new t.Vector3(0,0,-1),new t.Vector3(0,1,0),new t.Vector3(0,-1,0)],w=[new t.Vector3(0,1,0),new t.Vector3(0,1,0),new t.Vector3(0,1,0),new t.Vector3(0,1,0),new t.Vector3(0,0,1),new t.Vector3(0,0,-1)],M=[new t.Vector4,new t.Vector4,new t.Vector4,new t.Vector4,new t.Vector4,new t.Vector4],E=t.ShaderLib.depthRGBA,T=t.UniformsUtils.clone(E.uniforms),S=t.ShaderLib.distanceRGBA,L=t.UniformsUtils.clone(S.uniforms),P=0;P!==v;++P){var R=(P&m)!==0,B=(P&p)!==0,V=new t.ShaderMaterial({uniforms:T,vertexShader:E.vertexShader,fragmentShader:E.fragmentShader,morphTargets:R,skinning:B});g[P]=V;var z=new t.ShaderMaterial({defines:{USE_SHADOWMAP:""},uniforms:L,vertexShader:S.vertexShader,fragmentShader:S.fragmentShader,morphTargets:R,skinning:B});y[P]=z}var X=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=t.PCFShadowMap,this.cullFace=t.CullFaceFront,this.render=function(j,$){var Z,K,oe=r.shadows;if(oe.length!==0&&X.enabled!==!1&&!(X.autoUpdate===!1&&X.needsUpdate===!1)){a.clearColor(1,1,1,1),a.disable(i.BLEND),a.enable(i.CULL_FACE),i.frontFace(i.CCW),i.cullFace(X.cullFace===t.CullFaceFront?i.FRONT:i.BACK),a.setDepthTest(!0),a.setScissorTest(!1);for(var ie=0,fe=oe.length;ie<fe;ie++){var O=oe[ie],I=O.shadow,H=I.camera;if(u.copy(I.mapSize),O instanceof t.PointLight){Z=6,K=!0;var q=u.x,_=u.y;M[0].set(q*2,_,q,_),M[1].set(0,_,q,_),M[2].set(q*3,_,q,_),M[3].set(q,_,q,_),M[4].set(q*3,0,q,_),M[5].set(q,0,q,_),u.x*=4,u.y*=2}else Z=1,K=!1;if(I.map===null){var ae={minFilter:t.NearestFilter,magFilter:t.NearestFilter,format:t.RGBAFormat};I.map=new t.WebGLRenderTarget(u.x,u.y,ae),O instanceof t.SpotLight&&(H.aspect=u.x/u.y),H.updateProjectionMatrix()}var J=I.map,ce=I.matrix;h.setFromMatrixPosition(O.matrixWorld),H.position.copy(h),e.setRenderTarget(J),e.clear();for(var C=0;C<Z;C++){if(K){f.copy(H.position),f.add(x[C]),H.up.copy(w[C]),H.lookAt(f);var F=M[C];a.viewport(F)}else f.setFromMatrixPosition(O.target.matrixWorld),H.lookAt(f);H.updateMatrixWorld(),H.matrixWorldInverse.getInverse(H.matrixWorld),ce.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),ce.multiply(H.projectionMatrix),ce.multiply(H.matrixWorldInverse),c.multiplyMatrices(H.projectionMatrix,H.matrixWorldInverse),s.setFromMatrix(c),d.length=0,k(j,$,H);for(var Y=0,ee=d.length;Y<ee;Y++){var Q=d[Y],le=n.update(Q),me=Q.material;if(me instanceof t.MultiMaterial)for(var te=le.groups,ne=me.materials,re=0,ge=te.length;re<ge;re++){var ve=te[re],_e=ne[ve.materialIndex];if(_e.visible===!0){var be=G(Q,_e,K,h);e.renderBufferDirect(H,null,le,be,Q,ve)}}else{var be=G(Q,me,K,h);e.renderBufferDirect(H,null,le,be,Q,null)}}}}var Ee=e.getClearColor(),Ae=e.getClearAlpha();e.setClearColor(Ee,Ae),a.enable(i.BLEND),X.cullFace===t.CullFaceFront&&i.cullFace(i.BACK),X.needsUpdate=!1}};function G(j,$,Z,K){var oe=j.geometry,ie=null,fe=g,O=j.customDepthMaterial;if(Z&&(fe=y,O=j.customDistanceMaterial),O)ie=O;else{var I=oe.morphTargets!==void 0&&oe.morphTargets.length>0&&$.morphTargets,H=j instanceof t.SkinnedMesh&&$.skinning,q=0;I&&(q|=m),H&&(q|=p),ie=fe[q]}return ie.visible=$.visible,ie.wireframe=$.wireframe,ie.wireframeLinewidth=$.wireframeLinewidth,Z&&ie.uniforms.lightPos!==void 0&&ie.uniforms.lightPos.value.copy(K),ie}function k(j,$,Z){if(j.visible!==!1){if(j.layers.test($.layers)&&(j instanceof t.Mesh||j instanceof t.Line||j instanceof t.Points)&&j.castShadow&&(j.frustumCulled===!1||s.intersectsObject(j)===!0)){var K=j.material;K.visible===!0&&(j.modelViewMatrix.multiplyMatrices(Z.matrixWorldInverse,j.matrixWorld),d.push(j))}for(var oe=j.children,ie=0,fe=oe.length;ie<fe;ie++)k(oe[ie],$,Z)}}},t.WebGLState=function(e,r,n){var i=this,a=new t.Vector4,s=new Uint8Array(16),c=new Uint8Array(16),u=new Uint8Array(16),f={},h=null,d=null,m=null,p=null,v=null,g=null,y=null,x=null,w=!1,M=null,E=null,T=null,S=null,L=null,P=null,R=null,B=null,V=null,z=null,X=null,G=null,k=null,j=null,$=null,Z=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),K=void 0,oe={},ie=new t.Vector4,fe=null,O=null,I=new t.Vector4,H=new t.Vector4,q=e.createTexture();e.bindTexture(e.TEXTURE_2D,q),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGB,1,1,0,e.RGB,e.UNSIGNED_BYTE,new Uint8Array(3)),this.init=function(){this.clearColor(0,0,0,1),this.clearDepth(1),this.clearStencil(0),this.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.frontFace(e.CCW),e.cullFace(e.BACK),this.enable(e.CULL_FACE),this.enable(e.BLEND),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA)},this.initAttributes=function(){for(var _=0,ae=s.length;_<ae;_++)s[_]=0},this.enableAttribute=function(_){if(s[_]=1,c[_]===0&&(e.enableVertexAttribArray(_),c[_]=1),u[_]!==0){var ae=r.get("ANGLE_instanced_arrays");ae.vertexAttribDivisorANGLE(_,0),u[_]=0}},this.enableAttributeAndDivisor=function(_,ae,J){s[_]=1,c[_]===0&&(e.enableVertexAttribArray(_),c[_]=1),u[_]!==ae&&(J.vertexAttribDivisorANGLE(_,ae),u[_]=ae)},this.disableUnusedAttributes=function(){for(var _=0,ae=c.length;_<ae;_++)c[_]!==s[_]&&(e.disableVertexAttribArray(_),c[_]=0)},this.enable=function(_){f[_]!==!0&&(e.enable(_),f[_]=!0)},this.disable=function(_){f[_]!==!1&&(e.disable(_),f[_]=!1)},this.getCompressedTextureFormats=function(){if(h===null&&(h=[],r.get("WEBGL_compressed_texture_pvrtc")||r.get("WEBGL_compressed_texture_s3tc")||r.get("WEBGL_compressed_texture_etc1")))for(var _=e.getParameter(e.COMPRESSED_TEXTURE_FORMATS),ae=0;ae<_.length;ae++)h.push(_[ae]);return h},this.setBlending=function(_,ae,J,ce,C,F,Y,ee){_===t.NoBlending?this.disable(e.BLEND):this.enable(e.BLEND),(_!==d||ee!==w)&&(_===t.AdditiveBlending?ee?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE,e.ONE,e.ONE)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE)):_===t.SubtractiveBlending?ee?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR)):_===t.MultiplyBlending?ee?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.ZERO,e.SRC_COLOR,e.SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.SRC_COLOR)):ee?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)),d=_,w=ee),_===t.CustomBlending?(C=C||ae,F=F||J,Y=Y||ce,(ae!==m||C!==g)&&(e.blendEquationSeparate(n(ae),n(C)),m=ae,g=C),(J!==p||ce!==v||F!==y||Y!==x)&&(e.blendFuncSeparate(n(J),n(ce),n(F),n(Y)),p=J,v=ce,y=F,x=Y)):(m=null,p=null,v=null,g=null,y=null,x=null)},this.setDepthFunc=function(_){if(M!==_){if(_)switch(_){case t.NeverDepth:e.depthFunc(e.NEVER);break;case t.AlwaysDepth:e.depthFunc(e.ALWAYS);break;case t.LessDepth:e.depthFunc(e.LESS);break;case t.LessEqualDepth:e.depthFunc(e.LEQUAL);break;case t.EqualDepth:e.depthFunc(e.EQUAL);break;case t.GreaterEqualDepth:e.depthFunc(e.GEQUAL);break;case t.GreaterDepth:e.depthFunc(e.GREATER);break;case t.NotEqualDepth:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}else e.depthFunc(e.LEQUAL);M=_}},this.setDepthTest=function(_){_?this.enable(e.DEPTH_TEST):this.disable(e.DEPTH_TEST)},this.setDepthWrite=function(_){E!==_&&(e.depthMask(_),E=_)},this.setColorWrite=function(_){T!==_&&(e.colorMask(_,_,_,_),T=_)},this.setStencilFunc=function(_,ae,J){(L!==_||P!==ae||R!==J)&&(e.stencilFunc(_,ae,J),L=_,P=ae,R=J)},this.setStencilOp=function(_,ae,J){(B!==_||V!==ae||z!==J)&&(e.stencilOp(_,ae,J),B=_,V=ae,z=J)},this.setStencilTest=function(_){_?this.enable(e.STENCIL_TEST):this.disable(e.STENCIL_TEST)},this.setStencilWrite=function(_){S!==_&&(e.stencilMask(_),S=_)},this.setFlipSided=function(_){X!==_&&(_?e.frontFace(e.CW):e.frontFace(e.CCW),X=_)},this.setLineWidth=function(_){_!==G&&(e.lineWidth(_),G=_)},this.setPolygonOffset=function(_,ae,J){_?this.enable(e.POLYGON_OFFSET_FILL):this.disable(e.POLYGON_OFFSET_FILL),_&&(k!==ae||j!==J)&&(e.polygonOffset(ae,J),k=ae,j=J)},this.getScissorTest=function(){return $},this.setScissorTest=function(_){$=_,_?this.enable(e.SCISSOR_TEST):this.disable(e.SCISSOR_TEST)},this.activeTexture=function(_){_===void 0&&(_=e.TEXTURE0+Z-1),K!==_&&(e.activeTexture(_),K=_)},this.bindTexture=function(_,ae){K===void 0&&i.activeTexture();var J=oe[K];J===void 0&&(J={type:void 0,texture:void 0},oe[K]=J),(J.type!==_||J.texture!==ae)&&(e.bindTexture(_,ae||q),J.type=_,J.texture=ae)},this.compressedTexImage2D=function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(_){console.error(_)}},this.texImage2D=function(){try{e.texImage2D.apply(e,arguments)}catch(_){console.error(_)}},this.clearColor=function(_,ae,J,ce){a.set(_,ae,J,ce),ie.equals(a)===!1&&(e.clearColor(_,ae,J,ce),ie.copy(a))},this.clearDepth=function(_){fe!==_&&(e.clearDepth(_),fe=_)},this.clearStencil=function(_){O!==_&&(e.clearStencil(_),O=_)},this.scissor=function(_){I.equals(_)===!1&&(e.scissor(_.x,_.y,_.z,_.w),I.copy(_))},this.viewport=function(_){H.equals(_)===!1&&(e.viewport(_.x,_.y,_.z,_.w),H.copy(_))},this.reset=function(){for(var _=0;_<c.length;_++)c[_]===1&&(e.disableVertexAttribArray(_),c[_]=0);f={},h=null,K=void 0,oe={},d=null,T=null,E=null,S=null,X=null}},t.LensFlarePlugin=function(e,r){var n=e.context,i=e.state,a,s,c,u,f,h,d,m;function p(){var g=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),y=new Uint16Array([0,1,2,0,2,3]);a=n.createBuffer(),s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,a),n.bufferData(n.ARRAY_BUFFER,g,n.STATIC_DRAW),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,s),n.bufferData(n.ELEMENT_ARRAY_BUFFER,y,n.STATIC_DRAW),d=n.createTexture(),m=n.createTexture(),i.bindTexture(n.TEXTURE_2D,d),n.texImage2D(n.TEXTURE_2D,0,n.RGB,16,16,0,n.RGB,n.UNSIGNED_BYTE,null),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),i.bindTexture(n.TEXTURE_2D,m),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,16,16,0,n.RGBA,n.UNSIGNED_BYTE,null),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),h=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;var x;h?x={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join(`
`),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join(`
`)}:x={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join(`
`),fragmentShader:["precision mediump float;","uniform lowp int renderType;","uniform sampler2D map;","uniform sampler2D occlusionMap;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","float visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;","visibility = ( 1.0 - visibility / 4.0 );","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * visibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join(`
`)},c=v(x),u={vertex:n.getAttribLocation(c,"position"),uv:n.getAttribLocation(c,"uv")},f={renderType:n.getUniformLocation(c,"renderType"),map:n.getUniformLocation(c,"map"),occlusionMap:n.getUniformLocation(c,"occlusionMap"),opacity:n.getUniformLocation(c,"opacity"),color:n.getUniformLocation(c,"color"),scale:n.getUniformLocation(c,"scale"),rotation:n.getUniformLocation(c,"rotation"),screenPosition:n.getUniformLocation(c,"screenPosition")}}this.render=function(g,y,x){if(r.length!==0){var w=new t.Vector3,M=x.w/x.z,E=x.z*.5,T=x.w*.5,S=16/x.w,L=new t.Vector2(S*M,S),P=new t.Vector3(1,1,0),R=new t.Vector2(1,1);c===void 0&&p(),n.useProgram(c),i.initAttributes(),i.enableAttribute(u.vertex),i.enableAttribute(u.uv),i.disableUnusedAttributes(),n.uniform1i(f.occlusionMap,0),n.uniform1i(f.map,1),n.bindBuffer(n.ARRAY_BUFFER,a),n.vertexAttribPointer(u.vertex,2,n.FLOAT,!1,2*8,0),n.vertexAttribPointer(u.uv,2,n.FLOAT,!1,2*8,8),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,s),i.disable(n.CULL_FACE),i.setDepthWrite(!1);for(var B=0,V=r.length;B<V;B++){S=16/x.w,L.set(S*M,S);var z=r[B];if(w.set(z.matrixWorld.elements[12],z.matrixWorld.elements[13],z.matrixWorld.elements[14]),w.applyMatrix4(y.matrixWorldInverse),w.applyProjection(y.projectionMatrix),P.copy(w),R.x=P.x*E+E,R.y=P.y*T+T,h||R.x>0&&R.x<x.z&&R.y>0&&R.y<x.w){i.activeTexture(n.TEXTURE0),i.bindTexture(n.TEXTURE_2D,null),i.activeTexture(n.TEXTURE1),i.bindTexture(n.TEXTURE_2D,d),n.copyTexImage2D(n.TEXTURE_2D,0,n.RGB,x.x+R.x-8,x.y+R.y-8,16,16,0),n.uniform1i(f.renderType,0),n.uniform2f(f.scale,L.x,L.y),n.uniform3f(f.screenPosition,P.x,P.y,P.z),i.disable(n.BLEND),i.enable(n.DEPTH_TEST),n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0),i.activeTexture(n.TEXTURE0),i.bindTexture(n.TEXTURE_2D,m),n.copyTexImage2D(n.TEXTURE_2D,0,n.RGBA,x.x+R.x-8,x.y+R.y-8,16,16,0),n.uniform1i(f.renderType,1),i.disable(n.DEPTH_TEST),i.activeTexture(n.TEXTURE1),i.bindTexture(n.TEXTURE_2D,d),n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0),z.positionScreen.copy(P),z.customUpdateCallback?z.customUpdateCallback(z):z.updateLensFlares(),n.uniform1i(f.renderType,2),i.enable(n.BLEND);for(var X=0,G=z.lensFlares.length;X<G;X++){var k=z.lensFlares[X];k.opacity>.001&&k.scale>.001&&(P.x=k.x,P.y=k.y,P.z=k.z,S=k.size*k.scale/x.w,L.x=S*M,L.y=S,n.uniform3f(f.screenPosition,P.x,P.y,P.z),n.uniform2f(f.scale,L.x,L.y),n.uniform1f(f.rotation,k.rotation),n.uniform1f(f.opacity,k.opacity),n.uniform3f(f.color,k.color.r,k.color.g,k.color.b),i.setBlending(k.blending,k.blendEquation,k.blendSrc,k.blendDst),e.setTexture(k.texture,1),n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0))}}}i.enable(n.CULL_FACE),i.enable(n.DEPTH_TEST),i.setDepthWrite(!0),e.resetGLState()}};function v(g){var y=n.createProgram(),x=n.createShader(n.FRAGMENT_SHADER),w=n.createShader(n.VERTEX_SHADER),M="precision "+e.getPrecision()+` float;
`;return n.shaderSource(x,M+g.fragmentShader),n.shaderSource(w,M+g.vertexShader),n.compileShader(x),n.compileShader(w),n.attachShader(y,x),n.attachShader(y,w),n.linkProgram(y),y}},t.SpritePlugin=function(e,r){var n=e.context,i=e.state,a,s,c,u,f,h,d=new t.Vector3,m=new t.Quaternion,p=new t.Vector3;function v(){var x=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),w=new Uint16Array([0,1,2,0,2,3]);a=n.createBuffer(),s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,a),n.bufferData(n.ARRAY_BUFFER,x,n.STATIC_DRAW),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,s),n.bufferData(n.ELEMENT_ARRAY_BUFFER,w,n.STATIC_DRAW),c=g(),u={position:n.getAttribLocation(c,"position"),uv:n.getAttribLocation(c,"uv")},f={uvOffset:n.getUniformLocation(c,"uvOffset"),uvScale:n.getUniformLocation(c,"uvScale"),rotation:n.getUniformLocation(c,"rotation"),scale:n.getUniformLocation(c,"scale"),color:n.getUniformLocation(c,"color"),map:n.getUniformLocation(c,"map"),opacity:n.getUniformLocation(c,"opacity"),modelViewMatrix:n.getUniformLocation(c,"modelViewMatrix"),projectionMatrix:n.getUniformLocation(c,"projectionMatrix"),fogType:n.getUniformLocation(c,"fogType"),fogDensity:n.getUniformLocation(c,"fogDensity"),fogNear:n.getUniformLocation(c,"fogNear"),fogFar:n.getUniformLocation(c,"fogFar"),fogColor:n.getUniformLocation(c,"fogColor"),alphaTest:n.getUniformLocation(c,"alphaTest")};var M=document.createElement("canvas");M.width=8,M.height=8;var E=M.getContext("2d");E.fillStyle="white",E.fillRect(0,0,8,8),h=new t.Texture(M),h.needsUpdate=!0}this.render=function(x,w){if(r.length!==0){c===void 0&&v(),n.useProgram(c),i.initAttributes(),i.enableAttribute(u.position),i.enableAttribute(u.uv),i.disableUnusedAttributes(),i.disable(n.CULL_FACE),i.enable(n.BLEND),n.bindBuffer(n.ARRAY_BUFFER,a),n.vertexAttribPointer(u.position,2,n.FLOAT,!1,2*8,0),n.vertexAttribPointer(u.uv,2,n.FLOAT,!1,2*8,8),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,s),n.uniformMatrix4fv(f.projectionMatrix,!1,w.projectionMatrix.elements),i.activeTexture(n.TEXTURE0),n.uniform1i(f.map,0);var M=0,E=0,T=x.fog;T?(n.uniform3f(f.fogColor,T.color.r,T.color.g,T.color.b),T instanceof t.Fog?(n.uniform1f(f.fogNear,T.near),n.uniform1f(f.fogFar,T.far),n.uniform1i(f.fogType,1),M=1,E=1):T instanceof t.FogExp2&&(n.uniform1f(f.fogDensity,T.density),n.uniform1i(f.fogType,2),M=2,E=2)):(n.uniform1i(f.fogType,0),M=0,E=0);for(var S=0,L=r.length;S<L;S++){var P=r[S];P.modelViewMatrix.multiplyMatrices(w.matrixWorldInverse,P.matrixWorld),P.z=-P.modelViewMatrix.elements[14]}r.sort(y);for(var R=[],S=0,L=r.length;S<L;S++){var P=r[S],B=P.material;n.uniform1f(f.alphaTest,B.alphaTest),n.uniformMatrix4fv(f.modelViewMatrix,!1,P.modelViewMatrix.elements),P.matrixWorld.decompose(d,m,p),R[0]=p.x,R[1]=p.y;var V=0;x.fog&&B.fog&&(V=E),M!==V&&(n.uniform1i(f.fogType,V),M=V),B.map!==null?(n.uniform2f(f.uvOffset,B.map.offset.x,B.map.offset.y),n.uniform2f(f.uvScale,B.map.repeat.x,B.map.repeat.y)):(n.uniform2f(f.uvOffset,0,0),n.uniform2f(f.uvScale,1,1)),n.uniform1f(f.opacity,B.opacity),n.uniform3f(f.color,B.color.r,B.color.g,B.color.b),n.uniform1f(f.rotation,B.rotation),n.uniform2fv(f.scale,R),i.setBlending(B.blending,B.blendEquation,B.blendSrc,B.blendDst),i.setDepthTest(B.depthTest),i.setDepthWrite(B.depthWrite),B.map&&B.map.image&&B.map.image.width?e.setTexture(B.map,0):e.setTexture(h,0),n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0)}i.enable(n.CULL_FACE),e.resetGLState()}};function g(){var x=n.createProgram(),w=n.createShader(n.VERTEX_SHADER),M=n.createShader(n.FRAGMENT_SHADER);return n.shaderSource(w,["precision "+e.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join(`
`)),n.shaderSource(M,["precision "+e.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join(`
`)),n.compileShader(w),n.compileShader(M),n.attachShader(x,w),n.attachShader(x,M),n.linkProgram(x),x}function y(x,w){return x.renderOrder!==w.renderOrder?x.renderOrder-w.renderOrder:x.z!==w.z?w.z-x.z:w.id-x.id}},Object.defineProperties(t.Box2.prototype,{empty:{value:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()}},isIntersectionBox:{value:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)}}}),Object.defineProperties(t.Box3.prototype,{empty:{value:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()}},isIntersectionBox:{value:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)}},isIntersectionSphere:{value:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}}),Object.defineProperties(t.Matrix3.prototype,{multiplyVector3:{value:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)}},multiplyVector3Array:{value:function(e){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(e)}}}),Object.defineProperties(t.Matrix4.prototype,{extractPosition:{value:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)}},setRotationFromQuaternion:{value:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)}},multiplyVector3:{value:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),e.applyProjection(this)}},multiplyVector4:{value:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)}},multiplyVector3Array:{value:function(e){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(e)}},rotateAxis:{value:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)}},crossVector:{value:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)}},translate:{value:function(e){console.error("THREE.Matrix4: .translate() has been removed.")}},rotateX:{value:function(e){console.error("THREE.Matrix4: .rotateX() has been removed.")}},rotateY:{value:function(e){console.error("THREE.Matrix4: .rotateY() has been removed.")}},rotateZ:{value:function(e){console.error("THREE.Matrix4: .rotateZ() has been removed.")}},rotateByAxis:{value:function(e,r){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")}}}),Object.defineProperties(t.Plane.prototype,{isIntersectionLine:{value:function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)}}}),Object.defineProperties(t.Quaternion.prototype,{multiplyVector3:{value:function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)}}}),Object.defineProperties(t.Ray.prototype,{isIntersectionBox:{value:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)}},isIntersectionPlane:{value:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)}},isIntersectionSphere:{value:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}}),Object.defineProperties(t.Vector3.prototype,{setEulerFromRotationMatrix:{value:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")}},setEulerFromQuaternion:{value:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")}},getPositionFromMatrix:{value:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)}},getScaleFromMatrix:{value:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)}},getColumnFromMatrix:{value:function(e,r){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,r)}}}),t.Face4=function(e,r,n,i,a,s,c){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new t.Face3(e,r,n,a,s,c)},t.Vertex=function(e,r,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new t.Vector3(e,r,n)},Object.defineProperties(t.Object3D.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},getChildByName:{value:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)}},renderDepth:{set:function(e){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")}},translate:{value:function(e,r){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(r,e)}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(e){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(t,{PointCloud:{value:function(e,r){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new t.Points(e,r)}},ParticleSystem:{value:function(e,r){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new t.Points(e,r)}}}),Object.defineProperties(t.Light.prototype,{onlyShadow:{set:function(e){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(e){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(e){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(t.BufferAttribute.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count."),this.array.length}}}),Object.defineProperties(t.BufferGeometry.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}},addIndex:{value:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)}},addDrawCall:{value:function(e,r,n){n!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,r)}},clearDrawCalls:{value:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()}},computeTangents:{value:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")}},computeOffsets:{value:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}}),Object.defineProperties(t.Material.prototype,{wrapAround:{get:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set:function(e){console.warn("THREE."+this.type+": .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE."+this.type+": .wrapRGB has been removed."),new t.Color}}}),Object.defineProperties(t,{PointCloudMaterial:{value:function(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new t.PointsMaterial(e)}},ParticleBasicMaterial:{value:function(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new t.PointsMaterial(e)}},ParticleSystemMaterial:{value:function(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new t.PointsMaterial(e)}}}),Object.defineProperties(t.MeshPhongMaterial.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(e){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(t.ShaderMaterial.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.defineProperties(t.WebGLRenderer.prototype,{supportsFloatTextures:{value:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")}},supportsHalfFloatTextures:{value:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")}},supportsStandardDerivatives:{value:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")}},supportsCompressedTextureS3TC:{value:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")}},supportsCompressedTexturePVRTC:{value:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")}},supportsBlendMinMax:{value:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")}},supportsVertexTextures:{value:function(){return this.capabilities.vertexTextures}},supportsInstancedArrays:{value:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")}},enableScissorTest:{value:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)}},initMaterial:{value:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")}},addPrePlugin:{value:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")}},addPostPlugin:{value:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")}},updateShadowMap:{value:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}},shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=e}}}),Object.defineProperties(t.WebGLRenderTarget.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),t.GeometryUtils={merge:function(e,r,n){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var i;r instanceof t.Mesh&&(r.matrixAutoUpdate&&r.updateMatrix(),i=r.matrix,r=r.geometry),e.merge(r,i,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}},t.ImageUtils={crossOrigin:void 0,loadTexture:function(e,r,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var a=new t.TextureLoader;a.setCrossOrigin(this.crossOrigin);var s=a.load(e,n,void 0,i);return r&&(s.mapping=r),s},loadTextureCube:function(e,r,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var a=new t.CubeTextureLoader;a.setCrossOrigin(this.crossOrigin);var s=a.load(e,n,void 0,i);return r&&(s.mapping=r),s},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}},t.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(e,r){console.warn("THREE.Projector: .projectVector() is now vector.project()."),e.project(r)},this.unprojectVector=function(e,r){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),e.unproject(r)},this.pickingRay=function(e,r){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}},t.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElement("canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}},t.MeshFaceMaterial=t.MultiMaterial,t.CurveUtils={tangentQuadraticBezier:function(e,r,n,i){return 2*(1-e)*(n-r)+2*e*(i-n)},tangentCubicBezier:function(e,r,n,i,a){return-3*r*(1-e)*(1-e)+3*n*(1-e)*(1-e)-6*e*n*(1-e)+6*e*i*(1-e)-3*e*e*i+3*e*e*a},tangentSpline:function(e,r,n,i,a){var s=6*e*e-6*e,c=3*e*e-4*e+1,u=-6*e*e+6*e,f=3*e*e-2*e;return s+c+u+f},interpolate:function(e,r,n,i,a){var s=(n-e)*.5,c=(i-r)*.5,u=a*a,f=a*u;return(2*r-2*n+s+c)*f+(-3*r+3*n-2*s-c)*u+s*a+r}},t.SceneUtils={createMultiMaterialObject:function(e,r){for(var n=new t.Group,i=0,a=r.length;i<a;i++)n.add(new t.Mesh(e,r[i]));return n},detach:function(e,r,n){e.applyMatrix(r.matrixWorld),r.remove(e),n.add(e)},attach:function(e,r,n){var i=new t.Matrix4;i.getInverse(n.matrixWorld),e.applyMatrix(i),r.remove(e),n.add(e)}},t.ShapeUtils={area:function(e){for(var r=e.length,n=0,i=r-1,a=0;a<r;i=a++)n+=e[i].x*e[a].y-e[a].x*e[i].y;return n*.5},triangulate:function(){function e(r,n,i,a,s,c){var u,f,h,d,m,p,v,g,y;if(f=r[c[n]].x,h=r[c[n]].y,d=r[c[i]].x,m=r[c[i]].y,p=r[c[a]].x,v=r[c[a]].y,Number.EPSILON>(d-f)*(v-h)-(m-h)*(p-f))return!1;var x,w,M,E,T,S,L,P,R,B,V,z,X,G,k;for(x=p-d,w=v-m,M=f-p,E=h-v,T=d-f,S=m-h,u=0;u<s;u++)if(g=r[c[u]].x,y=r[c[u]].y,!(g===f&&y===h||g===d&&y===m||g===p&&y===v)&&(L=g-f,P=y-h,R=g-d,B=y-m,V=g-p,z=y-v,k=x*B-w*R,X=T*P-S*L,G=M*z-E*V,k>=-Number.EPSILON&&G>=-Number.EPSILON&&X>=-Number.EPSILON))return!1;return!0}return function(r,n){var i=r.length;if(i<3)return null;var a=[],s=[],c=[],u,f,h;if(t.ShapeUtils.area(r)>0)for(f=0;f<i;f++)s[f]=f;else for(f=0;f<i;f++)s[f]=i-1-f;var d=i,m=2*d;for(f=d-1;d>2;){if(m--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),n?c:a;if(u=f,d<=u&&(u=0),f=u+1,d<=f&&(f=0),h=f+1,d<=h&&(h=0),e(r,u,f,h,d,s)){var p,v,g,y,x;for(p=s[u],v=s[f],g=s[h],a.push([r[p],r[v],r[g]]),c.push([s[u],s[f],s[h]]),y=f,x=f+1;x<d;y++,x++)s[y]=s[x];d--,m=2*d}}return n?c:a}}(),triangulateShape:function(e,r){function n(M,E,T){return M.x!==E.x?M.x<E.x?M.x<=T.x&&T.x<=E.x:E.x<=T.x&&T.x<=M.x:M.y<E.y?M.y<=T.y&&T.y<=E.y:E.y<=T.y&&T.y<=M.y}function i(M,E,T,S,L){var P=E.x-M.x,R=E.y-M.y,B=S.x-T.x,V=S.y-T.y,z=M.x-T.x,X=M.y-T.y,G=R*B-P*V,k=R*z-P*X;if(Math.abs(G)>Number.EPSILON){var j;if(G>0){if(k<0||k>G)return[];if(j=V*z-B*X,j<0||j>G)return[]}else{if(k>0||k<G)return[];if(j=V*z-B*X,j>0||j<G)return[]}if(j===0)return L&&(k===0||k===G)?[]:[M];if(j===G)return L&&(k===0||k===G)?[]:[E];if(k===0)return[T];if(k===G)return[S];var $=j/G;return[{x:M.x+$*P,y:M.y+$*R}]}else{if(k!==0||V*z!==B*X)return[];var Z=P===0&&R===0,K=B===0&&V===0;if(Z&&K)return M.x!==T.x||M.y!==T.y?[]:[M];if(Z)return n(T,S,M)?[M]:[];if(K)return n(M,E,T)?[T]:[];var oe,ie,fe,O,I,H,q,_;return P!==0?(M.x<E.x?(oe=M,fe=M.x,ie=E,O=E.x):(oe=E,fe=E.x,ie=M,O=M.x),T.x<S.x?(I=T,q=T.x,H=S,_=S.x):(I=S,q=S.x,H=T,_=T.x)):(M.y<E.y?(oe=M,fe=M.y,ie=E,O=E.y):(oe=E,fe=E.y,ie=M,O=M.y),T.y<S.y?(I=T,q=T.y,H=S,_=S.y):(I=S,q=S.y,H=T,_=T.y)),fe<=q?O<q?[]:O===q?L?[]:[I]:O<=_?[I,ie]:[I,H]:fe>_?[]:fe===_?L?[]:[oe]:O<=_?[oe,ie]:[oe,H]}}function a(M,E,T,S){var L=E.x-M.x,P=E.y-M.y,R=T.x-M.x,B=T.y-M.y,V=S.x-M.x,z=S.y-M.y,X=L*B-P*R,G=L*z-P*V;if(Math.abs(X)>Number.EPSILON){var k=V*B-z*R;return X>0?G>=0&&k>=0:G>=0||k>=0}else return G>0}function s(M,E){var T=M.concat(),S;function L(_,ae){var J=T.length-1,ce=_-1;ce<0&&(ce=J);var C=_+1;C>J&&(C=0);var F=a(T[_],T[ce],T[C],S[ae]);if(!F)return!1;var Y=S.length-1,ee=ae-1;ee<0&&(ee=Y);var Q=ae+1;return Q>Y&&(Q=0),F=a(S[ae],S[ee],S[Q],T[_]),!!F}function P(_,ae){var J,ce,C;for(J=0;J<T.length;J++)if(ce=J+1,ce%=T.length,C=i(_,ae,T[J],T[ce],!0),C.length>0)return!0;return!1}var R=[];function B(_,ae){var J,ce,C,F,Y;for(J=0;J<R.length;J++)for(ce=E[R[J]],C=0;C<ce.length;C++)if(F=C+1,F%=ce.length,Y=i(_,ae,ce[C],ce[F],!0),Y.length>0)return!0;return!1}for(var V,z,X,G,k,j,$=[],Z,K,oe,ie,fe=0,O=E.length;fe<O;fe++)R.push(fe);for(var I=0,H=R.length*2;R.length>0;){if(H--,H<0){console.log("Infinite Loop! Holes left:"+R.length+", Probably Hole outside Shape!");break}for(z=I;z<T.length;z++){X=T[z],V=-1;for(var fe=0;fe<R.length;fe++)if(k=R[fe],j=X.x+":"+X.y+":"+k,$[j]===void 0){S=E[k];for(var q=0;q<S.length;q++)if(G=S[q],!!L(z,q)&&!P(X,G)&&!B(X,G)){V=q,R.splice(fe,1),Z=T.slice(0,z+1),K=T.slice(z),oe=S.slice(V),ie=S.slice(0,V+1),T=Z.concat(oe).concat(ie).concat(K),I=z;break}if(V>=0)break;$[j]=!0}if(V>=0)break}}return T}for(var c,u,f,h,d,m,p={},v=e.concat(),g=0,y=r.length;g<y;g++)Array.prototype.push.apply(v,r[g]);for(c=0,u=v.length;c<u;c++)d=v[c].x+":"+v[c].y,p[d]!==void 0&&console.warn("THREE.Shape: Duplicate point",d),p[d]=c;var x=s(e,r),w=t.ShapeUtils.triangulate(x,!1);for(c=0,u=w.length;c<u;c++)for(h=w[c],f=0;f<3;f++)d=h[f].x+":"+h[f].y,m=p[d],m!==void 0&&(h[f]=m);return w.concat()},isClockWise:function(e){return t.ShapeUtils.area(e)<0},b2:function(){function e(i,a){var s=1-i;return s*s*a}function r(i,a){return 2*(1-i)*i*a}function n(i,a){return i*i*a}return function(i,a,s,c){return e(i,a)+r(i,s)+n(i,c)}}(),b3:function(){function e(a,s){var c=1-a;return c*c*c*s}function r(a,s){var c=1-a;return 3*c*c*a*s}function n(a,s){var c=1-a;return 3*c*a*a*s}function i(a,s){return a*a*a*s}return function(a,s,c,u,f){return e(a,s)+r(a,c)+n(a,u)+i(a,f)}}()},t.Curve=function(){},t.Curve.prototype={constructor:t.Curve,getPoint:function(e){return console.warn("THREE.Curve: Warning, getPoint() not implemented!"),null},getPointAt:function(e){var r=this.getUtoTmapping(e);return this.getPoint(r)},getPoints:function(e){e||(e=5);var r,n=[];for(r=0;r<=e;r++)n.push(this.getPoint(r/e));return n},getSpacedPoints:function(e){e||(e=5);var r,n=[];for(r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e||(e=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var r=[],n,i=this.getPoint(0),a,s=0;for(r.push(0),a=1;a<=e;a++)n=this.getPoint(a/e),s+=n.distanceTo(i),r.push(s),i=n;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,r){var n=this.getLengths(),i=0,a=n.length,s;r?s=r:s=e*n[a-1];for(var c=0,u=a-1,f;c<=u;)if(i=Math.floor(c+(u-c)/2),f=n[i]-s,f<0)c=i+1;else if(f>0)u=i-1;else{u=i;break}if(i=u,n[i]===s){var v=i/(a-1);return v}var h=n[i],d=n[i+1],m=d-h,p=(s-h)/m,v=(i+p)/(a-1);return v},getTangent:function(e){var r=1e-4,n=e-r,i=e+r;n<0&&(n=0),i>1&&(i=1);var a=this.getPoint(n),s=this.getPoint(i),c=s.clone().sub(a);return c.normalize()},getTangentAt:function(e){var r=this.getUtoTmapping(e);return this.getTangent(r)}},t.Curve.create=function(e,r){return e.prototype=Object.create(t.Curve.prototype),e.prototype.constructor=e,e.prototype.getPoint=r,e},t.CurvePath=function(){this.curves=[],this.autoClose=!1},t.CurvePath.prototype=Object.create(t.Curve.prototype),t.CurvePath.prototype.constructor=t.CurvePath,t.CurvePath.prototype.add=function(e){this.curves.push(e)},t.CurvePath.prototype.closePath=function(){var e=this.curves[0].getPoint(0),r=this.curves[this.curves.length-1].getPoint(1);e.equals(r)||this.curves.push(new t.LineCurve(r,e))},t.CurvePath.prototype.getPoint=function(e){for(var r=e*this.getLength(),n=this.getCurveLengths(),i=0;i<n.length;){if(n[i]>=r){var a=n[i]-r,s=this.curves[i],c=1-a/s.getLength();return s.getPointAt(c)}i++}return null},t.CurvePath.prototype.getLength=function(){var e=this.getCurveLengths();return e[e.length-1]},t.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],r=0,n=0,i=this.curves.length;n<i;n++)r+=this.curves[n].getLength(),e.push(r);return this.cacheLengths=e,e},t.CurvePath.prototype.createPointsGeometry=function(e){var r=this.getPoints(e);return this.createGeometry(r)},t.CurvePath.prototype.createSpacedPointsGeometry=function(e){var r=this.getSpacedPoints(e);return this.createGeometry(r)},t.CurvePath.prototype.createGeometry=function(e){for(var r=new t.Geometry,n=0,i=e.length;n<i;n++){var a=e[n];r.vertices.push(new t.Vector3(a.x,a.y,a.z||0))}return r},t.Font=function(e){this.data=e},t.Font.prototype={constructor:t.Font,generateShapes:function(e,r,n){function i(d){for(var m=String(d).split(""),p=r/s.resolution,v=0,g=[],y=0;y<m.length;y++){var x=a(m[y],p,v);v+=x.offset,g.push(x.path)}return g}function a(d,m,p){var v=s.glyphs[d]||s.glyphs["?"];if(!!v){var g=new t.Path,y=[],x=t.ShapeUtils.b2,w=t.ShapeUtils.b3,M,E,T,S,L,P,R,B,V,z,X;if(v.o)for(var G=v._cachedOutline||(v._cachedOutline=v.o.split(" ")),k=0,j=G.length;k<j;){var $=G[k++];switch($){case"m":M=G[k++]*m+p,E=G[k++]*m,g.moveTo(M,E);break;case"l":M=G[k++]*m+p,E=G[k++]*m,g.lineTo(M,E);break;case"q":if(T=G[k++]*m+p,S=G[k++]*m,R=G[k++]*m+p,B=G[k++]*m,g.quadraticCurveTo(R,B,T,S),X=y[y.length-1],X){L=X.x,P=X.y;for(var Z=1;Z<=n;Z++){var K=Z/n;x(K,L,R,T),x(K,P,B,S)}}break;case"b":if(T=G[k++]*m+p,S=G[k++]*m,R=G[k++]*m+p,B=G[k++]*m,V=G[k++]*m+p,z=G[k++]*m,g.bezierCurveTo(R,B,V,z,T,S),X=y[y.length-1],X){L=X.x,P=X.y;for(var Z=1;Z<=n;Z++){var K=Z/n;w(K,L,R,V,T),w(K,P,B,z,S)}}break}}return{offset:v.ha*m,path:g}}}r===void 0&&(r=100),n===void 0&&(n=4);for(var s=this.data,c=i(e),u=[],f=0,h=c.length;f<h;f++)Array.prototype.push.apply(u,c[f].toShapes());return u}},t.Path=function(e){t.CurvePath.call(this),this.actions=[],e&&this.fromPoints(e)},t.Path.prototype=Object.create(t.CurvePath.prototype),t.Path.prototype.constructor=t.Path,t.Path.prototype.fromPoints=function(e){this.moveTo(e[0].x,e[0].y);for(var r=1,n=e.length;r<n;r++)this.lineTo(e[r].x,e[r].y)},t.Path.prototype.moveTo=function(e,r){this.actions.push({action:"moveTo",args:[e,r]})},t.Path.prototype.lineTo=function(e,r){var n=this.actions[this.actions.length-1].args,i=n[n.length-2],a=n[n.length-1],s=new t.LineCurve(new t.Vector2(i,a),new t.Vector2(e,r));this.curves.push(s),this.actions.push({action:"lineTo",args:[e,r]})},t.Path.prototype.quadraticCurveTo=function(e,r,n,i){var a=this.actions[this.actions.length-1].args,s=a[a.length-2],c=a[a.length-1],u=new t.QuadraticBezierCurve(new t.Vector2(s,c),new t.Vector2(e,r),new t.Vector2(n,i));this.curves.push(u),this.actions.push({action:"quadraticCurveTo",args:[e,r,n,i]})},t.Path.prototype.bezierCurveTo=function(e,r,n,i,a,s){var c=this.actions[this.actions.length-1].args,u=c[c.length-2],f=c[c.length-1],h=new t.CubicBezierCurve(new t.Vector2(u,f),new t.Vector2(e,r),new t.Vector2(n,i),new t.Vector2(a,s));this.curves.push(h),this.actions.push({action:"bezierCurveTo",args:[e,r,n,i,a,s]})},t.Path.prototype.splineThru=function(e){var r=Array.prototype.slice.call(arguments),n=this.actions[this.actions.length-1].args,i=n[n.length-2],a=n[n.length-1],s=[new t.Vector2(i,a)];Array.prototype.push.apply(s,e);var c=new t.SplineCurve(s);this.curves.push(c),this.actions.push({action:"splineThru",args:r})},t.Path.prototype.arc=function(e,r,n,i,a,s){var c=this.actions[this.actions.length-1].args,u=c[c.length-2],f=c[c.length-1];this.absarc(e+u,r+f,n,i,a,s)},t.Path.prototype.absarc=function(e,r,n,i,a,s){this.absellipse(e,r,n,n,i,a,s)},t.Path.prototype.ellipse=function(e,r,n,i,a,s,c,u){var f=this.actions[this.actions.length-1].args,h=f[f.length-2],d=f[f.length-1];this.absellipse(e+h,r+d,n,i,a,s,c,u)},t.Path.prototype.absellipse=function(e,r,n,i,a,s,c,u){var f=[e,r,n,i,a,s,c,u||0],h=new t.EllipseCurve(e,r,n,i,a,s,c,u);this.curves.push(h);var d=h.getPoint(1);f.push(d.x),f.push(d.y),this.actions.push({action:"ellipse",args:f})},t.Path.prototype.getSpacedPoints=function(e){e||(e=40);for(var r=[],n=0;n<e;n++)r.push(this.getPoint(n/e));return this.autoClose&&r.push(r[0]),r},t.Path.prototype.getPoints=function(e){e=e||12;for(var r=t.ShapeUtils.b2,n=t.ShapeUtils.b3,i=[],a,s,c,u,f,h,d,m,p,v,g,y=0,x=this.actions.length;y<x;y++){var w=this.actions[y],M=w.action,E=w.args;switch(M){case"moveTo":i.push(new t.Vector2(E[0],E[1]));break;case"lineTo":i.push(new t.Vector2(E[0],E[1]));break;case"quadraticCurveTo":a=E[2],s=E[3],f=E[0],h=E[1],i.length>0?(p=i[i.length-1],d=p.x,m=p.y):(p=this.actions[y-1].args,d=p[p.length-2],m=p[p.length-1]);for(var T=1;T<=e;T++){var S=T/e;v=r(S,d,f,a),g=r(S,m,h,s),i.push(new t.Vector2(v,g))}break;case"bezierCurveTo":a=E[4],s=E[5],f=E[0],h=E[1],c=E[2],u=E[3],i.length>0?(p=i[i.length-1],d=p.x,m=p.y):(p=this.actions[y-1].args,d=p[p.length-2],m=p[p.length-1]);for(var T=1;T<=e;T++){var S=T/e;v=n(S,d,f,c,a),g=n(S,m,h,u,s),i.push(new t.Vector2(v,g))}break;case"splineThru":p=this.actions[y-1].args;var L=new t.Vector2(p[p.length-2],p[p.length-1]),P=[L],R=e*E[0].length;P=P.concat(E[0]);for(var B=new t.SplineCurve(P),T=1;T<=R;T++)i.push(B.getPointAt(T/R));break;case"arc":for(var z=E[0],X=E[1],V=E[2],j=E[3],$=E[4],Z=!!E[5],oe=$-j,ie,fe=e*2,T=1;T<=fe;T++){var S=T/fe;Z||(S=1-S),ie=j+S*oe,v=z+V*Math.cos(ie),g=X+V*Math.sin(ie),i.push(new t.Vector2(v,g))}break;case"ellipse":var z=E[0],X=E[1],G=E[2],k=E[3],j=E[4],$=E[5],Z=!!E[6],K=E[7],oe=$-j,ie,fe=e*2,O,I;K!==0&&(O=Math.cos(K),I=Math.sin(K));for(var T=1;T<=fe;T++){var S=T/fe;if(Z||(S=1-S),ie=j+S*oe,v=z+G*Math.cos(ie),g=X+k*Math.sin(ie),K!==0){var H=v,q=g;v=(H-z)*O-(q-X)*I+z,g=(H-z)*I+(q-X)*O+X}i.push(new t.Vector2(v,g))}break}}var _=i[i.length-1];return Math.abs(_.x-i[0].x)<Number.EPSILON&&Math.abs(_.y-i[0].y)<Number.EPSILON&&i.splice(i.length-1,1),this.autoClose&&i.push(i[0]),i},t.Path.prototype.toShapes=function(e,r){function n($){for(var Z=[],K=new t.Path,oe=0,ie=$.length;oe<ie;oe++){var fe=$[oe],O=fe.args,I=fe.action;I==="moveTo"&&K.actions.length!==0&&(Z.push(K),K=new t.Path),K[I].apply(K,O)}return K.actions.length!==0&&Z.push(K),Z}function i($){for(var Z=[],K=0,oe=$.length;K<oe;K++){var ie=$[K],fe=new t.Shape;fe.actions=ie.actions,fe.curves=ie.curves,Z.push(fe)}return Z}function a($,Z){for(var K=Z.length,oe=!1,ie=K-1,fe=0;fe<K;ie=fe++){var O=Z[ie],I=Z[fe],H=I.x-O.x,q=I.y-O.y;if(Math.abs(q)>Number.EPSILON){if(q<0&&(O=Z[fe],H=-H,I=Z[ie],q=-q),$.y<O.y||$.y>I.y)continue;if($.y===O.y){if($.x===O.x)return!0}else{var _=q*($.x-O.x)-H*($.y-O.y);if(_===0)return!0;if(_<0)continue;oe=!oe}}else{if($.y!==O.y)continue;if(I.x<=$.x&&$.x<=O.x||O.x<=$.x&&$.x<=I.x)return!0}}return oe}var s=t.ShapeUtils.isClockWise,c=n(this.actions);if(c.length===0)return[];if(r===!0)return i(c);var u,f,h,d=[];if(c.length===1)return f=c[0],h=new t.Shape,h.actions=f.actions,h.curves=f.curves,d.push(h),d;var m=!s(c[0].getPoints());m=e?!m:m;var p=[],v=[],g=[],y=0,x;v[y]=void 0,g[y]=[];for(var w=0,M=c.length;w<M;w++)f=c[w],x=f.getPoints(),u=s(x),u=e?!u:u,u?(!m&&v[y]&&y++,v[y]={s:new t.Shape,p:x},v[y].s.actions=f.actions,v[y].s.curves=f.curves,m&&y++,g[y]=[]):g[y].push({h:f,p:x[0]});if(!v[0])return i(c);if(v.length>1){for(var E=!1,T=[],S=0,L=v.length;S<L;S++)p[S]=[];for(var S=0,L=v.length;S<L;S++)for(var P=g[S],R=0;R<P.length;R++){for(var B=P[R],V=!0,z=0;z<v.length;z++)a(B.p,v[z].p)&&(S!==z&&T.push({froms:S,tos:z,hole:R}),V?(V=!1,p[z].push(B)):E=!0);V&&p[S].push(B)}T.length>0&&(E||(g=p))}for(var X,w=0,G=v.length;w<G;w++){h=v[w].s,d.push(h),X=g[w];for(var k=0,j=X.length;k<j;k++)h.holes.push(X[k].h)}return d},t.Shape=function(){t.Path.apply(this,arguments),this.holes=[]},t.Shape.prototype=Object.create(t.Path.prototype),t.Shape.prototype.constructor=t.Shape,t.Shape.prototype.extrude=function(e){return new t.ExtrudeGeometry(this,e)},t.Shape.prototype.makeGeometry=function(e){return new t.ShapeGeometry(this,e)},t.Shape.prototype.getPointsHoles=function(e){for(var r=[],n=0,i=this.holes.length;n<i;n++)r[n]=this.holes[n].getPoints(e);return r},t.Shape.prototype.extractAllPoints=function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},t.Shape.prototype.extractPoints=function(e){return this.extractAllPoints(e)},t.LineCurve=function(e,r){this.v1=e,this.v2=r},t.LineCurve.prototype=Object.create(t.Curve.prototype),t.LineCurve.prototype.constructor=t.LineCurve,t.LineCurve.prototype.getPoint=function(e){var r=this.v2.clone().sub(this.v1);return r.multiplyScalar(e).add(this.v1),r},t.LineCurve.prototype.getPointAt=function(e){return this.getPoint(e)},t.LineCurve.prototype.getTangent=function(e){var r=this.v2.clone().sub(this.v1);return r.normalize()},t.QuadraticBezierCurve=function(e,r,n){this.v0=e,this.v1=r,this.v2=n},t.QuadraticBezierCurve.prototype=Object.create(t.Curve.prototype),t.QuadraticBezierCurve.prototype.constructor=t.QuadraticBezierCurve,t.QuadraticBezierCurve.prototype.getPoint=function(e){var r=t.ShapeUtils.b2;return new t.Vector2(r(e,this.v0.x,this.v1.x,this.v2.x),r(e,this.v0.y,this.v1.y,this.v2.y))},t.QuadraticBezierCurve.prototype.getTangent=function(e){var r=t.CurveUtils.tangentQuadraticBezier;return new t.Vector2(r(e,this.v0.x,this.v1.x,this.v2.x),r(e,this.v0.y,this.v1.y,this.v2.y)).normalize()},t.CubicBezierCurve=function(e,r,n,i){this.v0=e,this.v1=r,this.v2=n,this.v3=i},t.CubicBezierCurve.prototype=Object.create(t.Curve.prototype),t.CubicBezierCurve.prototype.constructor=t.CubicBezierCurve,t.CubicBezierCurve.prototype.getPoint=function(e){var r=t.ShapeUtils.b3;return new t.Vector2(r(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),r(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y))},t.CubicBezierCurve.prototype.getTangent=function(e){var r=t.CurveUtils.tangentCubicBezier;return new t.Vector2(r(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),r(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y)).normalize()},t.SplineCurve=function(e){this.points=e==null?[]:e},t.SplineCurve.prototype=Object.create(t.Curve.prototype),t.SplineCurve.prototype.constructor=t.SplineCurve,t.SplineCurve.prototype.getPoint=function(e){var r=this.points,n=(r.length-1)*e,i=Math.floor(n),a=n-i,s=r[i===0?i:i-1],c=r[i],u=r[i>r.length-2?r.length-1:i+1],f=r[i>r.length-3?r.length-1:i+2],h=t.CurveUtils.interpolate;return new t.Vector2(h(s.x,c.x,u.x,f.x,a),h(s.y,c.y,u.y,f.y,a))},t.EllipseCurve=function(e,r,n,i,a,s,c,u){this.aX=e,this.aY=r,this.xRadius=n,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=c,this.aRotation=u||0},t.EllipseCurve.prototype=Object.create(t.Curve.prototype),t.EllipseCurve.prototype.constructor=t.EllipseCurve,t.EllipseCurve.prototype.getPoint=function(e){var r=this.aEndAngle-this.aStartAngle;r<0&&(r+=Math.PI*2),r>Math.PI*2&&(r-=Math.PI*2);var n;this.aClockwise===!0?n=this.aEndAngle+(1-e)*(Math.PI*2-r):n=this.aStartAngle+e*r;var i=this.aX+this.xRadius*Math.cos(n),a=this.aY+this.yRadius*Math.sin(n);if(this.aRotation!==0){var s=Math.cos(this.aRotation),c=Math.sin(this.aRotation),u=i,f=a;i=(u-this.aX)*s-(f-this.aY)*c+this.aX,a=(u-this.aX)*c+(f-this.aY)*s+this.aY}return new t.Vector2(i,a)},t.ArcCurve=function(e,r,n,i,a,s){t.EllipseCurve.call(this,e,r,n,n,i,a,s)},t.ArcCurve.prototype=Object.create(t.EllipseCurve.prototype),t.ArcCurve.prototype.constructor=t.ArcCurve,t.LineCurve3=t.Curve.create(function(e,r){this.v1=e,this.v2=r},function(e){var r=new t.Vector3;return r.subVectors(this.v2,this.v1),r.multiplyScalar(e),r.add(this.v1),r}),t.QuadraticBezierCurve3=t.Curve.create(function(e,r,n){this.v0=e,this.v1=r,this.v2=n},function(e){var r=t.ShapeUtils.b2;return new t.Vector3(r(e,this.v0.x,this.v1.x,this.v2.x),r(e,this.v0.y,this.v1.y,this.v2.y),r(e,this.v0.z,this.v1.z,this.v2.z))}),t.CubicBezierCurve3=t.Curve.create(function(e,r,n,i){this.v0=e,this.v1=r,this.v2=n,this.v3=i},function(e){var r=t.ShapeUtils.b3;return new t.Vector3(r(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),r(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y),r(e,this.v0.z,this.v1.z,this.v2.z,this.v3.z))}),t.SplineCurve3=t.Curve.create(function(e){console.warn("THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3"),this.points=e==null?[]:e},function(e){var r=this.points,n=(r.length-1)*e,i=Math.floor(n),a=n-i,s=r[i==0?i:i-1],c=r[i],u=r[i>r.length-2?r.length-1:i+1],f=r[i>r.length-3?r.length-1:i+2],h=t.CurveUtils.interpolate;return new t.Vector3(h(s.x,c.x,u.x,f.x,a),h(s.y,c.y,u.y,f.y,a),h(s.z,c.z,u.z,f.z,a))}),t.CatmullRomCurve3=function(){var e=new t.Vector3,r=new a,n=new a,i=new a;function a(){}return a.prototype.init=function(s,c,u,f){this.c0=s,this.c1=u,this.c2=-3*s+3*c-2*u-f,this.c3=2*s-2*c+u+f},a.prototype.initNonuniformCatmullRom=function(s,c,u,f,h,d,m){var p=(c-s)/h-(u-s)/(h+d)+(u-c)/d,v=(u-c)/d-(f-c)/(d+m)+(f-u)/m;p*=d,v*=d,this.init(c,u,p,v)},a.prototype.initCatmullRom=function(s,c,u,f,h){this.init(c,u,h*(u-s),h*(f-c))},a.prototype.calc=function(s){var c=s*s,u=c*s;return this.c0+this.c1*s+this.c2*c+this.c3*u},t.Curve.create(function(s){this.points=s||[],this.closed=!1},function(s){var c=this.points,u,f,h,d;d=c.length,d<2&&console.log("duh, you need at least 2 points"),u=(d-(this.closed?0:1))*s,f=Math.floor(u),h=u-f,this.closed?f+=f>0?0:(Math.floor(Math.abs(f)/c.length)+1)*c.length:h===0&&f===d-1&&(f=d-2,h=1);var m,p,v,g;if(this.closed||f>0?m=c[(f-1)%d]:(e.subVectors(c[0],c[1]).add(c[0]),m=e),p=c[f%d],v=c[(f+1)%d],this.closed||f+2<d?g=c[(f+2)%d]:(e.subVectors(c[d-1],c[d-2]).add(c[d-1]),g=e),this.type===void 0||this.type==="centripetal"||this.type==="chordal"){var y=this.type==="chordal"?.5:.25,x=Math.pow(m.distanceToSquared(p),y),w=Math.pow(p.distanceToSquared(v),y),M=Math.pow(v.distanceToSquared(g),y);w<1e-4&&(w=1),x<1e-4&&(x=w),M<1e-4&&(M=w),r.initNonuniformCatmullRom(m.x,p.x,v.x,g.x,x,w,M),n.initNonuniformCatmullRom(m.y,p.y,v.y,g.y,x,w,M),i.initNonuniformCatmullRom(m.z,p.z,v.z,g.z,x,w,M)}else if(this.type==="catmullrom"){var E=this.tension!==void 0?this.tension:.5;r.initCatmullRom(m.x,p.x,v.x,g.x,E),n.initCatmullRom(m.y,p.y,v.y,g.y,E),i.initCatmullRom(m.z,p.z,v.z,g.z,E)}var T=new t.Vector3(r.calc(h),n.calc(h),i.calc(h));return T})}(),t.ClosedSplineCurve3=function(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Please use THREE.CatmullRomCurve3."),t.CatmullRomCurve3.call(this,e),this.type="catmullrom",this.closed=!0},t.ClosedSplineCurve3.prototype=Object.create(t.CatmullRomCurve3.prototype),t.BoxGeometry=function(e,r,n,i,a,s){t.Geometry.call(this),this.type="BoxGeometry",this.parameters={width:e,height:r,depth:n,widthSegments:i,heightSegments:a,depthSegments:s},this.fromBufferGeometry(new t.BoxBufferGeometry(e,r,n,i,a,s)),this.mergeVertices()},t.BoxGeometry.prototype=Object.create(t.Geometry.prototype),t.BoxGeometry.prototype.constructor=t.BoxGeometry,t.CubeGeometry=t.BoxGeometry,t.BoxBufferGeometry=function(e,r,n,i,a,s){t.BufferGeometry.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:r,depth:n,widthSegments:i,heightSegments:a,depthSegments:s};var c=this;i=Math.floor(i)||1,a=Math.floor(a)||1,s=Math.floor(s)||1;var u=M(i,a,s),f=u/4*6,h=new(f>65535?Uint32Array:Uint16Array)(f),d=new Float32Array(u*3),m=new Float32Array(u*3),p=new Float32Array(u*2),v=0,g=0,y=0,x=0,w=0;E("z","y","x",-1,-1,n,r,e,s,a,0),E("z","y","x",1,-1,n,r,-e,s,a,1),E("x","z","y",1,1,e,n,r,i,s,2),E("x","z","y",1,-1,e,n,-r,i,s,3),E("x","y","z",1,-1,e,r,n,i,a,4),E("x","y","z",-1,-1,e,r,-n,i,a,5),this.setIndex(new t.BufferAttribute(h,1)),this.addAttribute("position",new t.BufferAttribute(d,3)),this.addAttribute("normal",new t.BufferAttribute(m,3)),this.addAttribute("uv",new t.BufferAttribute(p,2));function M(T,S,L){var P=0;return P+=T*S*2,P+=T*L*2,P+=L*S*2,P*4}function E(T,S,L,P,R,B,V,z,X,G,k){for(var j=B/X,$=V/G,Z=B/2,K=V/2,oe=z/2,ie=X+1,fe=G+1,O=0,I=0,H=new t.Vector3,q=0;q<fe;q++)for(var _=q*$-K,ae=0;ae<ie;ae++){var J=ae*j-Z;H[T]=J*P,H[S]=_*R,H[L]=oe,d[v]=H.x,d[v+1]=H.y,d[v+2]=H.z,H[T]=0,H[S]=0,H[L]=z>0?1:-1,m[v]=H.x,m[v+1]=H.y,m[v+2]=H.z,p[g]=ae/X,p[g+1]=1-q/G,v+=3,g+=2,O+=1}for(q=0;q<G;q++)for(ae=0;ae<X;ae++){var ce=x+ae+ie*q,C=x+ae+ie*(q+1),F=x+(ae+1)+ie*(q+1),Y=x+(ae+1)+ie*q;h[y]=ce,h[y+1]=C,h[y+2]=Y,h[y+3]=C,h[y+4]=F,h[y+5]=Y,y+=6,I+=6}c.addGroup(w,I,k),w+=I,x+=O}},t.BoxBufferGeometry.prototype=Object.create(t.BufferGeometry.prototype),t.BoxBufferGeometry.prototype.constructor=t.BoxBufferGeometry,t.CircleGeometry=function(e,r,n,i){t.Geometry.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:r,thetaStart:n,thetaLength:i},this.fromBufferGeometry(new t.CircleBufferGeometry(e,r,n,i))},t.CircleGeometry.prototype=Object.create(t.Geometry.prototype),t.CircleGeometry.prototype.constructor=t.CircleGeometry,t.CircleBufferGeometry=function(e,r,n,i){t.BufferGeometry.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:r,thetaStart:n,thetaLength:i},e=e||50,r=r!==void 0?Math.max(3,r):8,n=n!==void 0?n:0,i=i!==void 0?i:Math.PI*2;var a=r+2,s=new Float32Array(a*3),c=new Float32Array(a*3),u=new Float32Array(a*2);c[2]=1,u[0]=.5,u[1]=.5;for(var f=0,h=3,d=2;f<=r;f++,h+=3,d+=2){var m=n+f/r*i;s[h]=e*Math.cos(m),s[h+1]=e*Math.sin(m),c[h+2]=1,u[d]=(s[h]/e+1)/2,u[d+1]=(s[h+1]/e+1)/2}for(var p=[],h=1;h<=r;h++)p.push(h,h+1,0);this.setIndex(new t.BufferAttribute(new Uint16Array(p),1)),this.addAttribute("position",new t.BufferAttribute(s,3)),this.addAttribute("normal",new t.BufferAttribute(c,3)),this.addAttribute("uv",new t.BufferAttribute(u,2)),this.boundingSphere=new t.Sphere(new t.Vector3,e)},t.CircleBufferGeometry.prototype=Object.create(t.BufferGeometry.prototype),t.CircleBufferGeometry.prototype.constructor=t.CircleBufferGeometry,t.CylinderBufferGeometry=function(e,r,n,i,a,s,c,u){t.BufferGeometry.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:r,height:n,radialSegments:i,heightSegments:a,openEnded:s,thetaStart:c,thetaLength:u},e=e!==void 0?e:20,r=r!==void 0?r:20,n=n!==void 0?n:100,i=Math.floor(i)||8,a=Math.floor(a)||1,s=s!==void 0?s:!1,c=c!==void 0?c:0,u=u!==void 0?u:2*Math.PI;var f=M(),h=E(),d=new t.BufferAttribute(new(h>65535?Uint32Array:Uint16Array)(h),1),m=new t.BufferAttribute(new Float32Array(f*3),3),p=new t.BufferAttribute(new Float32Array(f*3),3),v=new t.BufferAttribute(new Float32Array(f*2),2),g=0,y=0,x=[],w=n/2;T(),s===!1&&(e>0&&S(!0),r>0&&S(!1)),this.setIndex(d),this.addAttribute("position",m),this.addAttribute("normal",p),this.addAttribute("uv",v);function M(){var L=(i+1)*(a+1);return s===!1&&(L+=(i+1)*2+i*2),L}function E(){var L=i*a*2*3;return s===!1&&(L+=i*2*3),L}function T(){var L,P,R=new t.Vector3,B=new t.Vector3,V=(r-e)/n;for(P=0;P<=a;P++){var z=[],X=P/a,G=X*(r-e)+e;for(L=0;L<=i;L++){var k=L/i;B.x=G*Math.sin(k*u+c),B.y=-X*n+w,B.z=G*Math.cos(k*u+c),m.setXYZ(g,B.x,B.y,B.z),R.copy(B),(e===0&&P===0||r===0&&P===a)&&(R.x=Math.sin(k*u+c),R.z=Math.cos(k*u+c)),R.setY(Math.sqrt(R.x*R.x+R.z*R.z)*V).normalize(),p.setXYZ(g,R.x,R.y,R.z),v.setXY(g,k,1-X),z.push(g),g++}x.push(z)}for(L=0;L<i;L++)for(P=0;P<a;P++){var j=x[P][L],$=x[P+1][L],Z=x[P+1][L+1],K=x[P][L+1];d.setX(y,j),y++,d.setX(y,$),y++,d.setX(y,K),y++,d.setX(y,$),y++,d.setX(y,Z),y++,d.setX(y,K),y++}}function S(L){var P,R,B,V=new t.Vector2,z=new t.Vector3,X=L===!0?e:r,G=L===!0?1:-1;for(R=g,P=1;P<=i;P++)m.setXYZ(g,0,w*G,0),p.setXYZ(g,0,G,0),L===!0?(V.x=P/i,V.y=0):(V.x=(P-1)/i,V.y=1),v.setXY(g,V.x,V.y),g++;for(B=g,P=0;P<=i;P++){var k=P/i;z.x=X*Math.sin(k*u+c),z.y=w*G,z.z=X*Math.cos(k*u+c),m.setXYZ(g,z.x,z.y,z.z),p.setXYZ(g,0,G,0),v.setXY(g,k,L===!0?1:0),g++}for(P=0;P<i;P++){var j=R+P,$=B+P;L===!0?(d.setX(y,$),y++,d.setX(y,$+1),y++,d.setX(y,j),y++):(d.setX(y,$+1),y++,d.setX(y,$),y++,d.setX(y,j),y++)}}},t.CylinderBufferGeometry.prototype=Object.create(t.BufferGeometry.prototype),t.CylinderBufferGeometry.prototype.constructor=t.CylinderBufferGeometry,t.CylinderGeometry=function(e,r,n,i,a,s,c,u){t.Geometry.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:r,height:n,radialSegments:i,heightSegments:a,openEnded:s,thetaStart:c,thetaLength:u},this.fromBufferGeometry(new t.CylinderBufferGeometry(e,r,n,i,a,s,c,u)),this.mergeVertices()},t.CylinderGeometry.prototype=Object.create(t.Geometry.prototype),t.CylinderGeometry.prototype.constructor=t.CylinderGeometry,t.EdgesGeometry=function(e,r){t.BufferGeometry.call(this),r=r!==void 0?r:1;var n=Math.cos(t.Math.degToRad(r)),i=[0,0],a={};function s(M,E){return M-E}var c=["a","b","c"],u;e instanceof t.BufferGeometry?(u=new t.Geometry,u.fromBufferGeometry(e)):u=e.clone(),u.mergeVertices(),u.computeFaceNormals();for(var f=u.vertices,h=u.faces,d=0,m=h.length;d<m;d++)for(var p=h[d],v=0;v<3;v++){i[0]=p[c[v]],i[1]=p[c[(v+1)%3]],i.sort(s);var g=i.toString();a[g]===void 0?a[g]={vert1:i[0],vert2:i[1],face1:d,face2:void 0}:a[g].face2=d}var y=[];for(var g in a){var x=a[g];if(x.face2===void 0||h[x.face1].normal.dot(h[x.face2].normal)<=n){var w=f[x.vert1];y.push(w.x),y.push(w.y),y.push(w.z),w=f[x.vert2],y.push(w.x),y.push(w.y),y.push(w.z)}}this.addAttribute("position",new t.BufferAttribute(new Float32Array(y),3))},t.EdgesGeometry.prototype=Object.create(t.BufferGeometry.prototype),t.EdgesGeometry.prototype.constructor=t.EdgesGeometry,t.ExtrudeGeometry=function(e,r){if(typeof e=="undefined"){e=[];return}t.Geometry.call(this),this.type="ExtrudeGeometry",e=Array.isArray(e)?e:[e],this.addShapeList(e,r),this.computeFaceNormals()},t.ExtrudeGeometry.prototype=Object.create(t.Geometry.prototype),t.ExtrudeGeometry.prototype.constructor=t.ExtrudeGeometry,t.ExtrudeGeometry.prototype.addShapeList=function(e,r){for(var n=e.length,i=0;i<n;i++){var a=e[i];this.addShape(a,r)}},t.ExtrudeGeometry.prototype.addShape=function(e,r){var n=r.amount!==void 0?r.amount:100,i=r.bevelThickness!==void 0?r.bevelThickness:6,a=r.bevelSize!==void 0?r.bevelSize:i-2,s=r.bevelSegments!==void 0?r.bevelSegments:3,c=r.bevelEnabled!==void 0?r.bevelEnabled:!0,u=r.curveSegments!==void 0?r.curveSegments:12,f=r.steps!==void 0?r.steps:1,h=r.extrudePath,d,m=!1,p=r.UVGenerator!==void 0?r.UVGenerator:t.ExtrudeGeometry.WorldUVGenerator,v,g,y,x;h&&(d=h.getSpacedPoints(f),m=!0,c=!1,v=r.frames!==void 0?r.frames:new t.TubeGeometry.FrenetFrames(h,f,!1),g=new t.Vector3,y=new t.Vector3,x=new t.Vector3),c||(s=0,i=0,a=0);var w,M,E,T=this,S=this.vertices.length,L=e.extractPoints(u),P=L.shape,R=L.holes,B=!t.ShapeUtils.isClockWise(P);if(B){for(P=P.reverse(),M=0,E=R.length;M<E;M++)w=R[M],t.ShapeUtils.isClockWise(w)&&(R[M]=w.reverse());B=!1}var V=t.ShapeUtils.triangulateShape(P,R),z=P;for(M=0,E=R.length;M<E;M++)w=R[M],P=P.concat(w);function X(te,ne,re){return ne||console.error("THREE.ExtrudeGeometry: vec does not exist"),ne.clone().multiplyScalar(re).add(te)}var G,k,j,$,Z,K=P.length,oe,ie=V.length;function fe(te,ne,re){var ge,ve,_e=1,be=te.x-ne.x,Ee=te.y-ne.y,Ae=re.x-te.x,Se=re.y-te.y,Re=be*be+Ee*Ee,Ze=be*Se-Ee*Ae;if(Math.abs(Ze)>Number.EPSILON){var Ft=Math.sqrt(Re),Er=Math.sqrt(Ae*Ae+Se*Se),Bt=ne.x-Ee/Ft,Tr=ne.y+be/Ft,$e=re.x-Se/Er,ut=re.y+Ae/Er,Sr=(($e-Bt)*Se-(ut-Tr)*Ae)/(be*Se-Ee*Ae);ge=Bt+be*Sr-te.x,ve=Tr+Ee*Sr-te.y;var Xr=ge*ge+ve*ve;if(Xr<=2)return new t.Vector2(ge,ve);_e=Math.sqrt(Xr/2)}else{var Ar=!1;be>Number.EPSILON?Ae>Number.EPSILON&&(Ar=!0):be<-Number.EPSILON?Ae<-Number.EPSILON&&(Ar=!0):Math.sign(Ee)===Math.sign(Se)&&(Ar=!0),Ar?(ge=-Ee,ve=be,_e=Math.sqrt(Re)):(ge=be,ve=Ee,_e=Math.sqrt(Re/2))}return new t.Vector2(ge/_e,ve/_e)}for(var O=[],I=0,H=z.length,q=H-1,_=I+1;I<H;I++,q++,_++)q===H&&(q=0),_===H&&(_=0),O[I]=fe(z[I],z[q],z[_]);var ae=[],J,ce=O.concat();for(M=0,E=R.length;M<E;M++){for(w=R[M],J=[],I=0,H=w.length,q=H-1,_=I+1;I<H;I++,q++,_++)q===H&&(q=0),_===H&&(_=0),J[I]=fe(w[I],w[q],w[_]);ae.push(J),ce=ce.concat(J)}for(G=0;G<s;G++){for(j=G/s,$=i*(1-j),k=a*Math.sin(j*Math.PI/2),I=0,H=z.length;I<H;I++)Z=X(z[I],O[I],k),Q(Z.x,Z.y,-$);for(M=0,E=R.length;M<E;M++)for(w=R[M],J=ae[M],I=0,H=w.length;I<H;I++)Z=X(w[I],J[I],k),Q(Z.x,Z.y,-$)}for(k=a,I=0;I<K;I++)Z=c?X(P[I],ce[I],k):P[I],m?(y.copy(v.normals[0]).multiplyScalar(Z.x),g.copy(v.binormals[0]).multiplyScalar(Z.y),x.copy(d[0]).add(y).add(g),Q(x.x,x.y,x.z)):Q(Z.x,Z.y,0);var C;for(C=1;C<=f;C++)for(I=0;I<K;I++)Z=c?X(P[I],ce[I],k):P[I],m?(y.copy(v.normals[C]).multiplyScalar(Z.x),g.copy(v.binormals[C]).multiplyScalar(Z.y),x.copy(d[C]).add(y).add(g),Q(x.x,x.y,x.z)):Q(Z.x,Z.y,n/f*C);for(G=s-1;G>=0;G--){for(j=G/s,$=i*(1-j),k=a*Math.sin(j*Math.PI/2),I=0,H=z.length;I<H;I++)Z=X(z[I],O[I],k),Q(Z.x,Z.y,n+$);for(M=0,E=R.length;M<E;M++)for(w=R[M],J=ae[M],I=0,H=w.length;I<H;I++)Z=X(w[I],J[I],k),m?Q(Z.x,Z.y+d[f-1].y,d[f-1].x+$):Q(Z.x,Z.y,n+$)}F(),Y();function F(){if(c){var te=0,ne=K*te;for(I=0;I<ie;I++)oe=V[I],le(oe[2]+ne,oe[1]+ne,oe[0]+ne);for(te=f+s*2,ne=K*te,I=0;I<ie;I++)oe=V[I],le(oe[0]+ne,oe[1]+ne,oe[2]+ne)}else{for(I=0;I<ie;I++)oe=V[I],le(oe[2],oe[1],oe[0]);for(I=0;I<ie;I++)oe=V[I],le(oe[0]+K*f,oe[1]+K*f,oe[2]+K*f)}}function Y(){var te=0;for(ee(z,te),te+=z.length,M=0,E=R.length;M<E;M++)w=R[M],ee(w,te),te+=w.length}function ee(te,ne){var re,ge;for(I=te.length;--I>=0;){re=I,ge=I-1,ge<0&&(ge=te.length-1);var ve=0,_e=f+s*2;for(ve=0;ve<_e;ve++){var be=K*ve,Ee=K*(ve+1),Ae=ne+re+be,Se=ne+ge+be,Re=ne+ge+Ee,Ze=ne+re+Ee;me(Ae,Se,Re,Ze)}}}function Q(te,ne,re){T.vertices.push(new t.Vector3(te,ne,re))}function le(te,ne,re){te+=S,ne+=S,re+=S,T.faces.push(new t.Face3(te,ne,re,null,null,0));var ge=p.generateTopUV(T,te,ne,re);T.faceVertexUvs[0].push(ge)}function me(te,ne,re,ge,ve,_e,be,Ee,Ae){te+=S,ne+=S,re+=S,ge+=S,T.faces.push(new t.Face3(te,ne,ge,null,null,1)),T.faces.push(new t.Face3(ne,re,ge,null,null,1));var Se=p.generateSideWallUV(T,te,ne,re,ge);T.faceVertexUvs[0].push([Se[0],Se[1],Se[3]]),T.faceVertexUvs[0].push([Se[1],Se[2],Se[3]])}},t.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(e,r,n,i){var a=e.vertices,s=a[r],c=a[n],u=a[i];return[new t.Vector2(s.x,s.y),new t.Vector2(c.x,c.y),new t.Vector2(u.x,u.y)]},generateSideWallUV:function(e,r,n,i,a){var s=e.vertices,c=s[r],u=s[n],f=s[i],h=s[a];return Math.abs(c.y-u.y)<.01?[new t.Vector2(c.x,1-c.z),new t.Vector2(u.x,1-u.z),new t.Vector2(f.x,1-f.z),new t.Vector2(h.x,1-h.z)]:[new t.Vector2(c.y,1-c.z),new t.Vector2(u.y,1-u.z),new t.Vector2(f.y,1-f.z),new t.Vector2(h.y,1-h.z)]}},t.ShapeGeometry=function(e,r){t.Geometry.call(this),this.type="ShapeGeometry",Array.isArray(e)===!1&&(e=[e]),this.addShapeList(e,r),this.computeFaceNormals()},t.ShapeGeometry.prototype=Object.create(t.Geometry.prototype),t.ShapeGeometry.prototype.constructor=t.ShapeGeometry,t.ShapeGeometry.prototype.addShapeList=function(e,r){for(var n=0,i=e.length;n<i;n++)this.addShape(e[n],r);return this},t.ShapeGeometry.prototype.addShape=function(e,r){r===void 0&&(r={});var n=r.curveSegments!==void 0?r.curveSegments:12,i=r.material,a=r.UVGenerator===void 0?t.ExtrudeGeometry.WorldUVGenerator:r.UVGenerator,s,c,u,f=this.vertices.length,h=e.extractPoints(n),d=h.shape,m=h.holes,p=!t.ShapeUtils.isClockWise(d);if(p){for(d=d.reverse(),s=0,c=m.length;s<c;s++)u=m[s],t.ShapeUtils.isClockWise(u)&&(m[s]=u.reverse());p=!1}var v=t.ShapeUtils.triangulateShape(d,m);for(s=0,c=m.length;s<c;s++)u=m[s],d=d.concat(u);var g,y=d.length,x,w=v.length;for(s=0;s<y;s++)g=d[s],this.vertices.push(new t.Vector3(g.x,g.y,0));for(s=0;s<w;s++){x=v[s];var M=x[0]+f,E=x[1]+f,T=x[2]+f;this.faces.push(new t.Face3(M,E,T,null,null,i)),this.faceVertexUvs[0].push(a.generateTopUV(this,M,E,T))}},t.LatheBufferGeometry=function(e,r,n,i){t.BufferGeometry.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:r,phiStart:n,phiLength:i},r=Math.floor(r)||12,n=n||0,i=i||Math.PI*2,i=t.Math.clamp(i,0,Math.PI*2);var a=(r+1)*e.length,s=r*e.length*2*3,c=new t.BufferAttribute(new(s>65535?Uint32Array:Uint16Array)(s),1),u=new t.BufferAttribute(new Float32Array(a*3),3),f=new t.BufferAttribute(new Float32Array(a*2),2),h=0,d=0,m;1/(e.length-1);var p=1/r,v=new t.Vector3,g=new t.Vector2,y,x;for(y=0;y<=r;y++){var w=n+y*p*i,M=Math.sin(w),E=Math.cos(w);for(x=0;x<=e.length-1;x++)v.x=e[x].x*M,v.y=e[x].y,v.z=e[x].x*E,u.setXYZ(h,v.x,v.y,v.z),g.x=y/r,g.y=x/(e.length-1),f.setXY(h,g.x,g.y),h++}for(y=0;y<r;y++)for(x=0;x<e.length-1;x++){m=x+y*e.length;var T=m,S=m+e.length,L=m+e.length+1,P=m+1;c.setX(d,T),d++,c.setX(d,S),d++,c.setX(d,P),d++,c.setX(d,S),d++,c.setX(d,L),d++,c.setX(d,P),d++}if(this.setIndex(c),this.addAttribute("position",u),this.addAttribute("uv",f),this.computeVertexNormals(),i===Math.PI*2){var R=this.attributes.normal.array,B=new t.Vector3,V=new t.Vector3,z=new t.Vector3;for(m=r*e.length*3,y=0,x=0;y<e.length;y++,x+=3)B.x=R[x+0],B.y=R[x+1],B.z=R[x+2],V.x=R[m+x+0],V.y=R[m+x+1],V.z=R[m+x+2],z.addVectors(B,V).normalize(),R[x+0]=R[m+x+0]=z.x,R[x+1]=R[m+x+1]=z.y,R[x+2]=R[m+x+2]=z.z}},t.LatheBufferGeometry.prototype=Object.create(t.BufferGeometry.prototype),t.LatheBufferGeometry.prototype.constructor=t.LatheBufferGeometry,t.LatheGeometry=function(e,r,n,i){t.Geometry.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:r,phiStart:n,phiLength:i},this.fromBufferGeometry(new t.LatheBufferGeometry(e,r,n,i)),this.mergeVertices()},t.LatheGeometry.prototype=Object.create(t.Geometry.prototype),t.LatheGeometry.prototype.constructor=t.LatheGeometry,t.PlaneGeometry=function(e,r,n,i){t.Geometry.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:r,widthSegments:n,heightSegments:i},this.fromBufferGeometry(new t.PlaneBufferGeometry(e,r,n,i))},t.PlaneGeometry.prototype=Object.create(t.Geometry.prototype),t.PlaneGeometry.prototype.constructor=t.PlaneGeometry,t.PlaneBufferGeometry=function(e,r,n,i){t.BufferGeometry.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:r,widthSegments:n,heightSegments:i};for(var a=e/2,s=r/2,c=Math.floor(n)||1,u=Math.floor(i)||1,f=c+1,h=u+1,d=e/c,m=r/u,p=new Float32Array(f*h*3),v=new Float32Array(f*h*3),g=new Float32Array(f*h*2),y=0,x=0,w=0;w<h;w++)for(var M=w*m-s,E=0;E<f;E++){var T=E*d-a;p[y]=T,p[y+1]=-M,v[y+2]=1,g[x]=E/c,g[x+1]=1-w/u,y+=3,x+=2}y=0;for(var S=new(p.length/3>65535?Uint32Array:Uint16Array)(c*u*6),w=0;w<u;w++)for(var E=0;E<c;E++){var L=E+f*w,P=E+f*(w+1),R=E+1+f*(w+1),B=E+1+f*w;S[y]=L,S[y+1]=P,S[y+2]=B,S[y+3]=P,S[y+4]=R,S[y+5]=B,y+=6}this.setIndex(new t.BufferAttribute(S,1)),this.addAttribute("position",new t.BufferAttribute(p,3)),this.addAttribute("normal",new t.BufferAttribute(v,3)),this.addAttribute("uv",new t.BufferAttribute(g,2))},t.PlaneBufferGeometry.prototype=Object.create(t.BufferGeometry.prototype),t.PlaneBufferGeometry.prototype.constructor=t.PlaneBufferGeometry,t.RingBufferGeometry=function(e,r,n,i,a,s){t.BufferGeometry.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:r,thetaSegments:n,phiSegments:i,thetaStart:a,thetaLength:s},e=e||20,r=r||50,a=a!==void 0?a:0,s=s!==void 0?s:Math.PI*2,n=n!==void 0?Math.max(3,n):8,i=i!==void 0?Math.max(1,i):1;var c=(n+1)*(i+1),u=n*i*2*3,f=new t.BufferAttribute(new(u>65535?Uint32Array:Uint16Array)(u),1),h=new t.BufferAttribute(new Float32Array(c*3),3),d=new t.BufferAttribute(new Float32Array(c*3),3),m=new t.BufferAttribute(new Float32Array(c*2),2),p=0,v=0,g,y=e,x=(r-e)/i,w=new t.Vector3,M=new t.Vector2,E,T;for(E=0;E<=i;E++){for(T=0;T<=n;T++)g=a+T/n*s,w.x=y*Math.cos(g),w.y=y*Math.sin(g),h.setXYZ(p,w.x,w.y,w.z),d.setXYZ(p,0,0,1),M.x=(w.x/r+1)/2,M.y=(w.y/r+1)/2,m.setXY(p,M.x,M.y),p++;y+=x}for(E=0;E<i;E++){var S=E*(n+1);for(T=0;T<n;T++){g=T+S;var L=g,P=g+n+1,R=g+n+2,B=g+1;f.setX(v,L),v++,f.setX(v,P),v++,f.setX(v,R),v++,f.setX(v,L),v++,f.setX(v,R),v++,f.setX(v,B),v++}}this.setIndex(f),this.addAttribute("position",h),this.addAttribute("normal",d),this.addAttribute("uv",m)},t.RingBufferGeometry.prototype=Object.create(t.BufferGeometry.prototype),t.RingBufferGeometry.prototype.constructor=t.RingBufferGeometry,t.RingGeometry=function(e,r,n,i,a,s){t.Geometry.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:r,thetaSegments:n,phiSegments:i,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new t.RingBufferGeometry(e,r,n,i,a,s))},t.RingGeometry.prototype=Object.create(t.Geometry.prototype),t.RingGeometry.prototype.constructor=t.RingGeometry,t.SphereGeometry=function(e,r,n,i,a,s,c){t.Geometry.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:r,heightSegments:n,phiStart:i,phiLength:a,thetaStart:s,thetaLength:c},this.fromBufferGeometry(new t.SphereBufferGeometry(e,r,n,i,a,s,c))},t.SphereGeometry.prototype=Object.create(t.Geometry.prototype),t.SphereGeometry.prototype.constructor=t.SphereGeometry,t.SphereBufferGeometry=function(e,r,n,i,a,s,c){t.BufferGeometry.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:r,heightSegments:n,phiStart:i,phiLength:a,thetaStart:s,thetaLength:c},e=e||50,r=Math.max(3,Math.floor(r)||8),n=Math.max(2,Math.floor(n)||6),i=i!==void 0?i:0,a=a!==void 0?a:Math.PI*2,s=s!==void 0?s:0,c=c!==void 0?c:Math.PI;for(var u=s+c,f=(r+1)*(n+1),h=new t.BufferAttribute(new Float32Array(f*3),3),d=new t.BufferAttribute(new Float32Array(f*3),3),m=new t.BufferAttribute(new Float32Array(f*2),2),p=0,v=[],g=new t.Vector3,y=0;y<=n;y++){for(var x=[],w=y/n,M=0;M<=r;M++){var E=M/r,T=-e*Math.cos(i+E*a)*Math.sin(s+w*c),S=e*Math.cos(s+w*c),L=e*Math.sin(i+E*a)*Math.sin(s+w*c);g.set(T,S,L).normalize(),h.setXYZ(p,T,S,L),d.setXYZ(p,g.x,g.y,g.z),m.setXY(p,E,1-w),x.push(p),p++}v.push(x)}for(var P=[],y=0;y<n;y++)for(var M=0;M<r;M++){var R=v[y][M+1],B=v[y][M],V=v[y+1][M],z=v[y+1][M+1];(y!==0||s>0)&&P.push(R,B,z),(y!==n-1||u<Math.PI)&&P.push(B,V,z)}this.setIndex(new(h.count>65535?t.Uint32Attribute:t.Uint16Attribute)(P,1)),this.addAttribute("position",h),this.addAttribute("normal",d),this.addAttribute("uv",m),this.boundingSphere=new t.Sphere(new t.Vector3,e)},t.SphereBufferGeometry.prototype=Object.create(t.BufferGeometry.prototype),t.SphereBufferGeometry.prototype.constructor=t.SphereBufferGeometry,t.TextGeometry=function(e,r){r=r||{};var n=r.font;if(!(n instanceof t.Font))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new t.Geometry;var i=n.generateShapes(e,r.size,r.curveSegments);r.amount=r.height!==void 0?r.height:50,r.bevelThickness===void 0&&(r.bevelThickness=10),r.bevelSize===void 0&&(r.bevelSize=8),r.bevelEnabled===void 0&&(r.bevelEnabled=!1),t.ExtrudeGeometry.call(this,i,r),this.type="TextGeometry"},t.TextGeometry.prototype=Object.create(t.ExtrudeGeometry.prototype),t.TextGeometry.prototype.constructor=t.TextGeometry,t.TorusBufferGeometry=function(e,r,n,i,a){t.BufferGeometry.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:r,radialSegments:n,tubularSegments:i,arc:a},e=e||100,r=r||40,n=Math.floor(n)||8,i=Math.floor(i)||6,a=a||Math.PI*2;var s=(n+1)*(i+1),c=n*i*2*3,u=new(c>65535?Uint32Array:Uint16Array)(c),f=new Float32Array(s*3),h=new Float32Array(s*3),d=new Float32Array(s*2),m=0,p=0,v=0,g=new t.Vector3,y=new t.Vector3,x=new t.Vector3,w,M;for(w=0;w<=n;w++)for(M=0;M<=i;M++){var E=M/i*a,T=w/n*Math.PI*2;y.x=(e+r*Math.cos(T))*Math.cos(E),y.y=(e+r*Math.cos(T))*Math.sin(E),y.z=r*Math.sin(T),f[m]=y.x,f[m+1]=y.y,f[m+2]=y.z,g.x=e*Math.cos(E),g.y=e*Math.sin(E),x.subVectors(y,g).normalize(),h[m]=x.x,h[m+1]=x.y,h[m+2]=x.z,d[p]=M/i,d[p+1]=w/n,m+=3,p+=2}for(w=1;w<=n;w++)for(M=1;M<=i;M++){var S=(i+1)*w+M-1,L=(i+1)*(w-1)+M-1,P=(i+1)*(w-1)+M,R=(i+1)*w+M;u[v]=S,u[v+1]=L,u[v+2]=R,u[v+3]=L,u[v+4]=P,u[v+5]=R,v+=6}this.setIndex(new t.BufferAttribute(u,1)),this.addAttribute("position",new t.BufferAttribute(f,3)),this.addAttribute("normal",new t.BufferAttribute(h,3)),this.addAttribute("uv",new t.BufferAttribute(d,2))},t.TorusBufferGeometry.prototype=Object.create(t.BufferGeometry.prototype),t.TorusBufferGeometry.prototype.constructor=t.TorusBufferGeometry,t.TorusGeometry=function(e,r,n,i,a){t.Geometry.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:r,radialSegments:n,tubularSegments:i,arc:a},this.fromBufferGeometry(new t.TorusBufferGeometry(e,r,n,i,a))},t.TorusGeometry.prototype=Object.create(t.Geometry.prototype),t.TorusGeometry.prototype.constructor=t.TorusGeometry,t.TorusKnotBufferGeometry=function(e,r,n,i,a,s){t.BufferGeometry.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:r,tubularSegments:n,radialSegments:i,p:a,q:s},e=e||100,r=r||40,n=Math.floor(n)||64,i=Math.floor(i)||8,a=a||2,s=s||3;var c=(i+1)*(n+1),u=i*n*2*3,f=new t.BufferAttribute(new(u>65535?Uint32Array:Uint16Array)(u),1),h=new t.BufferAttribute(new Float32Array(c*3),3),d=new t.BufferAttribute(new Float32Array(c*3),3),m=new t.BufferAttribute(new Float32Array(c*2),2),p,v,g=0,y=0,x=new t.Vector3,w=new t.Vector3,M=new t.Vector2,E=new t.Vector3,T=new t.Vector3,S=new t.Vector3,L=new t.Vector3,P=new t.Vector3;for(p=0;p<=n;++p){var R=p/n*a*Math.PI*2;for($(R,a,s,e,E),$(R+.01,a,s,e,T),L.subVectors(T,E),P.addVectors(T,E),S.crossVectors(L,P),P.crossVectors(S,L),S.normalize(),P.normalize(),v=0;v<=i;++v){var B=v/i*Math.PI*2,V=-r*Math.cos(B),z=r*Math.sin(B);x.x=E.x+(V*P.x+z*S.x),x.y=E.y+(V*P.y+z*S.y),x.z=E.z+(V*P.z+z*S.z),h.setXYZ(g,x.x,x.y,x.z),w.subVectors(x,E).normalize(),d.setXYZ(g,w.x,w.y,w.z),M.x=p/n,M.y=v/i,m.setXY(g,M.x,M.y),g++}}for(v=1;v<=n;v++)for(p=1;p<=i;p++){var X=(i+1)*(v-1)+(p-1),G=(i+1)*v+(p-1),k=(i+1)*v+p,j=(i+1)*(v-1)+p;f.setX(y,X),y++,f.setX(y,G),y++,f.setX(y,j),y++,f.setX(y,G),y++,f.setX(y,k),y++,f.setX(y,j),y++}this.setIndex(f),this.addAttribute("position",h),this.addAttribute("normal",d),this.addAttribute("uv",m);function $(Z,K,oe,ie,fe){var O=Math.cos(Z),I=Math.sin(Z),H=oe/K*Z,q=Math.cos(H);fe.x=ie*(2+q)*.5*O,fe.y=ie*(2+q)*I*.5,fe.z=ie*Math.sin(H)*.5}},t.TorusKnotBufferGeometry.prototype=Object.create(t.BufferGeometry.prototype),t.TorusKnotBufferGeometry.prototype.constructor=t.TorusKnotBufferGeometry,t.TorusKnotGeometry=function(e,r,n,i,a,s,c){t.Geometry.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:r,tubularSegments:n,radialSegments:i,p:a,q:s},c!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new t.TorusKnotBufferGeometry(e,r,n,i,a,s)),this.mergeVertices()},t.TorusKnotGeometry.prototype=Object.create(t.Geometry.prototype),t.TorusKnotGeometry.prototype.constructor=t.TorusKnotGeometry,t.TubeGeometry=function(e,r,n,i,a,s){t.Geometry.call(this),this.type="TubeGeometry",this.parameters={path:e,segments:r,radius:n,radialSegments:i,closed:a,taper:s},r=r||64,n=n||1,i=i||8,a=a||!1,s=s||t.TubeGeometry.NoTaper;var c=[],u=this,f,h,d=r+1,m,p,v,g,y,x,w=new t.Vector3,M,E,T,S,L,P,R,B,V,z,X,G,k=new t.TubeGeometry.FrenetFrames(e,r,a),j=k.tangents,$=k.normals,Z=k.binormals;this.tangents=j,this.normals=$,this.binormals=Z;function K(oe,ie,fe){return u.vertices.push(new t.Vector3(oe,ie,fe))-1}for(M=0;M<d;M++)for(c[M]=[],m=M/(d-1),x=e.getPointAt(m),j[M],f=$[M],h=Z[M],v=n*s(m),E=0;E<i;E++)p=E/i*2*Math.PI,g=-v*Math.cos(p),y=v*Math.sin(p),w.copy(x),w.x+=g*f.x+y*h.x,w.y+=g*f.y+y*h.y,w.z+=g*f.z+y*h.z,c[M][E]=K(w.x,w.y,w.z);for(M=0;M<r;M++)for(E=0;E<i;E++)T=a?(M+1)%r:M+1,S=(E+1)%i,L=c[M][E],P=c[T][E],R=c[T][S],B=c[M][S],V=new t.Vector2(M/r,E/i),z=new t.Vector2((M+1)/r,E/i),X=new t.Vector2((M+1)/r,(E+1)/i),G=new t.Vector2(M/r,(E+1)/i),this.faces.push(new t.Face3(L,P,B)),this.faceVertexUvs[0].push([V,z,G]),this.faces.push(new t.Face3(P,R,B)),this.faceVertexUvs[0].push([z.clone(),X,G.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},t.TubeGeometry.prototype=Object.create(t.Geometry.prototype),t.TubeGeometry.prototype.constructor=t.TubeGeometry,t.TubeGeometry.NoTaper=function(e){return 1},t.TubeGeometry.SinusoidalTaper=function(e){return Math.sin(Math.PI*e)},t.TubeGeometry.FrenetFrames=function(e,r,n){var i=new t.Vector3,a=[],s=[],c=[],u=new t.Vector3,f=new t.Matrix4,h=r+1,d,m,p,v,g,y,x;for(this.tangents=a,this.normals=s,this.binormals=c,y=0;y<h;y++)x=y/(h-1),a[y]=e.getTangentAt(x),a[y].normalize();w();function w(){s[0]=new t.Vector3,c[0]=new t.Vector3,m=Number.MAX_VALUE,p=Math.abs(a[0].x),v=Math.abs(a[0].y),g=Math.abs(a[0].z),p<=m&&(m=p,i.set(1,0,0)),v<=m&&(m=v,i.set(0,1,0)),g<=m&&i.set(0,0,1),u.crossVectors(a[0],i).normalize(),s[0].crossVectors(a[0],u),c[0].crossVectors(a[0],s[0])}for(y=1;y<h;y++)s[y]=s[y-1].clone(),c[y]=c[y-1].clone(),u.crossVectors(a[y-1],a[y]),u.length()>Number.EPSILON&&(u.normalize(),d=Math.acos(t.Math.clamp(a[y-1].dot(a[y]),-1,1)),s[y].applyMatrix4(f.makeRotationAxis(u,d))),c[y].crossVectors(a[y],s[y]);if(n)for(d=Math.acos(t.Math.clamp(s[0].dot(s[h-1]),-1,1)),d/=h-1,a[0].dot(u.crossVectors(s[0],s[h-1]))>0&&(d=-d),y=1;y<h;y++)s[y].applyMatrix4(f.makeRotationAxis(a[y],d*y)),c[y].crossVectors(a[y],s[y])},t.PolyhedronGeometry=function(e,r,n,i){t.Geometry.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:r,radius:n,detail:i},n=n||1,i=i||0;for(var a=this,s=0,c=e.length;s<c;s+=3)T(new t.Vector3(e[s],e[s+1],e[s+2]));for(var u=this.vertices,f=[],s=0,h=0,c=r.length;s<c;s+=3,h++){var d=u[r[s]],m=u[r[s+1]],p=u[r[s+2]];f[h]=new t.Face3(d.index,m.index,p.index,[d.clone(),m.clone(),p.clone()],void 0,h)}for(var v=new t.Vector3,s=0,c=f.length;s<c;s++)L(f[s],i);for(var s=0,c=this.faceVertexUvs[0].length;s<c;s++){var g=this.faceVertexUvs[0][s],y=g[0].x,x=g[1].x,w=g[2].x,M=Math.max(y,x,w),E=Math.min(y,x,w);M>.9&&E<.1&&(y<.2&&(g[0].x+=1),x<.2&&(g[1].x+=1),w<.2&&(g[2].x+=1))}for(var s=0,c=this.vertices.length;s<c;s++)this.vertices[s].multiplyScalar(n);this.mergeVertices(),this.computeFaceNormals(),this.boundingSphere=new t.Sphere(new t.Vector3,n);function T(V){var z=V.normalize().clone();z.index=a.vertices.push(z)-1;var X=P(V)/2/Math.PI+.5,G=R(V)/Math.PI+.5;return z.uv=new t.Vector2(X,1-G),z}function S(V,z,X,G){var k=new t.Face3(V.index,z.index,X.index,[V.clone(),z.clone(),X.clone()],void 0,G);a.faces.push(k),v.copy(V).add(z).add(X).divideScalar(3);var j=P(v);a.faceVertexUvs[0].push([B(V.uv,V,j),B(z.uv,z,j),B(X.uv,X,j)])}function L(V,z){for(var X=Math.pow(2,z),G=T(a.vertices[V.a]),k=T(a.vertices[V.b]),j=T(a.vertices[V.c]),$=[],Z=V.materialIndex,K=0;K<=X;K++){$[K]=[];for(var oe=T(G.clone().lerp(j,K/X)),ie=T(k.clone().lerp(j,K/X)),fe=X-K,O=0;O<=fe;O++)O===0&&K===X?$[K][O]=oe:$[K][O]=T(oe.clone().lerp(ie,O/fe))}for(var K=0;K<X;K++)for(var O=0;O<2*(X-K)-1;O++){var I=Math.floor(O/2);O%2===0?S($[K][I+1],$[K+1][I],$[K][I],Z):S($[K][I+1],$[K+1][I+1],$[K+1][I],Z)}}function P(V){return Math.atan2(V.z,-V.x)}function R(V){return Math.atan2(-V.y,Math.sqrt(V.x*V.x+V.z*V.z))}function B(V,z,X){return X<0&&V.x===1&&(V=new t.Vector2(V.x-1,V.y)),z.x===0&&z.z===0&&(V=new t.Vector2(X/2/Math.PI+.5,V.y)),V.clone()}},t.PolyhedronGeometry.prototype=Object.create(t.Geometry.prototype),t.PolyhedronGeometry.prototype.constructor=t.PolyhedronGeometry,t.DodecahedronGeometry=function(e,r){var n=(1+Math.sqrt(5))/2,i=1/n,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];t.PolyhedronGeometry.call(this,a,s,e,r),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:r}},t.DodecahedronGeometry.prototype=Object.create(t.PolyhedronGeometry.prototype),t.DodecahedronGeometry.prototype.constructor=t.DodecahedronGeometry,t.IcosahedronGeometry=function(e,r){var n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];t.PolyhedronGeometry.call(this,i,a,e,r),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:r}},t.IcosahedronGeometry.prototype=Object.create(t.PolyhedronGeometry.prototype),t.IcosahedronGeometry.prototype.constructor=t.IcosahedronGeometry,t.OctahedronGeometry=function(e,r){var n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];t.PolyhedronGeometry.call(this,n,i,e,r),this.type="OctahedronGeometry",this.parameters={radius:e,detail:r}},t.OctahedronGeometry.prototype=Object.create(t.PolyhedronGeometry.prototype),t.OctahedronGeometry.prototype.constructor=t.OctahedronGeometry,t.TetrahedronGeometry=function(e,r){var n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];t.PolyhedronGeometry.call(this,n,i,e,r),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:r}},t.TetrahedronGeometry.prototype=Object.create(t.PolyhedronGeometry.prototype),t.TetrahedronGeometry.prototype.constructor=t.TetrahedronGeometry,t.ParametricGeometry=function(e,r,n){t.Geometry.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:r,stacks:n};var i=this.vertices,a=this.faces,s=this.faceVertexUvs[0],c,u,f,h,d,m=r+1;for(c=0;c<=n;c++)for(d=c/n,u=0;u<=r;u++)h=u/r,f=e(h,d),i.push(f);var p,v,g,y,x,w,M,E;for(c=0;c<n;c++)for(u=0;u<r;u++)p=c*m+u,v=c*m+u+1,g=(c+1)*m+u+1,y=(c+1)*m+u,x=new t.Vector2(u/r,c/n),w=new t.Vector2((u+1)/r,c/n),M=new t.Vector2((u+1)/r,(c+1)/n),E=new t.Vector2(u/r,(c+1)/n),a.push(new t.Face3(p,v,y)),s.push([x,w,E]),a.push(new t.Face3(v,g,y)),s.push([w.clone(),M,E.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},t.ParametricGeometry.prototype=Object.create(t.Geometry.prototype),t.ParametricGeometry.prototype.constructor=t.ParametricGeometry,t.WireframeGeometry=function(e){t.BufferGeometry.call(this);var r=[0,0],n={};function i(X,G){return X-G}var a=["a","b","c"];if(e instanceof t.Geometry){for(var s=e.vertices,c=e.faces,u=0,f=new Uint32Array(6*c.length),h=0,d=c.length;h<d;h++)for(var m=c[h],p=0;p<3;p++){r[0]=m[a[p]],r[1]=m[a[(p+1)%3]],r.sort(i);var v=r.toString();n[v]===void 0&&(f[2*u]=r[0],f[2*u+1]=r[1],n[v]=!0,u++)}for(var g=new Float32Array(u*2*3),h=0,d=u;h<d;h++)for(var p=0;p<2;p++){var y=s[f[2*h+p]],x=6*h+3*p;g[x+0]=y.x,g[x+1]=y.y,g[x+2]=y.z}this.addAttribute("position",new t.BufferAttribute(g,3))}else if(e instanceof t.BufferGeometry)if(e.index!==null){var w=e.index.array,s=e.attributes.position,M=e.groups,u=0;M.length===0&&e.addGroup(0,w.length);for(var f=new Uint32Array(2*w.length),E=0,T=M.length;E<T;++E)for(var S=M[E],L=S.start,P=S.count,h=L,R=L+P;h<R;h+=3)for(var p=0;p<3;p++){r[0]=w[h+p],r[1]=w[h+(p+1)%3],r.sort(i);var v=r.toString();n[v]===void 0&&(f[2*u]=r[0],f[2*u+1]=r[1],n[v]=!0,u++)}for(var g=new Float32Array(u*2*3),h=0,d=u;h<d;h++)for(var p=0;p<2;p++){var x=6*h+3*p,B=f[2*h+p];g[x+0]=s.getX(B),g[x+1]=s.getY(B),g[x+2]=s.getZ(B)}this.addAttribute("position",new t.BufferAttribute(g,3))}else{for(var s=e.attributes.position.array,u=s.length/3,V=u/3,g=new Float32Array(u*2*3),h=0,d=V;h<d;h++)for(var p=0;p<3;p++){var x=18*h+6*p,z=9*h+3*p;g[x+0]=s[z],g[x+1]=s[z+1],g[x+2]=s[z+2];var B=9*h+3*((p+1)%3);g[x+3]=s[B],g[x+4]=s[B+1],g[x+5]=s[B+2]}this.addAttribute("position",new t.BufferAttribute(g,3))}},t.WireframeGeometry.prototype=Object.create(t.BufferGeometry.prototype),t.WireframeGeometry.prototype.constructor=t.WireframeGeometry,t.AxisHelper=function(e){e=e||1;var r=new Float32Array([0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e]),n=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]),i=new t.BufferGeometry;i.addAttribute("position",new t.BufferAttribute(r,3)),i.addAttribute("color",new t.BufferAttribute(n,3));var a=new t.LineBasicMaterial({vertexColors:t.VertexColors});t.LineSegments.call(this,i,a)},t.AxisHelper.prototype=Object.create(t.LineSegments.prototype),t.AxisHelper.prototype.constructor=t.AxisHelper,t.ArrowHelper=function(){var e=new t.Geometry;e.vertices.push(new t.Vector3(0,0,0),new t.Vector3(0,1,0));var r=new t.CylinderGeometry(0,.5,1,5,1);return r.translate(0,-.5,0),function(i,a,s,c,u,f){t.Object3D.call(this),c===void 0&&(c=16776960),s===void 0&&(s=1),u===void 0&&(u=.2*s),f===void 0&&(f=.2*u),this.position.copy(a),this.line=new t.Line(e,new t.LineBasicMaterial({color:c})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new t.Mesh(r,new t.MeshBasicMaterial({color:c})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(i),this.setLength(s,u,f)}}(),t.ArrowHelper.prototype=Object.create(t.Object3D.prototype),t.ArrowHelper.prototype.constructor=t.ArrowHelper,t.ArrowHelper.prototype.setDirection=function(){var e=new t.Vector3,r;return function(i){i.y>.99999?this.quaternion.set(0,0,0,1):i.y<-.99999?this.quaternion.set(1,0,0,0):(e.set(i.z,0,-i.x).normalize(),r=Math.acos(i.y),this.quaternion.setFromAxisAngle(e,r))}}(),t.ArrowHelper.prototype.setLength=function(e,r,n){r===void 0&&(r=.2*e),n===void 0&&(n=.2*r),this.line.scale.set(1,Math.max(0,e-r),1),this.line.updateMatrix(),this.cone.scale.set(n,r,n),this.cone.position.y=e,this.cone.updateMatrix()},t.ArrowHelper.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)},t.BoxHelper=function(e){var r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array(8*3),i=new t.BufferGeometry;i.setIndex(new t.BufferAttribute(r,1)),i.addAttribute("position",new t.BufferAttribute(n,3)),t.LineSegments.call(this,i,new t.LineBasicMaterial({color:16776960})),e!==void 0&&this.update(e)},t.BoxHelper.prototype=Object.create(t.LineSegments.prototype),t.BoxHelper.prototype.constructor=t.BoxHelper,t.BoxHelper.prototype.update=function(){var e=new t.Box3;return function(r){if(e.setFromObject(r),!e.isEmpty()){var n=e.min,i=e.max,a=this.geometry.attributes.position,s=a.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=n.x,s[4]=i.y,s[5]=i.z,s[6]=n.x,s[7]=n.y,s[8]=i.z,s[9]=i.x,s[10]=n.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=n.z,s[15]=n.x,s[16]=i.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=i.x,s[22]=n.y,s[23]=n.z,a.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),t.BoundingBoxHelper=function(e,r){var n=r!==void 0?r:8947848;this.object=e,this.box=new t.Box3,t.Mesh.call(this,new t.BoxGeometry(1,1,1),new t.MeshBasicMaterial({color:n,wireframe:!0}))},t.BoundingBoxHelper.prototype=Object.create(t.Mesh.prototype),t.BoundingBoxHelper.prototype.constructor=t.BoundingBoxHelper,t.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object),this.box.size(this.scale),this.box.center(this.position)},t.CameraHelper=function(e){var r=new t.Geometry,n=new t.LineBasicMaterial({color:16777215,vertexColors:t.FaceColors}),i={},a=16755200,s=16711680,c=43775,u=16777215,f=3355443;h("n1","n2",a),h("n2","n4",a),h("n4","n3",a),h("n3","n1",a),h("f1","f2",a),h("f2","f4",a),h("f4","f3",a),h("f3","f1",a),h("n1","f1",a),h("n2","f2",a),h("n3","f3",a),h("n4","f4",a),h("p","n1",s),h("p","n2",s),h("p","n3",s),h("p","n4",s),h("u1","u2",c),h("u2","u3",c),h("u3","u1",c),h("c","t",u),h("p","c",f),h("cn1","cn2",f),h("cn3","cn4",f),h("cf1","cf2",f),h("cf3","cf4",f);function h(m,p,v){d(m,v),d(p,v)}function d(m,p){r.vertices.push(new t.Vector3),r.colors.push(new t.Color(p)),i[m]===void 0&&(i[m]=[]),i[m].push(r.vertices.length-1)}t.LineSegments.call(this,r,n),this.camera=e,this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=i,this.update()},t.CameraHelper.prototype=Object.create(t.LineSegments.prototype),t.CameraHelper.prototype.constructor=t.CameraHelper,t.CameraHelper.prototype.update=function(){var e,r,n=new t.Vector3,i=new t.Camera;function a(s,c,u,f){n.set(c,u,f).unproject(i);var h=r[s];if(h!==void 0)for(var d=0,m=h.length;d<m;d++)e.vertices[h[d]].copy(n)}return function(){e=this.geometry,r=this.pointMap;var s=1,c=1;i.projectionMatrix.copy(this.camera.projectionMatrix),a("c",0,0,-1),a("t",0,0,1),a("n1",-s,-c,-1),a("n2",s,-c,-1),a("n3",-s,c,-1),a("n4",s,c,-1),a("f1",-s,-c,1),a("f2",s,-c,1),a("f3",-s,c,1),a("f4",s,c,1),a("u1",s*.7,c*1.1,-1),a("u2",-s*.7,c*1.1,-1),a("u3",0,c*2,-1),a("cf1",-s,0,1),a("cf2",s,0,1),a("cf3",0,-c,1),a("cf4",0,c,1),a("cn1",-s,0,-1),a("cn2",s,0,-1),a("cn3",0,-c,-1),a("cn4",0,c,-1),e.verticesNeedUpdate=!0}}(),t.DirectionalLightHelper=function(e,r){t.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,r=r||1;var n=new t.Geometry;n.vertices.push(new t.Vector3(-r,r,0),new t.Vector3(r,r,0),new t.Vector3(r,-r,0),new t.Vector3(-r,-r,0),new t.Vector3(-r,r,0));var i=new t.LineBasicMaterial({fog:!1});i.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.lightPlane=new t.Line(n,i),this.add(this.lightPlane),n=new t.Geometry,n.vertices.push(new t.Vector3,new t.Vector3),i=new t.LineBasicMaterial({fog:!1}),i.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine=new t.Line(n,i),this.add(this.targetLine),this.update()},t.DirectionalLightHelper.prototype=Object.create(t.Object3D.prototype),t.DirectionalLightHelper.prototype.constructor=t.DirectionalLightHelper,t.DirectionalLightHelper.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},t.DirectionalLightHelper.prototype.update=function(){var e=new t.Vector3,r=new t.Vector3,n=new t.Vector3;return function(){e.setFromMatrixPosition(this.light.matrixWorld),r.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(r,e),this.lightPlane.lookAt(n),this.lightPlane.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine.geometry.vertices[1].copy(n),this.targetLine.geometry.verticesNeedUpdate=!0,this.targetLine.material.color.copy(this.lightPlane.material.color)}}(),t.EdgesHelper=function(e,r,n){var i=r!==void 0?r:16777215;t.LineSegments.call(this,new t.EdgesGeometry(e.geometry,n),new t.LineBasicMaterial({color:i})),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1},t.EdgesHelper.prototype=Object.create(t.LineSegments.prototype),t.EdgesHelper.prototype.constructor=t.EdgesHelper,t.FaceNormalsHelper=function(e,r,n,i){this.object=e,this.size=r!==void 0?r:1;var a=n!==void 0?n:16776960,s=i!==void 0?i:1,c=0,u=this.object.geometry;u instanceof t.Geometry?c=u.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var f=new t.BufferGeometry,h=new t.Float32Attribute(c*2*3,3);f.addAttribute("position",h),t.LineSegments.call(this,f,new t.LineBasicMaterial({color:a,linewidth:s})),this.matrixAutoUpdate=!1,this.update()},t.FaceNormalsHelper.prototype=Object.create(t.LineSegments.prototype),t.FaceNormalsHelper.prototype.constructor=t.FaceNormalsHelper,t.FaceNormalsHelper.prototype.update=function(){var e=new t.Vector3,r=new t.Vector3,n=new t.Matrix3;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var a=this.object.matrixWorld,s=this.geometry.attributes.position,c=this.object.geometry,u=c.vertices,f=c.faces,h=0,d=0,m=f.length;d<m;d++){var p=f[d],v=p.normal;e.copy(u[p.a]).add(u[p.b]).add(u[p.c]).divideScalar(3).applyMatrix4(a),r.copy(v).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),s.setXYZ(h,e.x,e.y,e.z),h=h+1,s.setXYZ(h,r.x,r.y,r.z),h=h+1}return s.needsUpdate=!0,this}}(),t.GridHelper=function(e,r){var n=new t.Geometry,i=new t.LineBasicMaterial({vertexColors:t.VertexColors});this.color1=new t.Color(4473924),this.color2=new t.Color(8947848);for(var a=-e;a<=e;a+=r){n.vertices.push(new t.Vector3(-e,0,a),new t.Vector3(e,0,a),new t.Vector3(a,0,-e),new t.Vector3(a,0,e));var s=a===0?this.color1:this.color2;n.colors.push(s,s,s,s)}t.LineSegments.call(this,n,i)},t.GridHelper.prototype=Object.create(t.LineSegments.prototype),t.GridHelper.prototype.constructor=t.GridHelper,t.GridHelper.prototype.setColors=function(e,r){this.color1.set(e),this.color2.set(r),this.geometry.colorsNeedUpdate=!0},t.HemisphereLightHelper=function(e,r){t.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.colors=[new t.Color,new t.Color];var n=new t.SphereGeometry(r,4,2);n.rotateX(-Math.PI/2);for(var i=0,a=8;i<a;i++)n.faces[i].color=this.colors[i<4?0:1];var s=new t.MeshBasicMaterial({vertexColors:t.FaceColors,wireframe:!0});this.lightSphere=new t.Mesh(n,s),this.add(this.lightSphere),this.update()},t.HemisphereLightHelper.prototype=Object.create(t.Object3D.prototype),t.HemisphereLightHelper.prototype.constructor=t.HemisphereLightHelper,t.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose(),this.lightSphere.material.dispose()},t.HemisphereLightHelper.prototype.update=function(){var e=new t.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity),this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity),this.lightSphere.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate()),this.lightSphere.geometry.colorsNeedUpdate=!0}}(),t.PointLightHelper=function(e,r){this.light=e,this.light.updateMatrixWorld();var n=new t.SphereGeometry(r,4,2),i=new t.MeshBasicMaterial({wireframe:!0,fog:!1});i.color.copy(this.light.color).multiplyScalar(this.light.intensity),t.Mesh.call(this,n,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1},t.PointLightHelper.prototype=Object.create(t.Mesh.prototype),t.PointLightHelper.prototype.constructor=t.PointLightHelper,t.PointLightHelper.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},t.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},t.SkeletonHelper=function(e){this.bones=this.getBoneList(e);for(var r=new t.Geometry,n=0;n<this.bones.length;n++){var i=this.bones[n];i.parent instanceof t.Bone&&(r.vertices.push(new t.Vector3),r.vertices.push(new t.Vector3),r.colors.push(new t.Color(0,0,1)),r.colors.push(new t.Color(0,1,0)))}r.dynamic=!0;var a=new t.LineBasicMaterial({vertexColors:t.VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});t.LineSegments.call(this,r,a),this.root=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.update()},t.SkeletonHelper.prototype=Object.create(t.LineSegments.prototype),t.SkeletonHelper.prototype.constructor=t.SkeletonHelper,t.SkeletonHelper.prototype.getBoneList=function(e){var r=[];e instanceof t.Bone&&r.push(e);for(var n=0;n<e.children.length;n++)r.push.apply(r,this.getBoneList(e.children[n]));return r},t.SkeletonHelper.prototype.update=function(){for(var e=this.geometry,r=new t.Matrix4().getInverse(this.root.matrixWorld),n=new t.Matrix4,i=0,a=0;a<this.bones.length;a++){var s=this.bones[a];s.parent instanceof t.Bone&&(n.multiplyMatrices(r,s.matrixWorld),e.vertices[i].setFromMatrixPosition(n),n.multiplyMatrices(r,s.parent.matrixWorld),e.vertices[i+1].setFromMatrixPosition(n),i+=2)}e.verticesNeedUpdate=!0,e.computeBoundingSphere()},t.SpotLightHelper=function(e){t.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;var r=new t.CylinderGeometry(0,1,1,8,1,!0);r.translate(0,-.5,0),r.rotateX(-Math.PI/2);var n=new t.MeshBasicMaterial({wireframe:!0,fog:!1});this.cone=new t.Mesh(r,n),this.add(this.cone),this.update()},t.SpotLightHelper.prototype=Object.create(t.Object3D.prototype),t.SpotLightHelper.prototype.constructor=t.SpotLightHelper,t.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},t.SpotLightHelper.prototype.update=function(){var e=new t.Vector3,r=new t.Vector3;return function(){var n=this.light.distance?this.light.distance:1e4,i=n*Math.tan(this.light.angle);this.cone.scale.set(i,i,n),e.setFromMatrixPosition(this.light.matrixWorld),r.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(r.sub(e)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),t.VertexNormalsHelper=function(e,r,n,i){this.object=e,this.size=r!==void 0?r:1;var a=n!==void 0?n:16711680,s=i!==void 0?i:1,c=0,u=this.object.geometry;u instanceof t.Geometry?c=u.faces.length*3:u instanceof t.BufferGeometry&&(c=u.attributes.normal.count);var f=new t.BufferGeometry,h=new t.Float32Attribute(c*2*3,3);f.addAttribute("position",h),t.LineSegments.call(this,f,new t.LineBasicMaterial({color:a,linewidth:s})),this.matrixAutoUpdate=!1,this.update()},t.VertexNormalsHelper.prototype=Object.create(t.LineSegments.prototype),t.VertexNormalsHelper.prototype.constructor=t.VertexNormalsHelper,t.VertexNormalsHelper.prototype.update=function(){var e=new t.Vector3,r=new t.Vector3,n=new t.Matrix3;return function(){var a=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var s=this.object.matrixWorld,c=this.geometry.attributes.position,u=this.object.geometry;if(u instanceof t.Geometry)for(var f=u.vertices,h=u.faces,d=0,m=0,p=h.length;m<p;m++)for(var v=h[m],g=0,y=v.vertexNormals.length;g<y;g++){var x=f[v[a[g]]],w=v.vertexNormals[g];e.copy(x).applyMatrix4(s),r.copy(w).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),c.setXYZ(d,e.x,e.y,e.z),d=d+1,c.setXYZ(d,r.x,r.y,r.z),d=d+1}else if(u instanceof t.BufferGeometry)for(var M=u.attributes.position,E=u.attributes.normal,d=0,g=0,y=M.count;g<y;g++)e.set(M.getX(g),M.getY(g),M.getZ(g)).applyMatrix4(s),r.set(E.getX(g),E.getY(g),E.getZ(g)),r.applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),c.setXYZ(d,e.x,e.y,e.z),d=d+1,c.setXYZ(d,r.x,r.y,r.z),d=d+1;return c.needsUpdate=!0,this}}(),t.WireframeHelper=function(e,r){var n=r!==void 0?r:16777215;t.LineSegments.call(this,new t.WireframeGeometry(e.geometry),new t.LineBasicMaterial({color:n})),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1},t.WireframeHelper.prototype=Object.create(t.LineSegments.prototype),t.WireframeHelper.prototype.constructor=t.WireframeHelper,t.ImmediateRenderObject=function(e){t.Object3D.call(this),this.material=e,this.render=function(r){}},t.ImmediateRenderObject.prototype=Object.create(t.Object3D.prototype),t.ImmediateRenderObject.prototype.constructor=t.ImmediateRenderObject,t.MorphBlendMesh=function(e,r){t.Mesh.call(this,e,r),this.animationsMap={},this.animationsList=[];var n=this.geometry.morphTargets.length,i="__default",a=0,s=n-1,c=n/1;this.createAnimation(i,a,s,c),this.setAnimationWeight(i,1)},t.MorphBlendMesh.prototype=Object.create(t.Mesh.prototype),t.MorphBlendMesh.prototype.constructor=t.MorphBlendMesh,t.MorphBlendMesh.prototype.createAnimation=function(e,r,n,i){var a={start:r,end:n,length:n-r+1,fps:i,duration:(n-r)/i,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[e]=a,this.animationsList.push(a)},t.MorphBlendMesh.prototype.autoCreateAnimations=function(e){for(var r=/([a-z]+)_?(\d+)/i,n,i={},a=this.geometry,s=0,c=a.morphTargets.length;s<c;s++){var u=a.morphTargets[s],f=u.name.match(r);if(f&&f.length>1){var h=f[1];i[h]||(i[h]={start:1/0,end:-1/0});var d=i[h];s<d.start&&(d.start=s),s>d.end&&(d.end=s),n||(n=h)}}for(var h in i){var d=i[h];this.createAnimation(h,d.start,d.end,e)}this.firstAnimation=n},t.MorphBlendMesh.prototype.setAnimationDirectionForward=function(e){var r=this.animationsMap[e];r&&(r.direction=1,r.directionBackwards=!1)},t.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(e){var r=this.animationsMap[e];r&&(r.direction=-1,r.directionBackwards=!0)},t.MorphBlendMesh.prototype.setAnimationFPS=function(e,r){var n=this.animationsMap[e];n&&(n.fps=r,n.duration=(n.end-n.start)/n.fps)},t.MorphBlendMesh.prototype.setAnimationDuration=function(e,r){var n=this.animationsMap[e];n&&(n.duration=r,n.fps=(n.end-n.start)/n.duration)},t.MorphBlendMesh.prototype.setAnimationWeight=function(e,r){var n=this.animationsMap[e];n&&(n.weight=r)},t.MorphBlendMesh.prototype.setAnimationTime=function(e,r){var n=this.animationsMap[e];n&&(n.time=r)},t.MorphBlendMesh.prototype.getAnimationTime=function(e){var r=0,n=this.animationsMap[e];return n&&(r=n.time),r},t.MorphBlendMesh.prototype.getAnimationDuration=function(e){var r=-1,n=this.animationsMap[e];return n&&(r=n.duration),r},t.MorphBlendMesh.prototype.playAnimation=function(e){var r=this.animationsMap[e];r?(r.time=0,r.active=!0):console.warn("THREE.MorphBlendMesh: animation["+e+"] undefined in .playAnimation()")},t.MorphBlendMesh.prototype.stopAnimation=function(e){var r=this.animationsMap[e];r&&(r.active=!1)},t.MorphBlendMesh.prototype.update=function(e){for(var r=0,n=this.animationsList.length;r<n;r++){var i=this.animationsList[r];if(!!i.active){var a=i.duration/i.length;i.time+=i.direction*e,i.mirroredLoop?(i.time>i.duration||i.time<0)&&(i.direction*=-1,i.time>i.duration&&(i.time=i.duration,i.directionBackwards=!0),i.time<0&&(i.time=0,i.directionBackwards=!1)):(i.time=i.time%i.duration,i.time<0&&(i.time+=i.duration));var s=i.start+t.Math.clamp(Math.floor(i.time/a),0,i.length-1),c=i.weight;s!==i.currentFrame&&(this.morphTargetInfluences[i.lastFrame]=0,this.morphTargetInfluences[i.currentFrame]=1*c,this.morphTargetInfluences[s]=0,i.lastFrame=i.currentFrame,i.currentFrame=s);var u=i.time%a/a;i.directionBackwards&&(u=1-u),i.currentFrame!==i.lastFrame?(this.morphTargetInfluences[i.currentFrame]=u*c,this.morphTargetInfluences[i.lastFrame]=(1-u)*c):this.morphTargetInfluences[i.currentFrame]=c}}},l.exports&&(o=l.exports=t),o.THREE=t})(Et,Et.exports);function Zt(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function fc(l,o){l.prototype=Object.create(o.prototype),l.prototype.constructor=l,l.__proto__=o}/*!
 * GSAP 3.10.4
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var _t={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},un={duration:.5,overwrite:!1,delay:0},pa,At=1e8,Ve=1/At,Do=Math.PI*2,rm=Do/4,nm=0,hc=Math.sqrt,im=Math.cos,om=Math.sin,je=function(o){return typeof o=="string"},qe=function(o){return typeof o=="function"},er=function(o){return typeof o=="number"},ma=function(o){return typeof o=="undefined"},tr=function(o){return typeof o=="object"},dt=function(o){return o!==!1},dc=function(){return typeof window!="undefined"},ii=function(o){return qe(o)||je(o)},pc=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},nt=Array.isArray,Io=/(?:-?\.?\d|\.)+/gi,mc=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Qr=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,io=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,vc=/[+-]=-?[.\d]+/,gc=/[^,'"\[\]\s]+/gi,am=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ge,Wt,Uo,va,bt={},yi={},yc,_c=function(o){return(yi=Hr(o,bt))&&Gt},ga=function(o,t){return console.warn("Invalid property",o,"set to",t,"Missing plugin? gsap.registerPlugin()")},_i=function(o,t){return!t&&console.warn(o)},xc=function(o,t){return o&&(bt[o]=t)&&yi&&(yi[o]=t)||bt},kn=function(){return 0},ya={},vr=[],Oo={},bc,vt={},oo={},Us=30,fi=[],_a="",xa=function(o){var t=o[0],e,r;if(tr(t)||qe(t)||(o=[o]),!(e=(t._gsap||{}).harness)){for(r=fi.length;r--&&!fi[r].targetTest(t););e=fi[r]}for(r=o.length;r--;)o[r]&&(o[r]._gsap||(o[r]._gsap=new Hc(o[r],e)))||o.splice(r,1);return o},kr=function(o){return o._gsap||xa(Ct(o))[0]._gsap},Mc=function(o,t,e){return(e=o[t])&&qe(e)?o[t]():ma(e)&&o.getAttribute&&o.getAttribute(t)||e},pt=function(o,t){return(o=o.split(",")).forEach(t)||o},We=function(o){return Math.round(o*1e5)/1e5||0},et=function(o){return Math.round(o*1e7)/1e7||0},nn=function(o,t){var e=t.charAt(0),r=parseFloat(t.substr(2));return o=parseFloat(o),e==="+"?o+r:e==="-"?o-r:e==="*"?o*r:o/r},sm=function(o,t){for(var e=t.length,r=0;o.indexOf(t[r])<0&&++r<e;);return r<e},xi=function(){var o=vr.length,t=vr.slice(0),e,r;for(Oo={},vr.length=0,e=0;e<o;e++)r=t[e],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},wc=function(o,t,e,r){vr.length&&xi(),o.render(t,e,r),vr.length&&xi()},Ec=function(o){var t=parseFloat(o);return(t||t===0)&&(o+"").match(gc).length<2?t:je(o)?o.trim():o},Tc=function(o){return o},Rt=function(o,t){for(var e in t)e in o||(o[e]=t[e]);return o},lm=function(o){return function(t,e){for(var r in e)r in t||r==="duration"&&o||r==="ease"||(t[r]=e[r])}},Hr=function(o,t){for(var e in t)o[e]=t[e];return o},Os=function l(o,t){for(var e in t)e!=="__proto__"&&e!=="constructor"&&e!=="prototype"&&(o[e]=tr(t[e])?l(o[e]||(o[e]={}),t[e]):t[e]);return o},bi=function(o,t){var e={},r;for(r in o)r in t||(e[r]=o[r]);return e},Pn=function(o){var t=o.parent||Ge,e=o.keyframes?lm(nt(o.keyframes)):Rt;if(dt(o.inherit))for(;t;)e(o,t.vars.defaults),t=t.parent||t._dp;return o},cm=function(o,t){for(var e=o.length,r=e===t.length;r&&e--&&o[e]===t[e];);return e<0},Sc=function(o,t,e,r,n){e===void 0&&(e="_first"),r===void 0&&(r="_last");var i=o[r],a;if(n)for(a=t[n];i&&i[n]>a;)i=i._prev;return i?(t._next=i._next,i._next=t):(t._next=o[e],o[e]=t),t._next?t._next._prev=t:o[r]=t,t._prev=i,t.parent=t._dp=o,t},Vi=function(o,t,e,r){e===void 0&&(e="_first"),r===void 0&&(r="_last");var n=t._prev,i=t._next;n?n._next=i:o[e]===t&&(o[e]=i),i?i._prev=n:o[r]===t&&(o[r]=n),t._next=t._prev=t.parent=null},Kt=function(o,t){o.parent&&(!t||o.parent.autoRemoveChildren)&&o.parent.remove(o),o._act=0},Gr=function(o,t){if(o&&(!t||t._end>o._dur||t._start<0))for(var e=o;e;)e._dirty=1,e=e.parent;return o},um=function(o){for(var t=o.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return o},fm=function l(o){return!o||o._ts&&l(o.parent)},Ns=function(o){return o._repeat?fn(o._tTime,o=o.duration()+o._rDelay)*o:0},fn=function(o,t){var e=Math.floor(o/=t);return o&&e===o?e-1:e},Mi=function(o,t){return(o-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},ki=function(o){return o._end=et(o._start+(o._tDur/Math.abs(o._ts||o._rts||Ve)||0))},ba=function(o,t){var e=o._dp;return e&&e.smoothChildTiming&&o._ts&&(o._start=et(e._time-(o._ts>0?t/o._ts:((o._dirty?o.totalDuration():o._tDur)-t)/-o._ts)),ki(o),e._dirty||Gr(e,o)),o},Ac=function(o,t){var e;if((t._time||t._initted&&!t._dur)&&(e=Mi(o.rawTime(),t),(!t._dur||jn(0,t.totalDuration(),e)-t._tTime>Ve)&&t.render(e,!0)),Gr(o,t)._dp&&o._initted&&o._time>=o._dur&&o._ts){if(o._dur<o.duration())for(e=o;e._dp;)e.rawTime()>=0&&e.totalTime(e._tTime),e=e._dp;o._zTime=-Ve}},Yt=function(o,t,e,r){return t.parent&&Kt(t),t._start=et((er(e)?e:e||o!==Ge?Tt(o,e,t):o._time)+t._delay),t._end=et(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Sc(o,t,"_first","_last",o._sort?"_start":0),No(t)||(o._recent=t),r||Ac(o,t),o},Cc=function(o,t){return(bt.ScrollTrigger||ga("scrollTrigger",t))&&bt.ScrollTrigger.create(t,o)},Lc=function(o,t,e,r){if(wa(o,t),!o._initted)return 1;if(!e&&o._pt&&(o._dur&&o.vars.lazy!==!1||!o._dur&&o.vars.lazy)&&bc!==yt.frame)return vr.push(o),o._lazy=[t,r],1},hm=function l(o){var t=o.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||l(t))},No=function(o){var t=o.data;return t==="isFromStart"||t==="isStart"},dm=function(o,t,e,r){var n=o.ratio,i=t<0||!t&&(!o._start&&hm(o)&&!(!o._initted&&No(o))||(o._ts<0||o._dp._ts<0)&&!No(o))?0:1,a=o._rDelay,s=0,c,u,f;if(a&&o._repeat&&(s=jn(0,o._tDur,t),u=fn(s,a),o._yoyo&&u&1&&(i=1-i),u!==fn(o._tTime,a)&&(n=1-i,o.vars.repeatRefresh&&o._initted&&o.invalidate())),i!==n||r||o._zTime===Ve||!t&&o._zTime){if(!o._initted&&Lc(o,t,r,e))return;for(f=o._zTime,o._zTime=t||(e?Ve:0),e||(e=t&&!f),o.ratio=i,o._from&&(i=1-i),o._time=0,o._tTime=s,c=o._pt;c;)c.r(i,c.d),c=c._next;o._startAt&&t<0&&o._startAt.render(t,!0,!0),o._onUpdate&&!e&&Lt(o,"onUpdate"),s&&o._repeat&&!e&&o.parent&&Lt(o,"onRepeat"),(t>=o._tDur||t<0)&&o.ratio===i&&(i&&Kt(o,1),e||(Lt(o,i?"onComplete":"onReverseComplete",!0),o._prom&&o._prom()))}else o._zTime||(o._zTime=t)},pm=function(o,t,e){var r;if(e>t)for(r=o._first;r&&r._start<=e;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=o._last;r&&r._start>=e;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},hn=function(o,t,e,r){var n=o._repeat,i=et(t)||0,a=o._tTime/o._tDur;return a&&!r&&(o._time*=i/o._dur),o._dur=i,o._tDur=n?n<0?1e10:et(i*(n+1)+o._rDelay*n):i,a>0&&!r?ba(o,o._tTime=o._tDur*a):o.parent&&ki(o),e||Gr(o.parent,o),o},Vs=function(o){return o instanceof ht?Gr(o):hn(o,o._dur)},mm={_start:0,endTime:kn,totalDuration:kn},Tt=function l(o,t,e){var r=o.labels,n=o._recent||mm,i=o.duration()>=At?n.endTime(!1):o._dur,a,s,c;return je(t)&&(isNaN(t)||t in r)?(s=t.charAt(0),c=t.substr(-1)==="%",a=t.indexOf("="),s==="<"||s===">"?(a>=0&&(t=t.replace(/=/,"")),(s==="<"?n._start:n.endTime(n._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(a<0?n:e).totalDuration()/100:1)):a<0?(t in r||(r[t]=i),r[t]):(s=parseFloat(t.charAt(a-1)+t.substr(a+1)),c&&e&&(s=s/100*(nt(e)?e[0]:e).totalDuration()),a>1?l(o,t.substr(0,a-1),e)+s:i+s)):t==null?i:+t},Rn=function(o,t,e){var r=er(t[1]),n=(r?2:1)+(o<2?0:1),i=t[n],a,s;if(r&&(i.duration=t[1]),i.parent=e,o){for(a=i,s=e;s&&!("immediateRender"in a);)a=s.vars.defaults||{},s=dt(s.vars.inherit)&&s.parent;i.immediateRender=dt(a.immediateRender),o<2?i.runBackwards=1:i.startAt=t[n-1]}return new Xe(t[0],i,t[n+1])},wr=function(o,t){return o||o===0?t(o):t},jn=function(o,t,e){return e<o?o:e>t?t:e},tt=function(o,t){return!je(o)||!(t=am.exec(o))?"":t[1]},vm=function(o,t,e){return wr(e,function(r){return jn(o,t,r)})},Vo=[].slice,Pc=function(o,t){return o&&tr(o)&&"length"in o&&(!t&&!o.length||o.length-1 in o&&tr(o[0]))&&!o.nodeType&&o!==Wt},gm=function(o,t,e){return e===void 0&&(e=[]),o.forEach(function(r){var n;return je(r)&&!t||Pc(r,1)?(n=e).push.apply(n,Ct(r)):e.push(r)})||e},Ct=function(o,t,e){return je(o)&&!e&&(Uo||!dn())?Vo.call((t||va).querySelectorAll(o),0):nt(o)?gm(o,e):Pc(o)?Vo.call(o,0):o?[o]:[]},ym=function(o){return o=Ct(o)[0]||_i("Invalid scope")||{},function(t){var e=o.current||o.nativeElement||o;return Ct(t,e.querySelectorAll?e:e===o?_i("Invalid scope")||va.createElement("div"):o)}},Rc=function(o){return o.sort(function(){return .5-Math.random()})},Fc=function(o){if(qe(o))return o;var t=tr(o)?o:{each:o},e=zr(t.ease),r=t.from||0,n=parseFloat(t.base)||0,i={},a=r>0&&r<1,s=isNaN(r)||a,c=t.axis,u=r,f=r;return je(r)?u=f={center:.5,edges:.5,end:1}[r]||0:!a&&s&&(u=r[0],f=r[1]),function(h,d,m){var p=(m||t).length,v=i[p],g,y,x,w,M,E,T,S,L;if(!v){if(L=t.grid==="auto"?0:(t.grid||[1,At])[1],!L){for(T=-At;T<(T=m[L++].getBoundingClientRect().left)&&L<p;);L--}for(v=i[p]=[],g=s?Math.min(L,p)*u-.5:r%L,y=L===At?0:s?p*f/L-.5:r/L|0,T=0,S=At,E=0;E<p;E++)x=E%L-g,w=y-(E/L|0),v[E]=M=c?Math.abs(c==="y"?w:x):hc(x*x+w*w),M>T&&(T=M),M<S&&(S=M);r==="random"&&Rc(v),v.max=T-S,v.min=S,v.v=p=(parseFloat(t.amount)||parseFloat(t.each)*(L>p?p-1:c?c==="y"?p/L:L:Math.max(L,p/L))||0)*(r==="edges"?-1:1),v.b=p<0?n-p:n,v.u=tt(t.amount||t.each)||0,e=e&&p<0?kc(e):e}return p=(v[h]-v.min)/v.max||0,et(v.b+(e?e(p):p)*v.v)+v.u}},ko=function(o){var t=Math.pow(10,((o+"").split(".")[1]||"").length);return function(e){var r=Math.round(parseFloat(e)/o)*o*t;return(r-r%1)/t+(er(e)?0:tt(e))}},Bc=function(o,t){var e=nt(o),r,n;return!e&&tr(o)&&(r=e=o.radius||At,o.values?(o=Ct(o.values),(n=!er(o[0]))&&(r*=r)):o=ko(o.increment)),wr(t,e?qe(o)?function(i){return n=o(i),Math.abs(n-i)<=r?n:i}:function(i){for(var a=parseFloat(n?i.x:i),s=parseFloat(n?i.y:0),c=At,u=0,f=o.length,h,d;f--;)n?(h=o[f].x-a,d=o[f].y-s,h=h*h+d*d):h=Math.abs(o[f]-a),h<c&&(c=h,u=f);return u=!r||c<=r?o[u]:i,n||u===i||er(i)?u:u+tt(i)}:ko(o))},Dc=function(o,t,e,r){return wr(nt(o)?!t:e===!0?!!(e=0):!r,function(){return nt(o)?o[~~(Math.random()*o.length)]:(e=e||1e-5)&&(r=e<1?Math.pow(10,(e+"").length-2):1)&&Math.floor(Math.round((o-e/2+Math.random()*(t-o+e*.99))/e)*e*r)/r})},_m=function(){for(var o=arguments.length,t=new Array(o),e=0;e<o;e++)t[e]=arguments[e];return function(r){return t.reduce(function(n,i){return i(n)},r)}},xm=function(o,t){return function(e){return o(parseFloat(e))+(t||tt(e))}},bm=function(o,t,e){return Uc(o,t,0,1,e)},Ic=function(o,t,e){return wr(e,function(r){return o[~~t(r)]})},Mm=function l(o,t,e){var r=t-o;return nt(o)?Ic(o,l(0,o.length),t):wr(e,function(n){return(r+(n-o)%r)%r+o})},wm=function l(o,t,e){var r=t-o,n=r*2;return nt(o)?Ic(o,l(0,o.length-1),t):wr(e,function(i){return i=(n+(i-o)%n)%n||0,o+(i>r?n-i:i)})},Gn=function(o){for(var t=0,e="",r,n,i,a;~(r=o.indexOf("random(",t));)i=o.indexOf(")",r),a=o.charAt(r+7)==="[",n=o.substr(r+7,i-r-7).match(a?gc:Io),e+=o.substr(t,r-t)+Dc(a?n:+n[0],a?0:+n[1],+n[2]||1e-5),t=i+1;return e+o.substr(t,o.length-t)},Uc=function(o,t,e,r,n){var i=t-o,a=r-e;return wr(n,function(s){return e+((s-o)/i*a||0)})},Em=function l(o,t,e,r){var n=isNaN(o+t)?0:function(d){return(1-d)*o+d*t};if(!n){var i=je(o),a={},s,c,u,f,h;if(e===!0&&(r=1)&&(e=null),i)o={p:o},t={p:t};else if(nt(o)&&!nt(t)){for(u=[],f=o.length,h=f-2,c=1;c<f;c++)u.push(l(o[c-1],o[c]));f--,n=function(m){m*=f;var p=Math.min(h,~~m);return u[p](m-p)},e=t}else r||(o=Hr(nt(o)?[]:{},o));if(!u){for(s in t)Ma.call(a,o,s,"get",t[s]);n=function(m){return Sa(m,a)||(i?o.p:o)}}}return wr(e,n)},ks=function(o,t,e){var r=o.labels,n=At,i,a,s;for(i in r)a=r[i]-t,a<0==!!e&&a&&n>(a=Math.abs(a))&&(s=i,n=a);return s},Lt=function(o,t,e){var r=o.vars,n=r[t],i,a;if(!!n)return i=r[t+"Params"],a=r.callbackScope||o,e&&vr.length&&xi(),i?n.apply(a,i):n.call(a)},Mn=function(o){return Kt(o),o.scrollTrigger&&o.scrollTrigger.kill(!1),o.progress()<1&&Lt(o,"onInterrupt"),o},Jr,Tm=function(o){o=!o.name&&o.default||o;var t=o.name,e=qe(o),r=t&&!e&&o.init?function(){this._props=[]}:o,n={init:kn,render:Sa,add:Ma,kill:Gm,modifier:km,rawVars:0},i={targetTest:0,get:0,getSetter:Ta,aliases:{},register:0};if(dn(),o!==r){if(vt[t])return;Rt(r,Rt(bi(o,n),i)),Hr(r.prototype,Hr(n,bi(o,i))),vt[r.prop=t]=r,o.targetTest&&(fi.push(r),ya[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}xc(t,r),o.register&&o.register(Gt,r,mt)},Oe=255,wn={aqua:[0,Oe,Oe],lime:[0,Oe,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Oe],navy:[0,0,128],white:[Oe,Oe,Oe],olive:[128,128,0],yellow:[Oe,Oe,0],orange:[Oe,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Oe,0,0],pink:[Oe,192,203],cyan:[0,Oe,Oe],transparent:[Oe,Oe,Oe,0]},ao=function(o,t,e){return o+=o<0?1:o>1?-1:0,(o*6<1?t+(e-t)*o*6:o<.5?e:o*3<2?t+(e-t)*(2/3-o)*6:t)*Oe+.5|0},Oc=function(o,t,e){var r=o?er(o)?[o>>16,o>>8&Oe,o&Oe]:0:wn.black,n,i,a,s,c,u,f,h,d,m;if(!r){if(o.substr(-1)===","&&(o=o.substr(0,o.length-1)),wn[o])r=wn[o];else if(o.charAt(0)==="#"){if(o.length<6&&(n=o.charAt(1),i=o.charAt(2),a=o.charAt(3),o="#"+n+n+i+i+a+a+(o.length===5?o.charAt(4)+o.charAt(4):"")),o.length===9)return r=parseInt(o.substr(1,6),16),[r>>16,r>>8&Oe,r&Oe,parseInt(o.substr(7),16)/255];o=parseInt(o.substr(1),16),r=[o>>16,o>>8&Oe,o&Oe]}else if(o.substr(0,3)==="hsl"){if(r=m=o.match(Io),!t)s=+r[0]%360/360,c=+r[1]/100,u=+r[2]/100,i=u<=.5?u*(c+1):u+c-u*c,n=u*2-i,r.length>3&&(r[3]*=1),r[0]=ao(s+1/3,n,i),r[1]=ao(s,n,i),r[2]=ao(s-1/3,n,i);else if(~o.indexOf("="))return r=o.match(mc),e&&r.length<4&&(r[3]=1),r}else r=o.match(Io)||wn.transparent;r=r.map(Number)}return t&&!m&&(n=r[0]/Oe,i=r[1]/Oe,a=r[2]/Oe,f=Math.max(n,i,a),h=Math.min(n,i,a),u=(f+h)/2,f===h?s=c=0:(d=f-h,c=u>.5?d/(2-f-h):d/(f+h),s=f===n?(i-a)/d+(i<a?6:0):f===i?(a-n)/d+2:(n-i)/d+4,s*=60),r[0]=~~(s+.5),r[1]=~~(c*100+.5),r[2]=~~(u*100+.5)),e&&r.length<4&&(r[3]=1),r},Nc=function(o){var t=[],e=[],r=-1;return o.split(gr).forEach(function(n){var i=n.match(Qr)||[];t.push.apply(t,i),e.push(r+=i.length+1)}),t.c=e,t},Gs=function(o,t,e){var r="",n=(o+r).match(gr),i=t?"hsla(":"rgba(",a=0,s,c,u,f;if(!n)return o;if(n=n.map(function(h){return(h=Oc(h,t,1))&&i+(t?h[0]+","+h[1]+"%,"+h[2]+"%,"+h[3]:h.join(","))+")"}),e&&(u=Nc(o),s=e.c,s.join(r)!==u.c.join(r)))for(c=o.replace(gr,"1").split(Qr),f=c.length-1;a<f;a++)r+=c[a]+(~s.indexOf(a)?n.shift()||i+"0,0,0,0)":(u.length?u:n.length?n:e).shift());if(!c)for(c=o.split(gr),f=c.length-1;a<f;a++)r+=c[a]+n[a];return r+c[f]},gr=function(){var l="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",o;for(o in wn)l+="|"+o+"\\b";return new RegExp(l+")","gi")}(),Sm=/hsl[a]?\(/,Vc=function(o){var t=o.join(" "),e;if(gr.lastIndex=0,gr.test(t))return e=Sm.test(t),o[1]=Gs(o[1],e),o[0]=Gs(o[0],e,Nc(o[1])),!0},zn,yt=function(){var l=Date.now,o=500,t=33,e=l(),r=e,n=1e3/240,i=n,a=[],s,c,u,f,h,d,m=function p(v){var g=l()-r,y=v===!0,x,w,M,E;if(g>o&&(e+=g-t),r+=g,M=r-e,x=M-i,(x>0||y)&&(E=++f.frame,h=M-f.time*1e3,f.time=M=M/1e3,i+=x+(x>=n?4:n-x),w=1),y||(s=c(p)),w)for(d=0;d<a.length;d++)a[d](M,h,E,v)};return f={time:0,frame:0,tick:function(){m(!0)},deltaRatio:function(v){return h/(1e3/(v||60))},wake:function(){yc&&(!Uo&&dc()&&(Wt=Uo=window,va=Wt.document||{},bt.gsap=Gt,(Wt.gsapVersions||(Wt.gsapVersions=[])).push(Gt.version),_c(yi||Wt.GreenSockGlobals||!Wt.gsap&&Wt||{}),u=Wt.requestAnimationFrame),s&&f.sleep(),c=u||function(v){return setTimeout(v,i-f.time*1e3+1|0)},zn=1,m(2))},sleep:function(){(u?Wt.cancelAnimationFrame:clearTimeout)(s),zn=0,c=kn},lagSmoothing:function(v,g){o=v||1/Ve,t=Math.min(g,o,0)},fps:function(v){n=1e3/(v||240),i=f.time*1e3+n},add:function(v,g,y){var x=g?function(w,M,E,T){v(w,M,E,T),f.remove(x)}:v;return f.remove(v),a[y?"unshift":"push"](x),dn(),x},remove:function(v,g){~(g=a.indexOf(v))&&a.splice(g,1)&&d>=g&&d--},_listeners:a},f}(),dn=function(){return!zn&&yt.wake()},Pe={},Am=/^[\d.\-M][\d.\-,\s]/,Cm=/["']/g,Lm=function(o){for(var t={},e=o.substr(1,o.length-3).split(":"),r=e[0],n=1,i=e.length,a,s,c;n<i;n++)s=e[n],a=n!==i-1?s.lastIndexOf(","):s.length,c=s.substr(0,a),t[r]=isNaN(c)?c.replace(Cm,"").trim():+c,r=s.substr(a+1).trim();return t},Pm=function(o){var t=o.indexOf("(")+1,e=o.indexOf(")"),r=o.indexOf("(",t);return o.substring(t,~r&&r<e?o.indexOf(")",e+1):e)},Rm=function(o){var t=(o+"").split("("),e=Pe[t[0]];return e&&t.length>1&&e.config?e.config.apply(null,~o.indexOf("{")?[Lm(t[1])]:Pm(o).split(",").map(Ec)):Pe._CE&&Am.test(o)?Pe._CE("",o):e},kc=function(o){return function(t){return 1-o(1-t)}},Gc=function l(o,t){for(var e=o._first,r;e;)e instanceof ht?l(e,t):e.vars.yoyoEase&&(!e._yoyo||!e._repeat)&&e._yoyo!==t&&(e.timeline?l(e.timeline,t):(r=e._ease,e._ease=e._yEase,e._yEase=r,e._yoyo=t)),e=e._next},zr=function(o,t){return o&&(qe(o)?o:Pe[o]||Rm(o))||t},Wr=function(o,t,e,r){e===void 0&&(e=function(s){return 1-t(1-s)}),r===void 0&&(r=function(s){return s<.5?t(s*2)/2:1-t((1-s)*2)/2});var n={easeIn:t,easeOut:e,easeInOut:r},i;return pt(o,function(a){Pe[a]=bt[a]=n,Pe[i=a.toLowerCase()]=e;for(var s in n)Pe[i+(s==="easeIn"?".in":s==="easeOut"?".out":".inOut")]=Pe[a+"."+s]=n[s]}),n},zc=function(o){return function(t){return t<.5?(1-o(1-t*2))/2:.5+o((t-.5)*2)/2}},so=function l(o,t,e){var r=t>=1?t:1,n=(e||(o?.3:.45))/(t<1?t:1),i=n/Do*(Math.asin(1/r)||0),a=function(u){return u===1?1:r*Math.pow(2,-10*u)*om((u-i)*n)+1},s=o==="out"?a:o==="in"?function(c){return 1-a(1-c)}:zc(a);return n=Do/n,s.config=function(c,u){return l(o,c,u)},s},lo=function l(o,t){t===void 0&&(t=1.70158);var e=function(i){return i?--i*i*((t+1)*i+t)+1:0},r=o==="out"?e:o==="in"?function(n){return 1-e(1-n)}:zc(e);return r.config=function(n){return l(o,n)},r};pt("Linear,Quad,Cubic,Quart,Quint,Strong",function(l,o){var t=o<5?o+1:o;Wr(l+",Power"+(t-1),o?function(e){return Math.pow(e,t)}:function(e){return e},function(e){return 1-Math.pow(1-e,t)},function(e){return e<.5?Math.pow(e*2,t)/2:1-Math.pow((1-e)*2,t)/2})});Pe.Linear.easeNone=Pe.none=Pe.Linear.easeIn;Wr("Elastic",so("in"),so("out"),so());(function(l,o){var t=1/o,e=2*t,r=2.5*t,n=function(a){return a<t?l*a*a:a<e?l*Math.pow(a-1.5/o,2)+.75:a<r?l*(a-=2.25/o)*a+.9375:l*Math.pow(a-2.625/o,2)+.984375};Wr("Bounce",function(i){return 1-n(1-i)},n)})(7.5625,2.75);Wr("Expo",function(l){return l?Math.pow(2,10*(l-1)):0});Wr("Circ",function(l){return-(hc(1-l*l)-1)});Wr("Sine",function(l){return l===1?1:-im(l*rm)+1});Wr("Back",lo("in"),lo("out"),lo());Pe.SteppedEase=Pe.steps=bt.SteppedEase={config:function(o,t){o===void 0&&(o=1);var e=1/o,r=o+(t?0:1),n=t?1:0,i=1-Ve;return function(a){return((r*jn(0,i,a)|0)+n)*e}}};un.ease=Pe["quad.out"];pt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(l){return _a+=l+","+l+"Params,"});var Hc=function(o,t){this.id=nm++,o._gsap=this,this.target=o,this.harness=t,this.get=t?t.get:Mc,this.set=t?t.getSetter:Ta},Hn=function(){function l(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,hn(this,+t.duration,1,1),this.data=t.data,zn||yt.wake()}var o=l.prototype;return o.delay=function(e){return e||e===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},o.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},o.totalDuration=function(e){return arguments.length?(this._dirty=0,hn(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},o.totalTime=function(e,r){if(dn(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(ba(this,e),!n._dp||n.parent||Ac(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&Yt(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===Ve||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),wc(this,e,r)),this},o.time=function(e,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+Ns(this))%(this._dur+this._rDelay)||(e?this._dur:0),r):this._time},o.totalProgress=function(e,r){return arguments.length?this.totalTime(this.totalDuration()*e,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},o.progress=function(e,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-e:e)+Ns(this),r):this.duration()?Math.min(1,this._time/this._dur):this.ratio},o.iteration=function(e,r){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,r):this._repeat?fn(this._tTime,n)+1:1},o.timeScale=function(e){if(!arguments.length)return this._rts===-Ve?0:this._rts;if(this._rts===e)return this;var r=this.parent&&this._ts?Mi(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||e===-Ve?0:this._rts,this.totalTime(jn(-this._delay,this._tDur,r),!0),ki(this),um(this)},o.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(dn(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ve&&(this._tTime-=Ve)))),this):this._ps},o.startTime=function(e){if(arguments.length){this._start=e;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&Yt(r,this,e-this._delay),this}return this._start},o.endTime=function(e){return this._start+(dt(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},o.rawTime=function(e){var r=this.parent||this._dp;return r?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Mi(r.rawTime(e),this):this._tTime:this._tTime},o.globalTime=function(e){for(var r=this,n=arguments.length?e:r.rawTime();r;)n=r._start+n/(r._ts||1),r=r._dp;return n},o.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,Vs(this)):this._repeat===-2?1/0:this._repeat},o.repeatDelay=function(e){if(arguments.length){var r=this._time;return this._rDelay=e,Vs(this),r?this.time(r):this}return this._rDelay},o.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},o.seek=function(e,r){return this.totalTime(Tt(this,e),dt(r))},o.restart=function(e,r){return this.play().totalTime(e?-this._delay:0,dt(r))},o.play=function(e,r){return e!=null&&this.seek(e,r),this.reversed(!1).paused(!1)},o.reverse=function(e,r){return e!=null&&this.seek(e||this.totalDuration(),r),this.reversed(!0).paused(!1)},o.pause=function(e,r){return e!=null&&this.seek(e,r),this.paused(!0)},o.resume=function(){return this.paused(!1)},o.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-Ve:0)),this):this._rts<0},o.invalidate=function(){return this._initted=this._act=0,this._zTime=-Ve,this},o.isActive=function(){var e=this.parent||this._dp,r=this._start,n;return!!(!e||this._ts&&this._initted&&e.isActive()&&(n=e.rawTime(!0))>=r&&n<this.endTime(!0)-Ve)},o.eventCallback=function(e,r,n){var i=this.vars;return arguments.length>1?(r?(i[e]=r,n&&(i[e+"Params"]=n),e==="onUpdate"&&(this._onUpdate=r)):delete i[e],this):i[e]},o.then=function(e){var r=this;return new Promise(function(n){var i=qe(e)?e:Tc,a=function(){var c=r.then;r.then=null,qe(i)&&(i=i(r))&&(i.then||i===r)&&(r.then=c),n(i),r.then=c};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?a():r._prom=a})},o.kill=function(){Mn(this)},l}();Rt(Hn.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ve,_prom:0,_ps:!1,_rts:1});var ht=function(l){fc(o,l);function o(e,r){var n;return e===void 0&&(e={}),n=l.call(this,e)||this,n.labels={},n.smoothChildTiming=!!e.smoothChildTiming,n.autoRemoveChildren=!!e.autoRemoveChildren,n._sort=dt(e.sortChildren),Ge&&Yt(e.parent||Ge,Zt(n),r),e.reversed&&n.reverse(),e.paused&&n.paused(!0),e.scrollTrigger&&Cc(Zt(n),e.scrollTrigger),n}var t=o.prototype;return t.to=function(r,n,i){return Rn(0,arguments,this),this},t.from=function(r,n,i){return Rn(1,arguments,this),this},t.fromTo=function(r,n,i,a){return Rn(2,arguments,this),this},t.set=function(r,n,i){return n.duration=0,n.parent=this,Pn(n).repeatDelay||(n.repeat=0),n.immediateRender=!!n.immediateRender,new Xe(r,n,Tt(this,i),1),this},t.call=function(r,n,i){return Yt(this,Xe.delayedCall(0,r,n),i)},t.staggerTo=function(r,n,i,a,s,c,u){return i.duration=n,i.stagger=i.stagger||a,i.onComplete=c,i.onCompleteParams=u,i.parent=this,new Xe(r,i,Tt(this,s)),this},t.staggerFrom=function(r,n,i,a,s,c,u){return i.runBackwards=1,Pn(i).immediateRender=dt(i.immediateRender),this.staggerTo(r,n,i,a,s,c,u)},t.staggerFromTo=function(r,n,i,a,s,c,u,f){return a.startAt=i,Pn(a).immediateRender=dt(a.immediateRender),this.staggerTo(r,n,a,s,c,u,f)},t.render=function(r,n,i){var a=this._time,s=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=r<=0?0:et(r),f=this._zTime<0!=r<0&&(this._initted||!c),h,d,m,p,v,g,y,x,w,M,E,T;if(this!==Ge&&u>s&&r>=0&&(u=s),u!==this._tTime||i||f){if(a!==this._time&&c&&(u+=this._time-a,r+=this._time-a),h=u,w=this._start,x=this._ts,g=!x,f&&(c||(a=this._zTime),(r||!n)&&(this._zTime=r)),this._repeat){if(E=this._yoyo,v=c+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(v*100+r,n,i);if(h=et(u%v),u===s?(p=this._repeat,h=c):(p=~~(u/v),p&&p===u/v&&(h=c,p--),h>c&&(h=c)),M=fn(this._tTime,v),!a&&this._tTime&&M!==p&&(M=p),E&&p&1&&(h=c-h,T=1),p!==M&&!this._lock){var S=E&&M&1,L=S===(E&&p&1);if(p<M&&(S=!S),a=S?0:c,this._lock=1,this.render(a||(T?0:et(p*v)),n,!c)._lock=0,this._tTime=u,!n&&this.parent&&Lt(this,"onRepeat"),this.vars.repeatRefresh&&!T&&(this.invalidate()._lock=1),a&&a!==this._time||g!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,s=this._tDur,L&&(this._lock=2,a=S?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!T&&this.invalidate()),this._lock=0,!this._ts&&!g)return this;Gc(this,T)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(y=pm(this,et(a),et(h)),y&&(u-=h-(h=y._start))),this._tTime=u,this._time=h,this._act=!x,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,a=0),!a&&h&&!n&&(Lt(this,"onStart"),this._tTime!==u))return this;if(h>=a&&r>=0)for(d=this._first;d;){if(m=d._next,(d._act||h>=d._start)&&d._ts&&y!==d){if(d.parent!==this)return this.render(r,n,i);if(d.render(d._ts>0?(h-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(h-d._start)*d._ts,n,i),h!==this._time||!this._ts&&!g){y=0,m&&(u+=this._zTime=-Ve);break}}d=m}else{d=this._last;for(var P=r<0?r:h;d;){if(m=d._prev,(d._act||P<=d._end)&&d._ts&&y!==d){if(d.parent!==this)return this.render(r,n,i);if(d.render(d._ts>0?(P-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(P-d._start)*d._ts,n,i),h!==this._time||!this._ts&&!g){y=0,m&&(u+=this._zTime=P?-Ve:Ve);break}}d=m}}if(y&&!n&&(this.pause(),y.render(h>=a?0:-Ve)._zTime=h>=a?1:-1,this._ts))return this._start=w,ki(this),this.render(r,n,i);this._onUpdate&&!n&&Lt(this,"onUpdate",!0),(u===s&&this._tTime>=this.totalDuration()||!u&&a)&&(w===this._start||Math.abs(x)!==Math.abs(this._ts))&&(this._lock||((r||!c)&&(u===s&&this._ts>0||!u&&this._ts<0)&&Kt(this,1),!n&&!(r<0&&!a)&&(u||a||!s)&&(Lt(this,u===s&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<s&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,n){var i=this;if(er(n)||(n=Tt(this,n,r)),!(r instanceof Hn)){if(nt(r))return r.forEach(function(a){return i.add(a,n)}),this;if(je(r))return this.addLabel(r,n);if(qe(r))r=Xe.delayedCall(0,r);else return this}return this!==r?Yt(this,r,n):this},t.getChildren=function(r,n,i,a){r===void 0&&(r=!0),n===void 0&&(n=!0),i===void 0&&(i=!0),a===void 0&&(a=-At);for(var s=[],c=this._first;c;)c._start>=a&&(c instanceof Xe?n&&s.push(c):(i&&s.push(c),r&&s.push.apply(s,c.getChildren(!0,n,i)))),c=c._next;return s},t.getById=function(r){for(var n=this.getChildren(1,1,1),i=n.length;i--;)if(n[i].vars.id===r)return n[i]},t.remove=function(r){return je(r)?this.removeLabel(r):qe(r)?this.killTweensOf(r):(Vi(this,r),r===this._recent&&(this._recent=this._last),Gr(this))},t.totalTime=function(r,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=et(yt.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),l.prototype.totalTime.call(this,r,n),this._forcing=0,this):this._tTime},t.addLabel=function(r,n){return this.labels[r]=Tt(this,n),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,n,i){var a=Xe.delayedCall(0,n||kn,i);return a.data="isPause",this._hasPause=1,Yt(this,a,Tt(this,r))},t.removePause=function(r){var n=this._first;for(r=Tt(this,r);n;)n._start===r&&n.data==="isPause"&&Kt(n),n=n._next},t.killTweensOf=function(r,n,i){for(var a=this.getTweensOf(r,i),s=a.length;s--;)cr!==a[s]&&a[s].kill(r,n);return this},t.getTweensOf=function(r,n){for(var i=[],a=Ct(r),s=this._first,c=er(n),u;s;)s instanceof Xe?sm(s._targets,a)&&(c?(!cr||s._initted&&s._ts)&&s.globalTime(0)<=n&&s.globalTime(s.totalDuration())>n:!n||s.isActive())&&i.push(s):(u=s.getTweensOf(a,n)).length&&i.push.apply(i,u),s=s._next;return i},t.tweenTo=function(r,n){n=n||{};var i=this,a=Tt(i,r),s=n,c=s.startAt,u=s.onStart,f=s.onStartParams,h=s.immediateRender,d,m=Xe.to(i,Rt({ease:n.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:n.duration||Math.abs((a-(c&&"time"in c?c.time:i._time))/i.timeScale())||Ve,onStart:function(){if(i.pause(),!d){var v=n.duration||Math.abs((a-(c&&"time"in c?c.time:i._time))/i.timeScale());m._dur!==v&&hn(m,v,0,1).render(m._time,!0,!0),d=1}u&&u.apply(m,f||[])}},n));return h?m.render(0):m},t.tweenFromTo=function(r,n,i){return this.tweenTo(n,Rt({startAt:{time:Tt(this,r)}},i))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),ks(this,Tt(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),ks(this,Tt(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+Ve)},t.shiftChildren=function(r,n,i){i===void 0&&(i=0);for(var a=this._first,s=this.labels,c;a;)a._start>=i&&(a._start+=r,a._end+=r),a=a._next;if(n)for(c in s)s[c]>=i&&(s[c]+=r);return Gr(this)},t.invalidate=function(){var r=this._first;for(this._lock=0;r;)r.invalidate(),r=r._next;return l.prototype.invalidate.call(this)},t.clear=function(r){r===void 0&&(r=!0);for(var n=this._first,i;n;)i=n._next,this.remove(n),n=i;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Gr(this)},t.totalDuration=function(r){var n=0,i=this,a=i._last,s=At,c,u,f;if(arguments.length)return i.timeScale((i._repeat<0?i.duration():i.totalDuration())/(i.reversed()?-r:r));if(i._dirty){for(f=i.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>s&&i._sort&&a._ts&&!i._lock?(i._lock=1,Yt(i,a,u-a._delay,1)._lock=0):s=u,u<0&&a._ts&&(n-=u,(!f&&!i._dp||f&&f.smoothChildTiming)&&(i._start+=u/i._ts,i._time-=u,i._tTime-=u),i.shiftChildren(-u,!1,-1/0),s=0),a._end>n&&a._ts&&(n=a._end),a=c;hn(i,i===Ge&&i._time>n?i._time:n,1,1),i._dirty=0}return i._tDur},o.updateRoot=function(r){if(Ge._ts&&(wc(Ge,Mi(r,Ge)),bc=yt.frame),yt.frame>=Us){Us+=_t.autoSleep||120;var n=Ge._first;if((!n||!n._ts)&&_t.autoSleep&&yt._listeners.length<2){for(;n&&!n._ts;)n=n._next;n||yt.sleep()}}},o}(Hn);Rt(ht.prototype,{_lock:0,_hasPause:0,_forcing:0});var Fm=function(o,t,e,r,n,i,a){var s=new mt(this._pt,o,t,0,1,Zc,null,n),c=0,u=0,f,h,d,m,p,v,g,y;for(s.b=e,s.e=r,e+="",r+="",(g=~r.indexOf("random("))&&(r=Gn(r)),i&&(y=[e,r],i(y,o,t),e=y[0],r=y[1]),h=e.match(io)||[];f=io.exec(r);)m=f[0],p=r.substring(c,f.index),d?d=(d+1)%5:p.substr(-5)==="rgba("&&(d=1),m!==h[u++]&&(v=parseFloat(h[u-1])||0,s._pt={_next:s._pt,p:p||u===1?p:",",s:v,c:m.charAt(1)==="="?nn(v,m)-v:parseFloat(m)-v,m:d&&d<4?Math.round:0},c=io.lastIndex);return s.c=c<r.length?r.substring(c,r.length):"",s.fp=a,(vc.test(r)||g)&&(s.e=0),this._pt=s,s},Ma=function(o,t,e,r,n,i,a,s,c){qe(r)&&(r=r(n||0,o,i));var u=o[t],f=e!=="get"?e:qe(u)?c?o[t.indexOf("set")||!qe(o["get"+t.substr(3)])?t:"get"+t.substr(3)](c):o[t]():u,h=qe(u)?c?Om:qc:Ea,d;if(je(r)&&(~r.indexOf("random(")&&(r=Gn(r)),r.charAt(1)==="="&&(d=nn(f,r)+(tt(f)||0),(d||d===0)&&(r=d))),f!==r||Go)return!isNaN(f*r)&&r!==""?(d=new mt(this._pt,o,t,+f||0,r-(f||0),typeof u=="boolean"?Vm:jc,0,h),c&&(d.fp=c),a&&d.modifier(a,this,o),this._pt=d):(!u&&!(t in o)&&ga(t,r),Fm.call(this,o,t,f,r,h,s||_t.stringFilter,c))},Bm=function(o,t,e,r,n){if(qe(o)&&(o=Fn(o,n,t,e,r)),!tr(o)||o.style&&o.nodeType||nt(o)||pc(o))return je(o)?Fn(o,n,t,e,r):o;var i={},a;for(a in o)i[a]=Fn(o[a],n,t,e,r);return i},Wc=function(o,t,e,r,n,i){var a,s,c,u;if(vt[o]&&(a=new vt[o]).init(n,a.rawVars?t[o]:Bm(t[o],r,n,i,e),e,r,i)!==!1&&(e._pt=s=new mt(e._pt,n,o,0,1,a.render,a,0,a.priority),e!==Jr))for(c=e._ptLookup[e._targets.indexOf(n)],u=a._props.length;u--;)c[a._props[u]]=s;return a},cr,Go,wa=function l(o,t){var e=o.vars,r=e.ease,n=e.startAt,i=e.immediateRender,a=e.lazy,s=e.onUpdate,c=e.onUpdateParams,u=e.callbackScope,f=e.runBackwards,h=e.yoyoEase,d=e.keyframes,m=e.autoRevert,p=o._dur,v=o._startAt,g=o._targets,y=o.parent,x=y&&y.data==="nested"?y.parent._targets:g,w=o._overwrite==="auto"&&!pa,M=o.timeline,E,T,S,L,P,R,B,V,z,X,G,k,j;if(M&&(!d||!r)&&(r="none"),o._ease=zr(r,un.ease),o._yEase=h?kc(zr(h===!0?r:h,un.ease)):0,h&&o._yoyo&&!o._repeat&&(h=o._yEase,o._yEase=o._ease,o._ease=h),o._from=!M&&!!e.runBackwards,!M||d&&!e.stagger){if(V=g[0]?kr(g[0]).harness:0,k=V&&e[V.prop],E=bi(e,ya),v&&(Kt(v.render(-1,!0)),v._lazy=0),n)if(Kt(o._startAt=Xe.set(g,Rt({data:"isStart",overwrite:!1,parent:y,immediateRender:!0,lazy:dt(a),startAt:null,delay:0,onUpdate:s,onUpdateParams:c,callbackScope:u,stagger:0},n))),t<0&&!i&&!m&&o._startAt.render(-1,!0),i){if(t>0&&!m&&(o._startAt=0),p&&t<=0){t&&(o._zTime=t);return}}else m===!1&&(o._startAt=0);else if(f&&p){if(v)!m&&(o._startAt=0);else if(t&&(i=!1),S=Rt({overwrite:!1,data:"isFromStart",lazy:i&&dt(a),immediateRender:i,stagger:0,parent:y},E),k&&(S[V.prop]=k),Kt(o._startAt=Xe.set(g,S)),t<0&&o._startAt.render(-1,!0),o._zTime=t,!i)l(o._startAt,Ve);else if(!t)return}for(o._pt=o._ptCache=0,a=p&&dt(a)||a&&!p,T=0;T<g.length;T++){if(P=g[T],B=P._gsap||xa(g)[T]._gsap,o._ptLookup[T]=X={},Oo[B.id]&&vr.length&&xi(),G=x===g?T:x.indexOf(P),V&&(z=new V).init(P,k||E,o,G,x)!==!1&&(o._pt=L=new mt(o._pt,P,z.name,0,1,z.render,z,0,z.priority),z._props.forEach(function($){X[$]=L}),z.priority&&(R=1)),!V||k)for(S in E)vt[S]&&(z=Wc(S,E,o,G,P,x))?z.priority&&(R=1):X[S]=L=Ma.call(o,P,S,"get",E[S],G,x,0,e.stringFilter);o._op&&o._op[T]&&o.kill(P,o._op[T]),w&&o._pt&&(cr=o,Ge.killTweensOf(P,X,o.globalTime(t)),j=!o.parent,cr=0),o._pt&&a&&(Oo[B.id]=1)}R&&$c(o),o._onInit&&o._onInit(o)}o._onUpdate=s,o._initted=(!o._op||o._pt)&&!j,d&&t<=0&&M.render(At,!0,!0)},Dm=function(o,t,e,r,n,i,a){var s=(o._pt&&o._ptCache||(o._ptCache={}))[t],c,u,f;if(!s)for(s=o._ptCache[t]=[],u=o._ptLookup,f=o._targets.length;f--;){if(c=u[f][t],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==t;)c=c._next;if(!c)return Go=1,o.vars[t]="+=0",wa(o,a),Go=0,1;s.push(c)}for(f=s.length;f--;)c=s[f],c.s=(r||r===0)&&!n?r:c.s+(r||0)+i*c.c,c.c=e-c.s,c.e&&(c.e=We(e)+tt(c.e)),c.b&&(c.b=c.s+tt(c.b))},Im=function(o,t){var e=o[0]?kr(o[0]).harness:0,r=e&&e.aliases,n,i,a,s;if(!r)return t;n=Hr({},t);for(i in r)if(i in n)for(s=r[i].split(","),a=s.length;a--;)n[s[a]]=n[i];return n},Um=function(o,t,e,r){var n=t.ease||r||"power1.inOut",i,a;if(nt(t))a=e[o]||(e[o]=[]),t.forEach(function(s,c){return a.push({t:c/(t.length-1)*100,v:s,e:n})});else for(i in t)a=e[i]||(e[i]=[]),i==="ease"||a.push({t:parseFloat(o),v:t[i],e:n})},Fn=function(o,t,e,r,n){return qe(o)?o.call(t,e,r,n):je(o)&&~o.indexOf("random(")?Gn(o):o},Xc=_a+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Yc={};pt(Xc+",id,stagger,delay,duration,paused,scrollTrigger",function(l){return Yc[l]=1});var Xe=function(l){fc(o,l);function o(e,r,n,i){var a;typeof r=="number"&&(n.duration=r,r=n,n=null),a=l.call(this,i?r:Pn(r))||this;var s=a.vars,c=s.duration,u=s.delay,f=s.immediateRender,h=s.stagger,d=s.overwrite,m=s.keyframes,p=s.defaults,v=s.scrollTrigger,g=s.yoyoEase,y=r.parent||Ge,x=(nt(e)||pc(e)?er(e[0]):"length"in r)?[e]:Ct(e),w,M,E,T,S,L,P,R;if(a._targets=x.length?xa(x):_i("GSAP target "+e+" not found. https://greensock.com",!_t.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=d,m||h||ii(c)||ii(u)){if(r=a.vars,w=a.timeline=new ht({data:"nested",defaults:p||{}}),w.kill(),w.parent=w._dp=Zt(a),w._start=0,h||ii(c)||ii(u)){if(T=x.length,P=h&&Fc(h),tr(h))for(S in h)~Xc.indexOf(S)&&(R||(R={}),R[S]=h[S]);for(M=0;M<T;M++)E=bi(r,Yc),E.stagger=0,g&&(E.yoyoEase=g),R&&Hr(E,R),L=x[M],E.duration=+Fn(c,Zt(a),M,L,x),E.delay=(+Fn(u,Zt(a),M,L,x)||0)-a._delay,!h&&T===1&&E.delay&&(a._delay=u=E.delay,a._start+=u,E.delay=0),w.to(L,E,P?P(M,L,x):0),w._ease=Pe.none;w.duration()?c=u=0:a.timeline=0}else if(m){Pn(Rt(w.vars.defaults,{ease:"none"})),w._ease=zr(m.ease||r.ease||"none");var B=0,V,z,X;if(nt(m))m.forEach(function(G){return w.to(x,G,">")});else{E={};for(S in m)S==="ease"||S==="easeEach"||Um(S,m[S],E,m.easeEach);for(S in E)for(V=E[S].sort(function(G,k){return G.t-k.t}),B=0,M=0;M<V.length;M++)z=V[M],X={ease:z.e,duration:(z.t-(M?V[M-1].t:0))/100*c},X[S]=z.v,w.to(x,X,B),B+=X.duration;w.duration()<c&&w.to({},{duration:c-w.duration()})}}c||a.duration(c=w.duration())}else a.timeline=0;return d===!0&&!pa&&(cr=Zt(a),Ge.killTweensOf(x),cr=0),Yt(y,Zt(a),n),r.reversed&&a.reverse(),r.paused&&a.paused(!0),(f||!c&&!m&&a._start===et(y._time)&&dt(f)&&fm(Zt(a))&&y.data!=="nested")&&(a._tTime=-Ve,a.render(Math.max(0,-u))),v&&Cc(Zt(a),v),a}var t=o.prototype;return t.render=function(r,n,i){var a=this._time,s=this._tDur,c=this._dur,u=r>s-Ve&&r>=0?s:r<Ve?0:r,f,h,d,m,p,v,g,y,x;if(!c)dm(this,r,n,i);else if(u!==this._tTime||!r||i||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=r<0){if(f=u,y=this.timeline,this._repeat){if(m=c+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(m*100+r,n,i);if(f=et(u%m),u===s?(d=this._repeat,f=c):(d=~~(u/m),d&&d===u/m&&(f=c,d--),f>c&&(f=c)),v=this._yoyo&&d&1,v&&(x=this._yEase,f=c-f),p=fn(this._tTime,m),f===a&&!i&&this._initted)return this._tTime=u,this;d!==p&&(y&&this._yEase&&Gc(y,v),this.vars.repeatRefresh&&!v&&!this._lock&&(this._lock=i=1,this.render(et(m*d),!0).invalidate()._lock=0))}if(!this._initted){if(Lc(this,r<0?r:f,i,n))return this._tTime=0,this;if(a!==this._time)return this;if(c!==this._dur)return this.render(r,n,i)}if(this._tTime=u,this._time=f,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=g=(x||this._ease)(f/c),this._from&&(this.ratio=g=1-g),f&&!a&&!n&&(Lt(this,"onStart"),this._tTime!==u))return this;for(h=this._pt;h;)h.r(g,h.d),h=h._next;y&&y.render(r<0?r:!f&&v?-Ve:y._dur*y._ease(f/this._dur),n,i)||this._startAt&&(this._zTime=r),this._onUpdate&&!n&&(r<0&&this._startAt&&this._startAt.render(r,!0,i),Lt(this,"onUpdate")),this._repeat&&d!==p&&this.vars.onRepeat&&!n&&this.parent&&Lt(this,"onRepeat"),(u===this._tDur||!u)&&this._tTime===u&&(r<0&&this._startAt&&!this._onUpdate&&this._startAt.render(r,!0,!0),(r||!c)&&(u===this._tDur&&this._ts>0||!u&&this._ts<0)&&Kt(this,1),!n&&!(r<0&&!a)&&(u||a)&&(Lt(this,u===s?"onComplete":"onReverseComplete",!0),this._prom&&!(u<s&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),l.prototype.invalidate.call(this)},t.resetTo=function(r,n,i,a){zn||yt.wake(),this._ts||this.play();var s=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||wa(this,s),c=this._ease(s/this._dur),Dm(this,r,n,i,a,c,s)?this.resetTo(r,n,i,a):(ba(this,0),this.parent||Sc(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,n){if(n===void 0&&(n="all"),!r&&(!n||n==="all"))return this._lazy=this._pt=0,this.parent?Mn(this):this;if(this.timeline){var i=this.timeline.totalDuration();return this.timeline.killTweensOf(r,n,cr&&cr.vars.overwrite!==!0)._first||Mn(this),this.parent&&i!==this.timeline.totalDuration()&&hn(this,this._dur*this.timeline._tDur/i,0,1),this}var a=this._targets,s=r?Ct(r):a,c=this._ptLookup,u=this._pt,f,h,d,m,p,v,g;if((!n||n==="all")&&cm(a,s))return n==="all"&&(this._pt=0),Mn(this);for(f=this._op=this._op||[],n!=="all"&&(je(n)&&(p={},pt(n,function(y){return p[y]=1}),n=p),n=Im(a,n)),g=a.length;g--;)if(~s.indexOf(a[g])){h=c[g],n==="all"?(f[g]=n,m=h,d={}):(d=f[g]=f[g]||{},m=n);for(p in m)v=h&&h[p],v&&((!("kill"in v.d)||v.d.kill(p)===!0)&&Vi(this,v,"_pt"),delete h[p]),d!=="all"&&(d[p]=1)}return this._initted&&!this._pt&&u&&Mn(this),this},o.to=function(r,n){return new o(r,n,arguments[2])},o.from=function(r,n){return Rn(1,arguments)},o.delayedCall=function(r,n,i,a){return new o(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:n,onReverseComplete:n,onCompleteParams:i,onReverseCompleteParams:i,callbackScope:a})},o.fromTo=function(r,n,i){return Rn(2,arguments)},o.set=function(r,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new o(r,n)},o.killTweensOf=function(r,n,i){return Ge.killTweensOf(r,n,i)},o}(Hn);Rt(Xe.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});pt("staggerTo,staggerFrom,staggerFromTo",function(l){Xe[l]=function(){var o=new ht,t=Vo.call(arguments,0);return t.splice(l==="staggerFromTo"?5:4,0,0),o[l].apply(o,t)}});var Ea=function(o,t,e){return o[t]=e},qc=function(o,t,e){return o[t](e)},Om=function(o,t,e,r){return o[t](r.fp,e)},Nm=function(o,t,e){return o.setAttribute(t,e)},Ta=function(o,t){return qe(o[t])?qc:ma(o[t])&&o.setAttribute?Nm:Ea},jc=function(o,t){return t.set(t.t,t.p,Math.round((t.s+t.c*o)*1e6)/1e6,t)},Vm=function(o,t){return t.set(t.t,t.p,!!(t.s+t.c*o),t)},Zc=function(o,t){var e=t._pt,r="";if(!o&&t.b)r=t.b;else if(o===1&&t.e)r=t.e;else{for(;e;)r=e.p+(e.m?e.m(e.s+e.c*o):Math.round((e.s+e.c*o)*1e4)/1e4)+r,e=e._next;r+=t.c}t.set(t.t,t.p,r,t)},Sa=function(o,t){for(var e=t._pt;e;)e.r(o,e.d),e=e._next},km=function(o,t,e,r){for(var n=this._pt,i;n;)i=n._next,n.p===r&&n.modifier(o,t,e),n=i},Gm=function(o){for(var t=this._pt,e,r;t;)r=t._next,t.p===o&&!t.op||t.op===o?Vi(this,t,"_pt"):t.dep||(e=1),t=r;return!e},zm=function(o,t,e,r){r.mSet(o,t,r.m.call(r.tween,e,r.mt),r)},$c=function(o){for(var t=o._pt,e,r,n,i;t;){for(e=t._next,r=n;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:i)?t._prev._next=t:n=t,(t._next=r)?r._prev=t:i=t,t=e}o._pt=n},mt=function(){function l(t,e,r,n,i,a,s,c,u){this.t=e,this.s=n,this.c=i,this.p=r,this.r=a||jc,this.d=s||this,this.set=c||Ea,this.pr=u||0,this._next=t,t&&(t._prev=this)}var o=l.prototype;return o.modifier=function(e,r,n){this.mSet=this.mSet||this.set,this.set=zm,this.m=e,this.mt=n,this.tween=r},l}();pt(_a+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(l){return ya[l]=1});bt.TweenMax=bt.TweenLite=Xe;bt.TimelineLite=bt.TimelineMax=ht;Ge=new ht({sortChildren:!1,defaults:un,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});_t.stringFilter=Vc;var wi={registerPlugin:function(){for(var o=arguments.length,t=new Array(o),e=0;e<o;e++)t[e]=arguments[e];t.forEach(function(r){return Tm(r)})},timeline:function(o){return new ht(o)},getTweensOf:function(o,t){return Ge.getTweensOf(o,t)},getProperty:function(o,t,e,r){je(o)&&(o=Ct(o)[0]);var n=kr(o||{}).get,i=e?Tc:Ec;return e==="native"&&(e=""),o&&(t?i((vt[t]&&vt[t].get||n)(o,t,e,r)):function(a,s,c){return i((vt[a]&&vt[a].get||n)(o,a,s,c))})},quickSetter:function(o,t,e){if(o=Ct(o),o.length>1){var r=o.map(function(u){return Gt.quickSetter(u,t,e)}),n=r.length;return function(u){for(var f=n;f--;)r[f](u)}}o=o[0]||{};var i=vt[t],a=kr(o),s=a.harness&&(a.harness.aliases||{})[t]||t,c=i?function(u){var f=new i;Jr._pt=0,f.init(o,e?u+e:u,Jr,0,[o]),f.render(1,f),Jr._pt&&Sa(1,Jr)}:a.set(o,s);return i?c:function(u){return c(o,s,e?u+e:u,a,1)}},quickTo:function(o,t,e){var r,n=Gt.to(o,Hr((r={},r[t]="+=0.1",r.paused=!0,r),e||{})),i=function(s,c,u){return n.resetTo(t,s,c,u)};return i.tween=n,i},isTweening:function(o){return Ge.getTweensOf(o,!0).length>0},defaults:function(o){return o&&o.ease&&(o.ease=zr(o.ease,un.ease)),Os(un,o||{})},config:function(o){return Os(_t,o||{})},registerEffect:function(o){var t=o.name,e=o.effect,r=o.plugins,n=o.defaults,i=o.extendTimeline;(r||"").split(",").forEach(function(a){return a&&!vt[a]&&!bt[a]&&_i(t+" effect requires "+a+" plugin.")}),oo[t]=function(a,s,c){return e(Ct(a),Rt(s||{},n),c)},i&&(ht.prototype[t]=function(a,s,c){return this.add(oo[t](a,tr(s)?s:(c=s)&&{},this),c)})},registerEase:function(o,t){Pe[o]=zr(t)},parseEase:function(o,t){return arguments.length?zr(o,t):Pe},getById:function(o){return Ge.getById(o)},exportRoot:function(o,t){o===void 0&&(o={});var e=new ht(o),r,n;for(e.smoothChildTiming=dt(o.smoothChildTiming),Ge.remove(e),e._dp=0,e._time=e._tTime=Ge._time,r=Ge._first;r;)n=r._next,(t||!(!r._dur&&r instanceof Xe&&r.vars.onComplete===r._targets[0]))&&Yt(e,r,r._start-r._delay),r=n;return Yt(Ge,e,0),e},utils:{wrap:Mm,wrapYoyo:wm,distribute:Fc,random:Dc,snap:Bc,normalize:bm,getUnit:tt,clamp:vm,splitColor:Oc,toArray:Ct,selector:ym,mapRange:Uc,pipe:_m,unitize:xm,interpolate:Em,shuffle:Rc},install:_c,effects:oo,ticker:yt,updateRoot:ht.updateRoot,plugins:vt,globalTimeline:Ge,core:{PropTween:mt,globals:xc,Tween:Xe,Timeline:ht,Animation:Hn,getCache:kr,_removeLinkedListItem:Vi,suppressOverwrites:function(o){return pa=o}}};pt("to,from,fromTo,delayedCall,set,killTweensOf",function(l){return wi[l]=Xe[l]});yt.add(ht.updateRoot);Jr=wi.to({},{duration:0});var Hm=function(o,t){for(var e=o._pt;e&&e.p!==t&&e.op!==t&&e.fp!==t;)e=e._next;return e},Wm=function(o,t){var e=o._targets,r,n,i;for(r in t)for(n=e.length;n--;)i=o._ptLookup[n][r],i&&(i=i.d)&&(i._pt&&(i=Hm(i,r)),i&&i.modifier&&i.modifier(t[r],o,e[n],r))},co=function(o,t){return{name:o,rawVars:1,init:function(r,n,i){i._onInit=function(a){var s,c;if(je(n)&&(s={},pt(n,function(u){return s[u]=1}),n=s),t){s={};for(c in n)s[c]=t(n[c]);n=s}Wm(a,n)}}}},Gt=wi.registerPlugin({name:"attr",init:function(o,t,e,r,n){var i,a;for(i in t)a=this.add(o,"setAttribute",(o.getAttribute(i)||0)+"",t[i],r,n,0,0,i),a&&(a.op=i),this._props.push(i)}},{name:"endArray",init:function(o,t){for(var e=t.length;e--;)this.add(o,e,o[e]||0,t[e])}},co("roundProps",ko),co("modifiers"),co("snap",Bc))||wi;Xe.version=ht.version=Gt.version="3.10.4";yc=1;dc()&&dn();Pe.Power0;Pe.Power1;var zs=Pe.Power2;Pe.Power3;Pe.Power4;Pe.Linear;Pe.Quad;Pe.Cubic;Pe.Quart;Pe.Quint;Pe.Strong;Pe.Elastic;Pe.Back;Pe.SteppedEase;Pe.Bounce;Pe.Sine;Pe.Expo;Pe.Circ;/*!
 * CSSPlugin 3.10.4
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Hs,ur,on,Aa,Or,Ws,Xm=function(){return typeof window!="undefined"},xr={},Br=180/Math.PI,an=Math.PI/180,qr=Math.atan2,Xs=1e8,Kc=/([A-Z])/g,Ym=/(left|right|width|margin|padding|x)/i,qm=/[\s,\(]\S/,fr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Qc=function(o,t){return t.set(t.t,t.p,Math.round((t.s+t.c*o)*1e4)/1e4+t.u,t)},jm=function(o,t){return t.set(t.t,t.p,o===1?t.e:Math.round((t.s+t.c*o)*1e4)/1e4+t.u,t)},Zm=function(o,t){return t.set(t.t,t.p,o?Math.round((t.s+t.c*o)*1e4)/1e4+t.u:t.b,t)},$m=function(o,t){var e=t.s+t.c*o;t.set(t.t,t.p,~~(e+(e<0?-.5:.5))+t.u,t)},Jc=function(o,t){return t.set(t.t,t.p,o?t.e:t.b,t)},eu=function(o,t){return t.set(t.t,t.p,o!==1?t.b:t.e,t)},Km=function(o,t,e){return o.style[t]=e},Qm=function(o,t,e){return o.style.setProperty(t,e)},Jm=function(o,t,e){return o._gsap[t]=e},ev=function(o,t,e){return o._gsap.scaleX=o._gsap.scaleY=e},tv=function(o,t,e,r,n){var i=o._gsap;i.scaleX=i.scaleY=e,i.renderTransform(n,i)},rv=function(o,t,e,r,n){var i=o._gsap;i[t]=e,i.renderTransform(n,i)},Qe="transform",br=Qe+"Origin",tu,zo=function(o,t){var e=ur.createElementNS?ur.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),o):ur.createElement(o);return e.style?e:ur.createElement(o)},Qt=function l(o,t,e){var r=getComputedStyle(o);return r[t]||r.getPropertyValue(t.replace(Kc,"-$1").toLowerCase())||r.getPropertyValue(t)||!e&&l(o,pn(t)||t,1)||""},Ys="O,Moz,ms,Ms,Webkit".split(","),pn=function(o,t,e){var r=t||Or,n=r.style,i=5;if(o in n&&!e)return o;for(o=o.charAt(0).toUpperCase()+o.substr(1);i--&&!(Ys[i]+o in n););return i<0?null:(i===3?"ms":i>=0?Ys[i]:"")+o},Ho=function(){Xm()&&window.document&&(Hs=window,ur=Hs.document,on=ur.documentElement,Or=zo("div")||{style:{}},zo("div"),Qe=pn(Qe),br=Qe+"Origin",Or.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",tu=!!pn("perspective"),Aa=1)},uo=function l(o){var t=zo("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),e=this.parentNode,r=this.nextSibling,n=this.style.cssText,i;if(on.appendChild(t),t.appendChild(this),this.style.display="block",o)try{i=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=l}catch{}else this._gsapBBox&&(i=this._gsapBBox());return e&&(r?e.insertBefore(this,r):e.appendChild(this)),on.removeChild(t),this.style.cssText=n,i},qs=function(o,t){for(var e=t.length;e--;)if(o.hasAttribute(t[e]))return o.getAttribute(t[e])},ru=function(o){var t;try{t=o.getBBox()}catch{t=uo.call(o,!0)}return t&&(t.width||t.height)||o.getBBox===uo||(t=uo.call(o,!0)),t&&!t.width&&!t.x&&!t.y?{x:+qs(o,["x","cx","x1"])||0,y:+qs(o,["y","cy","y1"])||0,width:0,height:0}:t},nu=function(o){return!!(o.getCTM&&(!o.parentNode||o.ownerSVGElement)&&ru(o))},Wn=function(o,t){if(t){var e=o.style;t in xr&&t!==br&&(t=Qe),e.removeProperty?((t.substr(0,2)==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),e.removeProperty(t.replace(Kc,"-$1").toLowerCase())):e.removeAttribute(t)}},hr=function(o,t,e,r,n,i){var a=new mt(o._pt,t,e,0,1,i?eu:Jc);return o._pt=a,a.b=r,a.e=n,o._props.push(e),a},js={deg:1,rad:1,turn:1},Mr=function l(o,t,e,r){var n=parseFloat(e)||0,i=(e+"").trim().substr((n+"").length)||"px",a=Or.style,s=Ym.test(t),c=o.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(s?"Width":"Height"),f=100,h=r==="px",d=r==="%",m,p,v,g;return r===i||!n||js[r]||js[i]?n:(i!=="px"&&!h&&(n=l(o,t,e,"px")),g=o.getCTM&&nu(o),(d||i==="%")&&(xr[t]||~t.indexOf("adius"))?(m=g?o.getBBox()[s?"width":"height"]:o[u],We(d?n/m*f:n/100*m)):(a[s?"width":"height"]=f+(h?i:r),p=~t.indexOf("adius")||r==="em"&&o.appendChild&&!c?o:o.parentNode,g&&(p=(o.ownerSVGElement||{}).parentNode),(!p||p===ur||!p.appendChild)&&(p=ur.body),v=p._gsap,v&&d&&v.width&&s&&v.time===yt.time?We(n/v.width*f):((d||i==="%")&&(a.position=Qt(o,"position")),p===o&&(a.position="static"),p.appendChild(Or),m=Or[u],p.removeChild(Or),a.position="absolute",s&&d&&(v=kr(p),v.time=yt.time,v.width=p[u]),We(h?m*n/f:m&&n?f/m*n:0))))},Dr=function(o,t,e,r){var n;return Aa||Ho(),t in fr&&t!=="transform"&&(t=fr[t],~t.indexOf(",")&&(t=t.split(",")[0])),xr[t]&&t!=="transform"?(n=Yn(o,r),n=t!=="transformOrigin"?n[t]:n.svg?n.origin:Ti(Qt(o,br))+" "+n.zOrigin+"px"):(n=o.style[t],(!n||n==="auto"||r||~(n+"").indexOf("calc("))&&(n=Ei[t]&&Ei[t](o,t,e)||Qt(o,t)||Mc(o,t)||(t==="opacity"?1:0))),e&&!~(n+"").trim().indexOf(" ")?Mr(o,t,n,e)+e:n},nv=function(o,t,e,r){if(!e||e==="none"){var n=pn(t,o,1),i=n&&Qt(o,n,1);i&&i!==e?(t=n,e=i):t==="borderColor"&&(e=Qt(o,"borderTopColor"))}var a=new mt(this._pt,o.style,t,0,1,Zc),s=0,c=0,u,f,h,d,m,p,v,g,y,x,w,M;if(a.b=e,a.e=r,e+="",r+="",r==="auto"&&(o.style[t]=r,r=Qt(o,t)||r,o.style[t]=e),u=[e,r],Vc(u),e=u[0],r=u[1],h=e.match(Qr)||[],M=r.match(Qr)||[],M.length){for(;f=Qr.exec(r);)v=f[0],y=r.substring(s,f.index),m?m=(m+1)%5:(y.substr(-5)==="rgba("||y.substr(-5)==="hsla(")&&(m=1),v!==(p=h[c++]||"")&&(d=parseFloat(p)||0,w=p.substr((d+"").length),v.charAt(1)==="="&&(v=nn(d,v)+w),g=parseFloat(v),x=v.substr((g+"").length),s=Qr.lastIndex-x.length,x||(x=x||_t.units[t]||w,s===r.length&&(r+=x,a.e+=x)),w!==x&&(d=Mr(o,t,p,x)||0),a._pt={_next:a._pt,p:y||c===1?y:",",s:d,c:g-d,m:m&&m<4||t==="zIndex"?Math.round:0});a.c=s<r.length?r.substring(s,r.length):""}else a.r=t==="display"&&r==="none"?eu:Jc;return vc.test(r)&&(a.e=0),this._pt=a,a},Zs={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},iv=function(o){var t=o.split(" "),e=t[0],r=t[1]||"50%";return(e==="top"||e==="bottom"||r==="left"||r==="right")&&(o=e,e=r,r=o),t[0]=Zs[e]||e,t[1]=Zs[r]||r,t.join(" ")},ov=function(o,t){if(t.tween&&t.tween._time===t.tween._dur){var e=t.t,r=e.style,n=t.u,i=e._gsap,a,s,c;if(n==="all"||n===!0)r.cssText="",s=1;else for(n=n.split(","),c=n.length;--c>-1;)a=n[c],xr[a]&&(s=1,a=a==="transformOrigin"?br:Qe),Wn(e,a);s&&(Wn(e,Qe),i&&(i.svg&&e.removeAttribute("transform"),Yn(e,1),i.uncache=1))}},Ei={clearProps:function(o,t,e,r,n){if(n.data!=="isFromStart"){var i=o._pt=new mt(o._pt,t,e,0,0,ov);return i.u=r,i.pr=-10,i.tween=n,o._props.push(e),1}}},Xn=[1,0,0,1,0,0],iu={},ou=function(o){return o==="matrix(1, 0, 0, 1, 0, 0)"||o==="none"||!o},$s=function(o){var t=Qt(o,Qe);return ou(t)?Xn:t.substr(7).match(mc).map(We)},Ca=function(o,t){var e=o._gsap||kr(o),r=o.style,n=$s(o),i,a,s,c;return e.svg&&o.getAttribute("transform")?(s=o.transform.baseVal.consolidate().matrix,n=[s.a,s.b,s.c,s.d,s.e,s.f],n.join(",")==="1,0,0,1,0,0"?Xn:n):(n===Xn&&!o.offsetParent&&o!==on&&!e.svg&&(s=r.display,r.display="block",i=o.parentNode,(!i||!o.offsetParent)&&(c=1,a=o.nextSibling,on.appendChild(o)),n=$s(o),s?r.display=s:Wn(o,"display"),c&&(a?i.insertBefore(o,a):i?i.appendChild(o):on.removeChild(o))),t&&n.length>6?[n[0],n[1],n[4],n[5],n[12],n[13]]:n)},Wo=function(o,t,e,r,n,i){var a=o._gsap,s=n||Ca(o,!0),c=a.xOrigin||0,u=a.yOrigin||0,f=a.xOffset||0,h=a.yOffset||0,d=s[0],m=s[1],p=s[2],v=s[3],g=s[4],y=s[5],x=t.split(" "),w=parseFloat(x[0])||0,M=parseFloat(x[1])||0,E,T,S,L;e?s!==Xn&&(T=d*v-m*p)&&(S=w*(v/T)+M*(-p/T)+(p*y-v*g)/T,L=w*(-m/T)+M*(d/T)-(d*y-m*g)/T,w=S,M=L):(E=ru(o),w=E.x+(~x[0].indexOf("%")?w/100*E.width:w),M=E.y+(~(x[1]||x[0]).indexOf("%")?M/100*E.height:M)),r||r!==!1&&a.smooth?(g=w-c,y=M-u,a.xOffset=f+(g*d+y*p)-g,a.yOffset=h+(g*m+y*v)-y):a.xOffset=a.yOffset=0,a.xOrigin=w,a.yOrigin=M,a.smooth=!!r,a.origin=t,a.originIsAbsolute=!!e,o.style[br]="0px 0px",i&&(hr(i,a,"xOrigin",c,w),hr(i,a,"yOrigin",u,M),hr(i,a,"xOffset",f,a.xOffset),hr(i,a,"yOffset",h,a.yOffset)),o.setAttribute("data-svg-origin",w+" "+M)},Yn=function(o,t){var e=o._gsap||new Hc(o);if("x"in e&&!t&&!e.uncache)return e;var r=o.style,n=e.scaleX<0,i="px",a="deg",s=Qt(o,br)||"0",c,u,f,h,d,m,p,v,g,y,x,w,M,E,T,S,L,P,R,B,V,z,X,G,k,j,$,Z,K,oe,ie,fe;return c=u=f=m=p=v=g=y=x=0,h=d=1,e.svg=!!(o.getCTM&&nu(o)),E=Ca(o,e.svg),e.svg&&(G=(!e.uncache||s==="0px 0px")&&!t&&o.getAttribute("data-svg-origin"),Wo(o,G||s,!!G||e.originIsAbsolute,e.smooth!==!1,E)),w=e.xOrigin||0,M=e.yOrigin||0,E!==Xn&&(P=E[0],R=E[1],B=E[2],V=E[3],c=z=E[4],u=X=E[5],E.length===6?(h=Math.sqrt(P*P+R*R),d=Math.sqrt(V*V+B*B),m=P||R?qr(R,P)*Br:0,g=B||V?qr(B,V)*Br+m:0,g&&(d*=Math.abs(Math.cos(g*an))),e.svg&&(c-=w-(w*P+M*B),u-=M-(w*R+M*V))):(fe=E[6],oe=E[7],$=E[8],Z=E[9],K=E[10],ie=E[11],c=E[12],u=E[13],f=E[14],T=qr(fe,K),p=T*Br,T&&(S=Math.cos(-T),L=Math.sin(-T),G=z*S+$*L,k=X*S+Z*L,j=fe*S+K*L,$=z*-L+$*S,Z=X*-L+Z*S,K=fe*-L+K*S,ie=oe*-L+ie*S,z=G,X=k,fe=j),T=qr(-B,K),v=T*Br,T&&(S=Math.cos(-T),L=Math.sin(-T),G=P*S-$*L,k=R*S-Z*L,j=B*S-K*L,ie=V*L+ie*S,P=G,R=k,B=j),T=qr(R,P),m=T*Br,T&&(S=Math.cos(T),L=Math.sin(T),G=P*S+R*L,k=z*S+X*L,R=R*S-P*L,X=X*S-z*L,P=G,z=k),p&&Math.abs(p)+Math.abs(m)>359.9&&(p=m=0,v=180-v),h=We(Math.sqrt(P*P+R*R+B*B)),d=We(Math.sqrt(X*X+fe*fe)),T=qr(z,X),g=Math.abs(T)>2e-4?T*Br:0,x=ie?1/(ie<0?-ie:ie):0),e.svg&&(G=o.getAttribute("transform"),e.forceCSS=o.setAttribute("transform","")||!ou(Qt(o,Qe)),G&&o.setAttribute("transform",G))),Math.abs(g)>90&&Math.abs(g)<270&&(n?(h*=-1,g+=m<=0?180:-180,m+=m<=0?180:-180):(d*=-1,g+=g<=0?180:-180)),t=t||e.uncache,e.x=c-((e.xPercent=c&&(!t&&e.xPercent||(Math.round(o.offsetWidth/2)===Math.round(-c)?-50:0)))?o.offsetWidth*e.xPercent/100:0)+i,e.y=u-((e.yPercent=u&&(!t&&e.yPercent||(Math.round(o.offsetHeight/2)===Math.round(-u)?-50:0)))?o.offsetHeight*e.yPercent/100:0)+i,e.z=f+i,e.scaleX=We(h),e.scaleY=We(d),e.rotation=We(m)+a,e.rotationX=We(p)+a,e.rotationY=We(v)+a,e.skewX=g+a,e.skewY=y+a,e.transformPerspective=x+i,(e.zOrigin=parseFloat(s.split(" ")[2])||0)&&(r[br]=Ti(s)),e.xOffset=e.yOffset=0,e.force3D=_t.force3D,e.renderTransform=e.svg?sv:tu?au:av,e.uncache=0,e},Ti=function(o){return(o=o.split(" "))[0]+" "+o[1]},fo=function(o,t,e){var r=tt(t);return We(parseFloat(t)+parseFloat(Mr(o,"x",e+"px",r)))+r},av=function(o,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,au(o,t)},Pr="0deg",_n="0px",Rr=") ",au=function(o,t){var e=t||this,r=e.xPercent,n=e.yPercent,i=e.x,a=e.y,s=e.z,c=e.rotation,u=e.rotationY,f=e.rotationX,h=e.skewX,d=e.skewY,m=e.scaleX,p=e.scaleY,v=e.transformPerspective,g=e.force3D,y=e.target,x=e.zOrigin,w="",M=g==="auto"&&o&&o!==1||g===!0;if(x&&(f!==Pr||u!==Pr)){var E=parseFloat(u)*an,T=Math.sin(E),S=Math.cos(E),L;E=parseFloat(f)*an,L=Math.cos(E),i=fo(y,i,T*L*-x),a=fo(y,a,-Math.sin(E)*-x),s=fo(y,s,S*L*-x+x)}v!==_n&&(w+="perspective("+v+Rr),(r||n)&&(w+="translate("+r+"%, "+n+"%) "),(M||i!==_n||a!==_n||s!==_n)&&(w+=s!==_n||M?"translate3d("+i+", "+a+", "+s+") ":"translate("+i+", "+a+Rr),c!==Pr&&(w+="rotate("+c+Rr),u!==Pr&&(w+="rotateY("+u+Rr),f!==Pr&&(w+="rotateX("+f+Rr),(h!==Pr||d!==Pr)&&(w+="skew("+h+", "+d+Rr),(m!==1||p!==1)&&(w+="scale("+m+", "+p+Rr),y.style[Qe]=w||"translate(0, 0)"},sv=function(o,t){var e=t||this,r=e.xPercent,n=e.yPercent,i=e.x,a=e.y,s=e.rotation,c=e.skewX,u=e.skewY,f=e.scaleX,h=e.scaleY,d=e.target,m=e.xOrigin,p=e.yOrigin,v=e.xOffset,g=e.yOffset,y=e.forceCSS,x=parseFloat(i),w=parseFloat(a),M,E,T,S,L;s=parseFloat(s),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,s+=u),s||c?(s*=an,c*=an,M=Math.cos(s)*f,E=Math.sin(s)*f,T=Math.sin(s-c)*-h,S=Math.cos(s-c)*h,c&&(u*=an,L=Math.tan(c-u),L=Math.sqrt(1+L*L),T*=L,S*=L,u&&(L=Math.tan(u),L=Math.sqrt(1+L*L),M*=L,E*=L)),M=We(M),E=We(E),T=We(T),S=We(S)):(M=f,S=h,E=T=0),(x&&!~(i+"").indexOf("px")||w&&!~(a+"").indexOf("px"))&&(x=Mr(d,"x",i,"px"),w=Mr(d,"y",a,"px")),(m||p||v||g)&&(x=We(x+m-(m*M+p*T)+v),w=We(w+p-(m*E+p*S)+g)),(r||n)&&(L=d.getBBox(),x=We(x+r/100*L.width),w=We(w+n/100*L.height)),L="matrix("+M+","+E+","+T+","+S+","+x+","+w+")",d.setAttribute("transform",L),y&&(d.style[Qe]=L)},lv=function(o,t,e,r,n){var i=360,a=je(n),s=parseFloat(n)*(a&&~n.indexOf("rad")?Br:1),c=s-r,u=r+c+"deg",f,h;return a&&(f=n.split("_")[1],f==="short"&&(c%=i,c!==c%(i/2)&&(c+=c<0?i:-i)),f==="cw"&&c<0?c=(c+i*Xs)%i-~~(c/i)*i:f==="ccw"&&c>0&&(c=(c-i*Xs)%i-~~(c/i)*i)),o._pt=h=new mt(o._pt,t,e,r,c,jm),h.e=u,h.u="deg",o._props.push(e),h},Ks=function(o,t){for(var e in t)o[e]=t[e];return o},cv=function(o,t,e){var r=Ks({},e._gsap),n="perspective,force3D,transformOrigin,svgOrigin",i=e.style,a,s,c,u,f,h,d,m;r.svg?(c=e.getAttribute("transform"),e.setAttribute("transform",""),i[Qe]=t,a=Yn(e,1),Wn(e,Qe),e.setAttribute("transform",c)):(c=getComputedStyle(e)[Qe],i[Qe]=t,a=Yn(e,1),i[Qe]=c);for(s in xr)c=r[s],u=a[s],c!==u&&n.indexOf(s)<0&&(d=tt(c),m=tt(u),f=d!==m?Mr(e,s,c,m):parseFloat(c),h=parseFloat(u),o._pt=new mt(o._pt,a,s,f,h-f,Qc),o._pt.u=m||0,o._props.push(s));Ks(a,r)};pt("padding,margin,Width,Radius",function(l,o){var t="Top",e="Right",r="Bottom",n="Left",i=(o<3?[t,e,r,n]:[t+n,t+e,r+e,r+n]).map(function(a){return o<2?l+a:"border"+a+l});Ei[o>1?"border"+l:l]=function(a,s,c,u,f){var h,d;if(arguments.length<4)return h=i.map(function(m){return Dr(a,m,c)}),d=h.join(" "),d.split(h[0]).length===5?h[0]:d;h=(u+"").split(" "),d={},i.forEach(function(m,p){return d[m]=h[p]=h[p]||h[(p-1)/2|0]}),a.init(s,d,f)}});var su={name:"css",register:Ho,targetTest:function(o){return o.style&&o.nodeType},init:function(o,t,e,r,n){var i=this._props,a=o.style,s=e.vars.startAt,c,u,f,h,d,m,p,v,g,y,x,w,M,E,T;Aa||Ho();for(p in t)if(p!=="autoRound"&&(u=t[p],!(vt[p]&&Wc(p,t,e,r,o,n)))){if(d=typeof u,m=Ei[p],d==="function"&&(u=u.call(e,r,o,n),d=typeof u),d==="string"&&~u.indexOf("random(")&&(u=Gn(u)),m)m(this,o,p,u,e)&&(T=1);else if(p.substr(0,2)==="--")c=(getComputedStyle(o).getPropertyValue(p)+"").trim(),u+="",gr.lastIndex=0,gr.test(c)||(v=tt(c),g=tt(u)),g?v!==g&&(c=Mr(o,p,c,g)+g):v&&(u+=v),this.add(a,"setProperty",c,u,r,n,0,0,p),i.push(p);else if(d!=="undefined"){if(s&&p in s?(c=typeof s[p]=="function"?s[p].call(e,r,o,n):s[p],je(c)&&~c.indexOf("random(")&&(c=Gn(c)),tt(c+"")||(c+=_t.units[p]||tt(Dr(o,p))||""),(c+"").charAt(1)==="="&&(c=Dr(o,p))):c=Dr(o,p),h=parseFloat(c),y=d==="string"&&u.charAt(1)==="="&&u.substr(0,2),y&&(u=u.substr(2)),f=parseFloat(u),p in fr&&(p==="autoAlpha"&&(h===1&&Dr(o,"visibility")==="hidden"&&f&&(h=0),hr(this,a,"visibility",h?"inherit":"hidden",f?"inherit":"hidden",!f)),p!=="scale"&&p!=="transform"&&(p=fr[p],~p.indexOf(",")&&(p=p.split(",")[0]))),x=p in xr,x){if(w||(M=o._gsap,M.renderTransform&&!t.parseTransform||Yn(o,t.parseTransform),E=t.smoothOrigin!==!1&&M.smooth,w=this._pt=new mt(this._pt,a,Qe,0,1,M.renderTransform,M,0,-1),w.dep=1),p==="scale")this._pt=new mt(this._pt,M,"scaleY",M.scaleY,(y?nn(M.scaleY,y+f):f)-M.scaleY||0),i.push("scaleY",p),p+="X";else if(p==="transformOrigin"){u=iv(u),M.svg?Wo(o,u,0,E,0,this):(g=parseFloat(u.split(" ")[2])||0,g!==M.zOrigin&&hr(this,M,"zOrigin",M.zOrigin,g),hr(this,a,p,Ti(c),Ti(u)));continue}else if(p==="svgOrigin"){Wo(o,u,1,E,0,this);continue}else if(p in iu){lv(this,M,p,h,y?nn(h,y+u):u);continue}else if(p==="smoothOrigin"){hr(this,M,"smooth",M.smooth,u);continue}else if(p==="force3D"){M[p]=u;continue}else if(p==="transform"){cv(this,u,o);continue}}else p in a||(p=pn(p)||p);if(x||(f||f===0)&&(h||h===0)&&!qm.test(u)&&p in a)v=(c+"").substr((h+"").length),f||(f=0),g=tt(u)||(p in _t.units?_t.units[p]:v),v!==g&&(h=Mr(o,p,c,g)),this._pt=new mt(this._pt,x?M:a,p,h,(y?nn(h,y+f):f)-h,!x&&(g==="px"||p==="zIndex")&&t.autoRound!==!1?$m:Qc),this._pt.u=g||0,v!==g&&g!=="%"&&(this._pt.b=c,this._pt.r=Zm);else if(p in a)nv.call(this,o,p,c,y?y+u:u);else if(p in o)this.add(o,p,c||o[p],y?y+u:u,r,n);else{ga(p,u);continue}i.push(p)}}T&&$c(this)},get:Dr,aliases:fr,getSetter:function(o,t,e){var r=fr[t];return r&&r.indexOf(",")<0&&(t=r),t in xr&&t!==br&&(o._gsap.x||Dr(o,"x"))?e&&Ws===e?t==="scale"?ev:Jm:(Ws=e||{})&&(t==="scale"?tv:rv):o.style&&!ma(o.style[t])?Km:~t.indexOf("-")?Qm:Ta(o,t)},core:{_removeProperty:Wn,_getMatrix:Ca}};Gt.utils.checkPrefix=pn;(function(l,o,t,e){var r=pt(l+","+o+","+t,function(n){xr[n]=1});pt(o,function(n){_t.units[n]="deg",iu[n]=1}),fr[r[13]]=l+","+o,pt(e,function(n){var i=n.split(":");fr[i[1]]=r[i[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");pt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(l){_t.units[l]="px"});Gt.registerPlugin(su);var Xo=Gt.registerPlugin(su)||Gt;Xo.core.Tween;var uv="/export-import3/assets/tmmap.b3a7007c.png";const fv={class:"absolute top-0 left-0 z-[-1]",id:"map"},hv={__name:"ThreeMap",setup(l){var o,t,e,r,n,i,a;r=window.innerWidth,n=window.innerHeight;var s=new Et.exports.Vector3(0,0,0),c=0,u=function(p){var v=document.createElement("canvas");v.width=p.width,v.height=p.height;var g=v.getContext("2d");return g.drawImage(p,0,0),g.getImageData(0,0,p.width,p.height)},f=function(){for(var p=new Et.exports.Geometry,v=new Et.exports.PointsMaterial({size:4,color:1655319,opacity:.7,sizeAttenuation:!1}),g=0,y=a.height;g<y;g+=2)for(var x=0,w=a.width;x<w;x+=2)if(a.data[x*4+g*4*a.width+3]>128){var M=new Et.exports.Vector3;M.x=Math.random()*1e3-500,M.y=Math.random()*1e3-500,M.z=-Math.random()*500,M.destination={x:x-a.width/2,y:-g+a.height/2,z:0},M.speed=Math.random()/200+.015,p.vertices.push(M)}i=new Et.exports.Points(p,v),t.add(i),requestAnimationFrame(m)},h=function(){Et.exports.ImageUtils.crossOrigin="",o=new Et.exports.WebGLRenderer({canvas:document.getElementById("map"),antialias:!0,alpha:!0}),o.setSize(r,n),o.setClearColor(0,0),t=new Et.exports.Scene,e=new Et.exports.PerspectiveCamera(50,r/n,.1,1e4),e.position.set(-100,0,220),e.lookAt(s),t.add(e),new Et.exports.TextureLoader().load(uv,function(p){a=u(p.image),f()}),window.addEventListener("resize",d,!1)},d=function(){r=window.innerWidth,n=window.innerHeight,o.setSize(r,n),e.aspect=r/n,e.updateProjectionMatrix()},m=function(p){requestAnimationFrame(m);for(var v=0,g=i.geometry.vertices.length;v<g;v++){var y=i.geometry.vertices[v];y.x+=(y.destination.x-y.x)*y.speed,y.y+=(y.destination.y-y.y)*y.speed,y.z+=(y.destination.z-y.z)*y.speed}if(p-c>100){var x=Math.floor(Math.random()*i.geometry.vertices.length),w=i.geometry.vertices[x],M=i.geometry.vertices[i.geometry.vertices.length-x];Xo.to(y,Math.random()*2+1,{x:M.x,y:M.y,ease:zs.easeInOut}),Xo.to(M,Math.random()*2+1,{x:w.x,y:w.y,ease:zs.easeInOut}),c=p}i.geometry.verticesNeedUpdate=!0,e.position.x=Math.sin(p/5e3)*100,e.lookAt(s),o.render(t,e)};return aa(()=>{h()}),(p,v)=>(Je(),ct("canvas",fv))}},dv=D("img",{class:"w-full absolute top-0 left-0 z-[-2]",src:fp,alt:""},null,-1),pv={class:"wrapper max-w-[1980px] mx-auto px-8"},mv={class:"w-full py-8"},vv={class:"flex justify-between px-4"},gv={class:"lang relative"},yv={key:0,class:"w-60 px-4 py-2 text-lg bg-white absolute left-0 rounded-lg mt-2 font-medium"},_v=D("div",{class:"drop-item cursor-pointer py-2 border-b"},[D("h1",null,"T\xFCrkmen\xE7e")],-1),xv=D("div",{class:"drop-item cursor-pointer py-2 border-b font-medium"},[D("h1",null,"\u0420\u0443\u0441\u0441\u043A\u0438\u0439")],-1),bv=D("div",{class:"drop-item cursor-pointer py-2"},[D("h1",null,"English")],-1),Mv=[_v,xv,bv],wv={class:"center"},Ev=D("div",{class:"img"},[D("img",{src:hp,alt:""})],-1),Tv=D("h1",{class:"uppercase ml-4 leading-tight font-bold font-montserrat text-white"},[qt(" \u0415\u0414\u0418\u041D\u041E\u0415 \u041E\u041A\u041D\u041E \u0420\u0415\u0421\u041F\u0423\u0411\u041B\u0418\u041A\u0418 \u0422\u0443\u0440\u043A\u043C\u0435\u043D\u0438\u0441\u0442\u0430\u043D "),D("br"),qt(" \u0414\u041B\u042F \u042D\u041A\u0421\u041F\u041E\u0420\u0422\u041D\u041E-\u0418\u041C\u041F\u041E\u0420\u0422\u041D\u042B\u0425 \u041E\u041F\u0415\u0420\u0410\u0426\u0418\u0419 ")],-1),Sv={class:"profile relative"},Av={key:0,class:"w-60 px-4 py-2 text-lg bg-white absolute right-4 rounded-lg mt-2"},Cv=D("div",{class:"drop-item cursor-pointer py-2 border-b"},[D("h1",null,"\u0421\u0430\u043C\u043E\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F")],-1),Lv=D("div",{class:"drop-item cursor-pointer py-2"},[D("h1",null,"\u0412\u043E\u0439\u0442\u0438")],-1),Pv=[Cv,Lv],Rv={class:"flex justify-between mt-8"},Fv={class:"link-item hover:bg-black/20 cursor-pointer border-2 rounded-full px-4 py-2 text-sm text-white font-medium flex items-center"},Bv={class:"w-15"},Dv=D("h1",{class:"ml-4"},"\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u044B\u0435 \u043B\u0438\u0446\u0435\u043D\u0437\u0438\u0438 \u0438 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u044F",-1),Iv={class:"link-item hover:bg-black/20 cursor-pointer border-2 rounded-full px-4 py-2 ml-4 text-sm text-white font-medium flex items-center"},Uv={class:"w-15"},Ov=D("h1",{class:"ml-4"},"\u0412\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u0435 \u0432 \u0442\u0430\u043C\u043E\u0436\u043D\u043D\u044B\u0435 \u0440\u0435\u0435\u0441\u0442\u0440\u044B",-1),Nv={class:"link-item hover:bg-black/20 cursor-pointer border-2 rounded-full px-4 py-2 ml-4 text-sm text-white font-medium flex items-center"},Vv={class:"w-15"},kv=D("h1",{class:"ml-4"},"\u0418\u043D\u0442\u0435\u0433\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0439 \u0442\u0430\u0440\u0438\u0444 \u0441\u0438\u0441\u0442\u0435\u043C\u044B \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F",-1),Gv={class:"link-item hover:bg-black/20 cursor-pointer border-2 rounded-full px-4 py-2 ml-4 text-sm text-white font-medium flex items-center"},zv={class:"w-15"},Hv=D("h1",{class:"ml-4"},"\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0435 \u0442\u0430\u043C\u043E\u0436\u043D\u043D\u043E\u0435 \u0434\u0435\u043A\u043B\u0430\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435",-1),Wv={class:"link-item hover:bg-black/20 cursor-pointer border-2 rounded-full px-4 py-2 ml-4 text-sm text-white font-medium flex items-center"},Xv={class:"w-15"},Yv=D("h1",{class:"ml-4"},"\u0417\u0430\u043A\u043E\u043D\u043E\u0434\u0430\u0442\u0435\u043B\u044C\u0441\u0442\u0432\u043E \u0438 \u043F\u0440\u0430\u0432\u0438\u043B\u0430",-1),qv={class:"link-item hover:bg-black/20 cursor-pointer border-2 rounded-full px-4 py-2 ml-4 text-sm text-white font-medium flex items-center"},jv={class:"w-15"},Zv=D("h1",{class:"ml-4"},"\u0420\u0435\u0435\u0441\u0442\u0440\u044B \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u043E\u0432",-1),$v={class:"link-item hover:bg-black/20 cursor-pointer border-2 rounded-full px-4 py-2 ml-4 text-sm text-white font-medium flex items-center"},Kv={class:"w-15"},Qv=D("h1",{class:"ml-4"},"\u0421\u043F\u0440\u0430\u0432\u043E\u0447\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F",-1),Jv=D("div",{class:"mt-30 w-full text-center"},[D("h1",{class:"font-semibold leading-normal tracking-wide text-7xl text-white"},[qt(" \u0414\u043E\u0431\u0440\u043E \u043F\u043E\u0436\u0430\u043B\u043E\u0432\u0430\u0442\u044C \u043D\u0430 "),D("br"),qt(" \u041F\u043E\u0440\u0442\u0430\u043B \u0415\u0434\u0438\u043D\u043E\u0433\u043E o\u043A\u043D\u0430 \u0434\u043B\u044F "),D("br"),qt(" \u044D\u043A\u0441\u043F\u043E\u0440\u0442\u043D\u043E-\u0438\u043C\u043F\u043E\u0440\u0442\u043D\u044B\u0445 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439 ")])],-1),eg={class:"mt-50 max-w-7xl px-8 mx-auto flex flex-col gap-y-8"},tg={class:"row flex gap-8"},rg={class:"item group cursor-pointer bg-white px-8 pt-8 pb-10 w-1/2 relative rounded-xl flex"},ng={class:"left"},ig={class:"w-25"},og={class:"right ml-6"},ag=D("h1",{class:"text-2xl font-bold group-hover:underline"}," \u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0435 \u0442\u0430\u043C\u043E\u0436\u043D\u043D\u043E\u0435 \u0434\u0435\u043A\u043B\u0430\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 ",-1),sg={class:"flex text-lg items-center text-[#00a600] group-hover:underline mt-4 font-medium group-hover:underline"},lg=qt(" \u041F\u0440\u043E\u0441\u043C\u043E\u0442\u0440 \u0441\u0441\u044B\u043B\u043E\u043A "),cg={class:"w-5 ml-4 text-[#00a600]"},ug=D("img",{class:"absolute bottom-0 w-[95%] left-1/2 transform -translate-x-1/2",src:Ni,alt:""},null,-1),fg={class:"item group cursor-pointer bg-white px-8 pt-8 pb-10 w-1/2 relative rounded-xl flex"},hg={class:"left"},dg={class:"w-25"},pg={class:"right ml-6"},mg=D("h1",{class:"text-2xl font-bold group-hover:underline"}," \u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0435 \u0442\u0430\u043C\u043E\u0436\u043D\u043D\u043E\u0435 \u0434\u0435\u043A\u043B\u0430\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 ",-1),vg={class:"flex text-lg items-center text-[#00a600] group-hover:underline mt-4 font-medium"},gg=qt(" \u041F\u0440\u043E\u0441\u043C\u043E\u0442\u0440 \u0441\u0441\u044B\u043B\u043E\u043A "),yg={class:"w-5 ml-4 text-[#00a600]"},_g=D("img",{class:"absolute bottom-0 w-[95%] left-1/2 transform -translate-x-1/2",src:Ni,alt:""},null,-1),xg={class:"row flex gap-8"},bg={class:"item group cursor-pointer bg-white px-8 pt-8 pb-10 w-1/2 relative rounded-xl flex"},Mg={class:"left"},wg={class:"w-25"},Eg={class:"right ml-6"},Tg=D("h1",{class:"text-2xl font-bold group-hover:underline"}," \u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0435 \u0442\u0430\u043C\u043E\u0436\u043D\u043D\u043E\u0435 \u0434\u0435\u043A\u043B\u0430\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 ",-1),Sg={class:"flex text-lg items-center text-[#00a600] group-hover:underline mt-4 font-medium"},Ag=qt(" \u041F\u0440\u043E\u0441\u043C\u043E\u0442\u0440 \u0441\u0441\u044B\u043B\u043E\u043A "),Cg={class:"w-5 ml-4 text-[#00a600]"},Lg=D("img",{class:"absolute bottom-0 w-[95%] left-1/2 transform -translate-x-1/2",src:Ni,alt:""},null,-1),Pg={class:"item group cursor-pointer bg-white px-8 pt-8 pb-10 w-1/2 relative rounded-xl flex"},Rg={class:"left"},Fg={class:"w-25"},Bg={class:"right ml-6"},Dg=D("h1",{class:"text-2xl font-bold group-hover:underline"}," \u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0435 \u0442\u0430\u043C\u043E\u0436\u043D\u043D\u043E\u0435 \u0434\u0435\u043A\u043B\u0430\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 ",-1),Ig={class:"flex text-lg items-center text-[#00a600] group-hover:underline mt-4 font-medium"},Ug=qt(" \u041F\u0440\u043E\u0441\u043C\u043E\u0442\u0440 \u0441\u0441\u044B\u043B\u043E\u043A "),Og={class:"w-5 ml-4 text-[#00a600]"},Ng=D("img",{class:"absolute bottom-0 w-[95%] left-1/2 transform -translate-x-1/2",src:Ni,alt:""},null,-1),Vg={class:"max-w-7xl mx-auto mt-60"},kg={class:"border-b border-transparent hover:border-primary"},Gg={class:"item group hover:border-primary cursor-pointer py-3.5 flex items-center border-b border-[#B8C4F1]"},zg={class:"icon w-25 p-2"},Hg=D("h1",{class:"text-4xl font-lora font-medium ml-6"}," \u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u044B\u0435 \u043B\u0438\u0446\u0435\u043D\u0437\u0438\u0438 \u0438 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u044F ",-1),Wg={class:"ml-auto hidden group-hover:flex"},Xg={class:"w-8 transform -rotate-90"},Yg={class:"w-8 transform -rotate-90"},qg={class:"w-8 transform -rotate-90"},jg={class:"border-b border-transparent hover:border-primary"},Zg={class:"item group hover:border-primary cursor-pointer py-3.5 flex items-center border-b border-[#B8C4F1]"},$g={class:"icon w-25 p-2"},Kg=D("h1",{class:"text-4xl font-lora font-medium ml-6"}," \u0412\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u0435 \u0432 \u0442\u0430\u043C\u043E\u0436\u043D\u043D\u044B\u0435 \u0440\u0435\u0435\u0441\u0442\u0440\u044B ",-1),Qg={class:"ml-auto hidden group-hover:flex"},Jg={class:"w-8 transform -rotate-90"},ey={class:"w-8 transform -rotate-90"},ty={class:"w-8 transform -rotate-90"},ry={class:"border-b border-transparent hover:border-primary"},ny={class:"item group hover:border-primary cursor-pointer py-3.5 flex items-center border-b border-[#B8C4F1]"},iy={class:"icon w-25 p-2"},oy=D("h1",{class:"text-4xl font-lora font-medium ml-6"}," \u0418\u043D\u0442\u0435\u0433\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0439 \u0442\u0430\u0440\u0438\u0444 \u0441\u0438\u0441\u0442\u0435\u043C\u044B \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F ",-1),ay={class:"ml-auto hidden group-hover:flex"},sy={class:"w-8 transform -rotate-90"},ly={class:"w-8 transform -rotate-90"},cy={class:"w-8 transform -rotate-90"},uy={class:"border-b border-transparent hover:border-primary"},fy={class:"item group hover:border-primary cursor-pointer py-3.5 flex items-center border-b border-[#B8C4F1]"},hy={class:"icon w-25 p-2"},dy=D("h1",{class:"text-4xl font-lora font-medium ml-6"}," \u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0435 \u0442\u0430\u043C\u043E\u0436\u043D\u043D\u043E\u0435 \u0434\u0435\u043A\u043B\u0430\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 ",-1),py={class:"ml-auto hidden group-hover:flex"},my={class:"w-8 transform -rotate-90"},vy={class:"w-8 transform -rotate-90"},gy={class:"w-8 transform -rotate-90"},yy={class:"border-b border-transparent hover:border-primary"},_y={class:"item group hover:border-primary cursor-pointer py-3.5 flex items-center border-b border-[#B8C4F1]"},xy={class:"icon w-25 p-2"},by=D("h1",{class:"text-4xl font-lora font-medium ml-6"}," \u0417\u0430\u043A\u043E\u043D\u043E\u0434\u0430\u0442\u0435\u043B\u044C\u0441\u0442\u0432\u043E \u0438 \u043F\u0440\u0430\u0432\u0438\u043B\u0430 ",-1),My={class:"ml-auto hidden group-hover:flex"},wy={class:"w-8 transform -rotate-90"},Ey={class:"w-8 transform -rotate-90"},Ty={class:"w-8 transform -rotate-90"},Sy={class:"border-b border-transparent hover:border-primary"},Ay={class:"item group hover:border-primary cursor-pointer py-3.5 flex items-center border-b border-[#B8C4F1]"},Cy={class:"icon w-25 p-2"},Ly=D("h1",{class:"text-4xl font-lora font-medium ml-6"}," \u0420\u0435\u0435\u0441\u0442\u0440\u044B \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u043E\u0432 ",-1),Py={class:"ml-auto hidden group-hover:flex"},Ry={class:"w-8 transform -rotate-90"},Fy={class:"w-8 transform -rotate-90"},By={class:"w-8 transform -rotate-90"},Dy={class:"border-b border-transparent hover:border-primary"},Iy={class:"item group hover:border-primary cursor-pointer py-3.5 flex items-center border-b border-[#B8C4F1]"},Uy={class:"icon w-25 p-2"},Oy=D("h1",{class:"text-4xl font-lora font-medium ml-6"}," \u0421\u043F\u0440\u0430\u0432\u043E\u0447\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F ",-1),Ny={class:"ml-auto hidden group-hover:flex"},Vy={class:"w-8 transform -rotate-90"},ky={class:"w-8 transform -rotate-90"},Gy={class:"w-8 transform -rotate-90"},zy=Zl('<footer class="mt-50"><div class="top flex justify-between py-4"><div class="footer-item"><h1 class="text-primary text-2xl">\u041F\u0440\u044F\u043C\u044B\u0435 \u0421\u0441\u044B\u043B\u043A\u0438</h1><div class="inner text-black mt-4"><p class="mt-1">\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0435 \u0442\u0430\u043C\u043E\u0436\u0435\u043D\u043D\u043E\u0435 \u0434\u0435\u043A\u043B\u0430\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435</p><p class="mt-1">\u0422\u0430\u043C\u043E\u0436\u0435\u043D\u043D\u044B\u0439 \u0442\u0430\u0440\u0438\u0444</p><p class="mt-1">\u0417\u0430\u043A\u043E\u043D\u043E\u0434\u0430\u0442\u0435\u043B\u044C\u0441\u0442\u0432\u043E \u0438 \u043F\u0440\u0430\u0432\u0438\u043B\u0430</p><p class="mt-1">\u0412\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u0435 \u0432 \u0442\u0430\u043C\u043E\u0436\u0435\u043D\u043D\u044B\u0435 \u0440\u0435\u0435\u0441\u0442\u0440\u044B</p><p class="mt-1">\u0413\u043E\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0435 \u043E\u0440\u0433\u0430\u043D\u044B</p><p class="mt-1">\u041E\u0442\u0447\u0435\u0442\u044B \u0438 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430</p></div></div><div class="footer-item"><h1 class="text-primary text-2xl">\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C</h1><div class="inner text-black mt-4"><p class="mt-1">\u0421\u0430\u043C\u043E\u0441\u0442\u043E\u044F\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0446\u0438\u044F</p><p class="mt-1">\u0412\u043E\u0439\u0442\u0438</p><p class="mt-1">\u041E\u043D\u043B\u0430\u0439\u043D \u043E\u0431\u0443\u0447\u0435\u043D\u0438\u0435</p><p class="mt-1">\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u043E\u043D\u043D\u0430\u044F \u043F\u0430\u043D\u0435\u043B\u044C</p></div></div><div class="footer-item"><h1 class="text-primary text-2xl">\u0421\u043F\u0440\u0430\u0432\u043E\u0447\u043D\u0430\u044F \u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F</h1><div class="inner text-black mt-4"><p class="mt-1">\u041E\u0442\u0441\u043B\u0435\u0436\u0438\u0432\u0430\u043D\u0438\u0435 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u043E\u0432</p><p class="mt-1">\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F \u043E \u041A\u0432\u043E\u0442\u0430\u0445</p><p class="mt-1">\u0418\u043D\u0442\u0435\u0440\u0430\u043A\u0442\u0438\u0432\u043D\u0430\u044F \u043A\u0430\u0440\u0442\u0430</p><p class="mt-1">\u041F\u043E\u0438\u0441\u043A</p></div></div><div class="footer-item"><h1 class="text-primary text-2xl">\u0421\u043B\u0443\u0436\u0431\u0430 \u041F\u043E\u0434i\u043A\u043A\u0438</h1><div class="inner text-black mt-4"><p class="mt-1">\u0421\u0432\u044F\u0436\u0438\u0442\u0435\u0441\u044C \u0441 \u043D\u0430\u043C\u0438</p><p class="mt-1">\u041E\u043D\u043B\u0430\u0439\u043D-\u043E\u0431\u0443\u0447\u0435\u043D\u0438\u0435</p><p class="mt-1">\u041F\u043E\u0438\u0441\u043A</p></div></div></div><div class="bottom border-t flex justify-between text-sm text-[#3e3e3e] py-4"><div class="left"><p class="mt-1">\u0410\u0432\u0442\u043E\u0440\u0441\u043A\u0438\u0435 \u043F\u0440\u0430\u0432\u0430 \xA9 2021 - 2022</p><p class="mt-1">\u0412\u0441\u0435 \u043F\u0440\u0430\u0432\u0430 \u0437\u0430\u0449\u0438\u0449\u0435\u043D\u044B</p><p class="mt-1"> \u0415\u0434\u0438\u043D\u043E\u0435 \u043E\u043A\u043D\u043E \u0420\u0435\u0441\u043F\u0443\u0431\u043B\u0438\u043A\u0438 \u0422\u0423\u0420\u041A\u041C\u0415\u041D\u0418\u0421\u0422\u0410\u041D \u0434\u043B\u044F \u0438\u043C\u043F\u043E\u0440\u0442\u043D\u044B\u0445-\u044D\u043A\u0441\u043F\u043E\u0440\u0442\u043D\u044B\u0445 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439 </p></div><div class="right text-sm text-[#3e3e3e]"><h1 class="underline mt-1">\u0423\u0441\u043B\u043E\u0432\u0438\u044F \u0418\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u044F</h1><h1 class="underline mt-1">\u041F\u043E\u043B\u0438\u0442\u0438\u043A\u0430 \u041A\u043E\u043D\u0444\u0438\u0434\u0435\u043D\u0446\u0438\u0430\u043B\u044C\u043D\u043E\u0441\u0442\u0438</h1><h1 class="underline mt-1">\u041F\u043E\u0434\u0434\u0435\u0440\u0436\u043A\u0430</h1></div></div></footer>',1),Hy={name:"HomeView"},Wy=Object.assign(Hy,{setup(l){const o=yo(!1),t=yo(!1);return(e,r)=>{const n=Ul("RouterLink");return Je(),ct(Dt,null,[Me(hv),dv,D("div",pv,[D("header",mv,[D("div",vv,[D("div",gv,[D("div",{onClick:r[0]||(r[0]=i=>{t.value=!t.value,o.value=!1}),class:ye(["w-12 mr-4 border-2 cursor-pointer p-0.5 border-transparent rounded-full",t.value?"border-[#AFBAE2]":"hover:border-[#AFBAE2]"])},[Me(gp,{show:t.value},null,8,["show"])],2),t.value?(Je(),ct("div",yv,Mv)):ls("",!0)]),D("div",wv,[Me(n,{to:"/",class:"left flex items-center"},{default:Sl(()=>[Ev,Tv]),_:1})]),D("div",Sv,[D("div",{onClick:r[1]||(r[1]=i=>{o.value=!o.value,t.value=!1}),class:ye(["w-12 mr-4 border-2 cursor-pointer p-0.5 border-transparent rounded-full relative",o.value?"border-[#AFBAE2]":"hover:border-[#AFBAE2]"])},[Me(wp,{show:o.value},null,8,["show"])],2),o.value?(Je(),ct("div",Av,Pv)):ls("",!0)])]),D("nav",Rv,[D("div",Fv,[D("div",Bv,[Me(Bs)]),Dv]),D("div",Iv,[D("div",Uv,[Me(Ds)]),Ov]),D("div",Nv,[D("div",Vv,[Me(Is)]),kv]),D("div",Gv,[D("div",zv,[Me(eo)]),Hv]),D("div",Wv,[D("div",Xv,[Me(to)]),Yv]),D("div",qv,[D("div",jv,[Me(ro)]),Zv]),D("div",$v,[D("div",Kv,[Me(no)]),Qv])])]),Jv,D("div",eg,[D("div",tg,[D("div",rg,[D("div",ng,[D("div",ig,[Me(eo,{class:"transform group-hover:-translate-y-2 transition-transform duration-200",blue:""})])]),D("div",og,[ag,D("p",sg,[lg,D("span",cg,[Me(ni)])])]),ug]),D("div",fg,[D("div",hg,[D("div",dg,[Me(to,{class:"transform group-hover:-translate-y-2 transition-transform duration-200",blue:""})])]),D("div",pg,[mg,D("p",vg,[gg,D("span",yg,[Me(ni)])])]),_g])]),D("div",xg,[D("div",bg,[D("div",Mg,[D("div",wg,[Me(ro,{class:"transform group-hover:-translate-y-2 transition-transform duration-200",blue:""})])]),D("div",Eg,[Tg,D("p",Sg,[Ag,D("span",Cg,[Me(ni)])])]),Lg]),D("div",Pg,[D("div",Rg,[D("div",Fg,[Me(no,{class:"transform group-hover:-translate-y-2 transition-transform duration-200",blue:""})])]),D("div",Bg,[Dg,D("p",Ig,[Ug,D("span",Og,[Me(ni)])])]),Ng])])]),D("div",Vg,[D("div",kg,[D("div",Gg,[D("div",zg,[Me(Bs,{blue:!0})]),Hg,D("div",Wg,[D("div",Xg,[Me(He)]),D("div",Yg,[Me(He)]),D("div",qg,[Me(He)])])])]),D("div",jg,[D("div",Zg,[D("div",$g,[Me(Ds,{blue:!0})]),Kg,D("div",Qg,[D("div",Jg,[Me(He)]),D("div",ey,[Me(He)]),D("div",ty,[Me(He)])])])]),D("div",ry,[D("div",ny,[D("div",iy,[Me(Is,{blue:!0})]),oy,D("div",ay,[D("div",sy,[Me(He)]),D("div",ly,[Me(He)]),D("div",cy,[Me(He)])])])]),D("div",uy,[D("div",fy,[D("div",hy,[Me(eo,{blue:!0})]),dy,D("div",py,[D("div",my,[Me(He)]),D("div",vy,[Me(He)]),D("div",gy,[Me(He)])])])]),D("div",yy,[D("div",_y,[D("div",xy,[Me(to,{blue:!0})]),by,D("div",My,[D("div",wy,[Me(He)]),D("div",Ey,[Me(He)]),D("div",Ty,[Me(He)])])])]),D("div",Sy,[D("div",Ay,[D("div",Cy,[Me(ro,{blue:!0})]),Ly,D("div",Py,[D("div",Ry,[Me(He)]),D("div",Fy,[Me(He)]),D("div",By,[Me(He)])])])]),D("div",Dy,[D("div",Iy,[D("div",Uy,[Me(no,{blue:!0})]),Oy,D("div",Ny,[D("div",Vy,[Me(He)]),D("div",ky,[Me(He)]),D("div",Gy,[Me(He)])])])])]),zy])],64)}}}),Xy=cp({history:Ed("/export-import3/"),routes:[{path:"/",name:"home",component:Wy}]});const lu=rd(ad);lu.use(Xy);lu.mount("#app");
